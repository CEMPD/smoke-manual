<?xml version="1.0" encoding="UTF-8"?>

<chapter id="ch_intermediate_files">

<title>SMOKE Intermediate Files</title>

<section id="sect_intmed_introduction">

<title>Introduction</title>

<para>An intermediate file is a file that is output from one SMOKE program and input to another SMOKE program. All other files output from programs are considered output files; these are documented in <xref linkend="ch_output_files" />.</para>

<para>In this chapter, the intermediate files are organized under headings named for the SMOKE programs that create the files; the files are listed alphabetically within each program section. The order of the programs within the chapter is also alphabetical. Please note that some file types have multiple file names, one per source category. For example, the multiplicative control matrix file name is <envar>ACMAT</envar>, <envar>MCMAT</envar>, or <envar>PCMAT</envar>, depending on whether the area, mobile, or point source category is being processed by <command>Cntlmat</command>. In these cases of multiple names for a single file type, the file description is listed one time for all intermediate files.</para>

</section>

<section id="sect_intmed_cntlmat">

<title><command>Cntlmat</command></title>

<para>The <command>Cntlmat</command> program is responsible for creating the growth and control matrices. <command>Cntlmat</command> creates the following intermediate files:</para>

<itemizedlist>
<listitem>
<para>Multiplicative control matrix: <xref linkend="sect_intmed_ampcmat" /></para>
</listitem>
<listitem>
<para>Growth matrix: <xref linkend="sect_intmed_amppmat" /></para>
</listitem>
<listitem>
<para>Reactivity control matrix: <xref linkend="sect_intmed_amprmat" /></para>
</listitem>
</itemizedlist>

<section id="sect_intmed_ampcmat">

<title><envar>ACMAT</envar>, <envar>MCMAT</envar>, and <envar>PCMAT</envar></title>

<para>Type: I/O API NetCDF - adapted gridded format</para>

<para>Used by: <command>Grwinven</command>, <command>Smkmerge</command>, and <command>Smkreport</command></para> 

<table>
<title>I/O API Header for <envar>ACMAT</envar>, <envar>MCMAT</envar>, and <envar>PCMAT</envar></title>
<tgroup cols="3">
<colspec colwidth="25*" />
<colspec colwidth="35*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>I/O API Header variable</entry>
<entry>Meaning</entry>
<entry>Set by...</entry>
</row>
</thead>

<tbody>
<row>
<entry>NROWS3D</entry>
<entry>Number of sources in the inventory</entry>
<entry>NROWS3D from the <envar>AREA</envar>, <envar>MOBL</envar>, or <envar>PNTS</envar> file</entry>
</row>
<row>
<entry>NVARS3D</entry>
<entry>Number of pollutants that have control factors</entry>
<entry>The contents of the <envar>GCNTL</envar> file indicate which pollutants will be controlled.</entry>
</row>
</tbody>
</tgroup>
</table>

<table>
<title>Variables in <envar>ACMAT</envar>, <envar>MCMAT</envar>, and <envar>PCMAT</envar></title>
<tgroup cols="4">
<colspec colwidth="30*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>Variable Name</entry>
<entry>Type</entry>
<entry>Units</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>Name of pollutant 1</entry>
<entry>Real</entry>
<entry>Unitless</entry>
<entry>Adjustment factor for pollutant 1</entry>
</row>
<row>
<entry>...</entry>
<entry>...</entry>
<entry>...</entry>
<entry>...</entry>
</row>
<row>
<entry>Name of pollutant NVARS3D</entry>
<entry>Real</entry>
<entry>Unitless</entry>
<entry>Adjustment factor for pollutant NVARS3D</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_intmed_amppmat">

<title><envar>APMAT</envar>, <envar>MPMAT</envar>, and <envar>PPMAT</envar></title>

<para>Type: I/O API NetCDF - adapted gridded format</para>

<para>Used by: <command>Grwinven</command>, <command>Smkmerge</command>, <command>Smkreport</command></para>

<table>
<title>I/O API Header for <envar>APMAT</envar>, <envar>MPMAT</envar>, and <envar>PPMAT</envar></title>
<tgroup cols="3">
<colspec colwidth="25*" />
<colspec colwidth="35*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>I/O API Header variable</entry>
<entry>Meaning</entry>
<entry>Set by...</entry>
</row>
</thead>

<tbody>
<row>
<entry>NROWS3D</entry>
<entry>Number of sources in the inventory</entry>
<entry>NROWS3D from the <envar>AREA</envar>, <envar>MOBL</envar>, or <envar>PNTS</envar> file</entry>
</row>
</tbody>
</tgroup>
</table>

<table>
<title>Variables in <envar>APMAT</envar>, <envar>MPMAT</envar>, and <envar>PPMAT</envar></title>
<tgroup cols="4">
<colspec colwidth="25*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="45*" />

<thead>
<row>
<entry>Variable Name</entry>
<entry>Type</entry>
<entry>Units</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>pfac</entry>
<entry>Real</entry>
<entry>Unitless</entry>
<entry>Projection factor</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_intmed_amprmat">

<title><envar>ARMAT</envar>, <envar>MRMAT</envar>, and <envar>PRMAT</envar></title>

<para>Type: I/O API NetCDF - adapted gridded format</para>

<para>Used by: <command>Grwinven</command> and <command>Smkmerge</command></para> 

<table>
<title>I/O API Header for <envar>ARMAT</envar>, <envar>MRMAT</envar>, and <envar>PRMAT</envar></title>
<tgroup cols="3">
<colspec colwidth="25*" />
<colspec colwidth="35*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>I/O API Header variable</entry>
<entry>Meaning</entry>
<entry>Set by...</entry>
</row>
</thead>

<tbody>
<row>
<entry>NROWS3D</entry>
<entry>Number of reactivity sources </entry>
<entry>NSREAC from the GENREACT subroutine</entry>
</row>
<row>
<entry>NVARS3D</entry>
<entry>Number of reactivity species plus the four base variables</entry>
<entry>The contents of the <envar>GSPRO</envar> file</entry>
</row>
<row>
<entry>NTHIK3D</entry>
<entry>The number of SMOKE sources</entry>
<entry><envar>NSRC</envar> from the <command>Smkinven</command> program</entry>
</row>
</tbody>
</tgroup>
</table>

<table>
<title>Variables in <envar>ARMAT</envar>, <envar>MRMAT</envar>, and <envar>PRMAT</envar></title>
<tgroup cols="4">
<colspec colwidth="30*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>Variable Name</entry>
<entry>Type</entry>
<entry>Units</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>SRCID</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Inventory source ID (position)</entry>
</row>
<row>
<entry>REPEMIS</entry>
<entry>Real</entry>
<entry>UNITS from the <envar>AREA</envar>, <envar>MOBL</envar>, or <envar>PNTS</envar> file</entry>
<entry>Reactivity base-year emissions</entry>
</row>
<row>
<entry>PRJFAC</entry>
<entry>Real </entry>
<entry>Unitless </entry>
<entry>Reactivity projection factor</entry>
</row>
<row>
<entry>MKTPEN</entry>
<entry>Real</entry>
<entry>Fraction</entry>
<entry>Reactivity control market penetration</entry>
</row>
<row>
<entry>Name of species 1</entry>
<entry>Real</entry>
<entry>g/ton or mol/ton</entry>
<entry>Inventory pollutant combined with model species name</entry>
</row>
<row>
<entry>...</entry>
<entry>...</entry>
<entry>...</entry>
<entry>...</entry>
</row>
<row>
<entry>Name of species NVARS3D</entry>
<entry>Real</entry>
<entry>g/ton or mol/ton</entry>
<entry>Inventory pollutant combined with model species name</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

<section id="sect_intmed_elevpoint">

<title><command>Elevpoint</command></title>

<para>The <command>Elevpoint</command> program is responsible for selecting the elevated sources. <command>Elevpoint</command> creates the following intermediate files:</para>

<itemizedlist>
<listitem>
<para>Elevated-point-source identification file: <xref linkend="sect_intmed_pelv" /></para>
</listitem>
<listitem>
<para>Stack groups file: <xref linkend="sect_intmed_stack_groups" /></para>
</listitem>
</itemizedlist>

<section id="sect_intmed_pelv">

<title><envar>PELV</envar></title>

<para>Type: ASCII - list-directed</para>

<para>Used by: <command>Laypoint</command>, <command>Smkmerge</command>, and <command>Smkreport</command></para>

<table>
<title>File columns in <envar>PELV</envar></title>
<tgroup cols="5">
<colspec colname="Line" colwidth="1*" />
<colspec colname="Column" colwidth="1*" />
<colspec colname="Type" colwidth="1*" />
<colspec colname="Units" colwidth="1*" />
<colspec colname="Description" colwidth="4*" />

<thead>
<row>
<entry>Line</entry>
<entry>Column</entry>
<entry>Type</entry>
<entry>Units</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry>Integer</entry>
<entry>Unitless </entry>
<entry>Source number for elevated source, zero if a PinG source</entry>
</row>
<row>
<entry colname="Column">B</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Source number for PinG source, zero if simply an elevated source</entry>
</row>
<row>
<entry colname="Column">C</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Group number for source</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_intmed_stack_groups">

<title><envar>STACK_GROUPS</envar></title>

<para>Type: I/O API NetCDF - adapted gridded format</para>

<para>Used by: <command>Laypoint</command> and <command>Smkmerge</command></para>

<table>
<title>I/O API Header for <envar>STACK_GROUPS</envar></title>
<tgroup cols="3">
<colspec colwidth="25*" />
<colspec colwidth="35*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>I/O API Header variable</entry>
<entry>Meaning</entry>
<entry>Set by...</entry>
</row>
</thead>

<tbody>
<row>
<entry>NROWS3D</entry>
<entry>Number of PinG groups</entry>
<entry>Determined by the <envar>PELVCONFIG</envar> file</entry>
</row>
</tbody>
</tgroup>
</table>

<table>
<title>Variables in <envar>STACK_GROUPS</envar></title>
<tgroup cols="4">
<colspec colwidth="25*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="45*" />

<thead>
<row>
<entry>Variable Name</entry>
<entry>Type</entry>
<entry>Units</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>ISTACK</entry>
<entry>Integer</entry>
<entry>Unitless </entry>
<entry>Stack group number</entry>
</row>
<row>
<entry>LATITUDE</entry>
<entry>Real</entry>
<entry>degrees</entry>
<entry>Latitude</entry>
</row>
<row>
<entry>LONGITUDE</entry>
<entry>Real</entry>
<entry>degrees</entry>
<entry>Longitude</entry>
</row>
<row>
<entry>STKDM</entry>
<entry>Real</entry>
<entry>m</entry>
<entry>Inside stack diameter</entry>
</row>
<row>
<entry>STKHT</entry>
<entry>Real</entry>
<entry>m</entry>
<entry>Stack height above ground surface</entry>
</row>
<row>
<entry>STKTK</entry>
<entry>Real</entry>
<entry>K</entry>
<entry>Stack exit temperature</entry>
</row>
<row>
<entry>STKVE</entry>
<entry>Real</entry>
<entry>m/s</entry>
<entry>Stack exit velocity</entry>
</row>
<row>
<entry>STKFLW</entry>
<entry>Real</entry>
<entry>m<superscript>3</superscript>/s</entry>
<entry>Stack exit flow rate</entry>
</row>
<row>
<entry>STKCNT</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Number of stacks in group</entry>
</row>
<row>
<entry>ROW</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Grid row number</entry>
</row>
<row>
<entry>COL</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Grid column number</entry>
</row>
<row>
<entry>XLOCA</entry>
<entry>Real</entry>
<entry>Coordinate system projection units</entry>
<entry>Projection x coordinate</entry>
</row>
<row>
<entry>YLOCA</entry>
<entry>Real</entry>
<entry>Coordinate system projection units</entry>
<entry>Projection y coordinate</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

<section id="sect_intmed_grdmat">

<title><command>Grdmat</command></title>

<para>The <command>Grdmat</command> program is responsible for creating the gridding matrix. <command>Grdmat</command> creates the following intermediate files:</para>

<itemizedlist>
<listitem>
<para>Gridding matrix file: <xref linkend="sect_intmed_ampgmat" /></para>
</listitem>
</itemizedlist>

<section id="sect_intmed_ampgmat">

<title><envar>AGMAT</envar>, <envar>MGMAT</envar>, and <envar>PGMAT</envar></title>

<para>Type: I/O API NetCDF - adapted gridded format</para>

<para>Used by: <command>Smkmerge</command> and <command>Smkreport</command></para>

<table>
<title>I/O API Header for <envar>AGMAT</envar>, <envar>MGMAT</envar>, and <envar>PGMAT</envar></title>
<tgroup cols="3">
<colspec colwidth="25*" />
<colspec colwidth="35*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>I/O API Header variable</entry>
<entry>Meaning</entry>
<entry>Set by...</entry>
</row>
</thead>

<comment>this isn't right - the gridding matrix is more complicated</comment>

<tbody>
<row>
<entry>NCOLS3D</entry>
<entry>Number of source-cell intersections</entry>
<entry>Determined by the grid and the sources in the inventory</entry>
</row>
<row>
<entry>NROWS3D</entry>
<entry>Number of cells in the grid</entry>
<entry>Number of columns times number of rows in the grid</entry>
</row>
</tbody>
</tgroup>
</table>

<table>
<title>Variables in <envar>AGMAT</envar>, <envar>MGMAT</envar>, and <envar>PGMAT</envar></title>
<tgroup cols="4">
<colspec colwidth="25*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="45*" />

<thead>
<row>
<entry>Variable Name</entry>
<entry>Type</entry>
<entry>Units</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>COEFF-INDEX</entry>
<entry>Real</entry>
<entry>Unitless</entry>
<entry>Source gridding coefficients</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

<section id="sect_intmed_grwinven">

<title><command>Grwinven</command></title>

<para>The <command>Grwinven</command> program is responsible for applying growth and controls to the inventory. <command>Grwinven</command> creates the following intermediate files:</para>

<itemizedlist>
<listitem>
<para>Grown inventory file: <xref linkend="sect_intmed_area_o" /></para>
</listitem>
<listitem>
<para>Grown IDA/ORL inventory file: <xref linkend="sect_intmed_arinv_o" /></para>
</listitem>
</itemizedlist>

<section id="sect_intmed_area_o">

<title><envar>AREA_O</envar>, <envar>MOBL_O</envar> and <envar>PNTS_O</envar></title>

<para>Type: I/O API NetCDF - adapted gridded format</para>

<para>Used by: <command>Cntlmat</command>, <command>Elevpoint</command>, <command>Grdmat</command>, <command>Grwinven</command>, <command>Laypoint</command>, <command>Smkmerge</command>, <command>Spcmat</command>, and <command>Temporal</command></para>

<table>
<title>I/O API Header for <envar>AREA_O</envar>, <envar>MOBL_O</envar>, and <envar>PNTS_O</envar></title>
<tgroup cols="3">
<colspec colwidth="25*" />
<colspec colwidth="35*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>I/O API Header variable</entry>
<entry>Meaning</entry>
<entry>Set by...</entry>
</row>
</thead>

<tbody>
<row>
<entry>NROWS3D</entry>
<entry>Number of sources</entry>
<entry>NROWS3D from the <envar>AREA</envar>, <envar>MOBL</envar>, or <envar>PNTS</envar> file</entry>
</row>
<row>
<entry>NVARS3D</entry>
<entry>Number of variables in the file</entry>
<entry>Based on source category</entry>
</row>
</tbody>
</tgroup>
</table>

<table>
<title>Variables in <envar>AREA_O</envar>, <envar>MOBL_O</envar>, and <envar>PNTS_O</envar></title>
<tgroup cols="4">
<colspec colwidth="30*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>Variable Name</entry>
<entry>Type</entry>
<entry>Units</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>IFIP</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>State and county FIPS code</entry>
</row>
<row>
<entry>TZONES</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Time zone for site</entry>
</row>
<row>
<entry>TPFLAG</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Use week, month temporal profiles or not</entry>
</row>
<row>
<entry>INVYR</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Year of inventory for this record</entry>
</row>
<row>
<entry>CELLID</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Cell number</entry>
</row>
<row>
<entry>IRCLAS</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Roadway type (mobile only)</entry>
</row>
<row>
<entry>IVTYPE</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Vehicle type code (mobile only)</entry>
</row>
<row>
<entry>XLOC1</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Longitude at beginning of link (mobile only)</entry>
</row>
<row>
<entry>YLOC1</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Latitude at beginning of link (mobile only)</entry>
</row>
<row>
<entry>XLOC2</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Longitude at end of link (mobile only)</entry>
</row>
<row>
<entry>YLOC2</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Latitude at end of link (mobile only)</entry>
</row>
<row>
<entry>ISIC</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>SIC code (area or point only)</entry>
</row>
<row>
<entry>XLOCA</entry>
<entry>Real</entry>
<entry>degrees</entry>
<entry>Longitude (area or point only)</entry>
</row>
<row>
<entry>YLOCA</entry>
<entry>Real</entry>
<entry>degrees</entry>
<entry>Latitude (area or point only)</entry>
</row>
<row>
<entry>STKHT</entry>
<entry>Real</entry>
<entry>m</entry>
<entry>Stack height (point only)</entry>
</row>
<row>
<entry>STKDM</entry>
<entry>Real</entry>
<entry>ms</entry>
<entry>Stack diameter (point only)</entry>
</row>
<row>
<entry>STKTK</entry>
<entry>Real</entry>
<entry>K</entry>
<entry>Stack exhaust temperature (point only)</entry>
</row>
<row>
<entry>STKVE</entry>
<entry>Real</entry>
<entry>m/s</entry>
<entry>Stack exit velocity (point only)</entry>
</row>
<row>
<entry>Name of pollutant 1></entry>
<entry>Real</entry>
<entry>ton/yr</entry>
<entry>Annual emissions for pollutant 1</entry>
</row>
<row>
<entry>OS_&lt;Pollutant name 1&gt;</entry>
<entry>Real</entry>
<entry>ton/day</entry>
<entry>Ozone season emissions for pollutant 1</entry>
</row>
<row>
<entry>EF_&lt;Pollutant name 1&gt;</entry>
<entry>Real</entry>
<entry>SCC units</entry>
<entry>Emission factor for pollutant 1</entry>
</row>
<row>
<entry>CE_&lt;Pollutant name 1&gt;</entry>
<entry>Real</entry>
<entry>Unitless</entry>
<entry>Control efficiency fraction for pollutant 1</entry>
</row>
<row>
<entry>RE_&lt;Pollutant name 1&gt;</entry>
<entry>Real</entry>
<entry>Unitless</entry>
<entry>Rule effectiveness fraction for pollutant 1</entry>
</row>
<row>
<entry>RP_&lt;Pollutant name 1&gt;</entry>
<entry>Real</entry>
<entry>Unitless</entry>
<entry>Rule penetration fraction for pollutant 1</entry>
</row>
<row>
<entry>...</entry>
<entry>...</entry>
<entry>...</entry>
<entry>...</entry>
</row>
<row>
<entry>Name of pollutant NVARS3D</entry>
<entry>Real</entry>
<entry>ton/yr</entry>
<entry>Annual emissions for pollutant NVARS3D</entry>
</row>
<row>
<entry>OS_&lt;Pollutant name NVARS3D&gt;</entry>
<entry>Real</entry>
<entry>ton/day</entry>
<entry>Ozone season emissions for pollutant NVARS3D</entry>
</row>
<row>
<entry>EF_&lt;Pollutant name NVARS3D&gt;</entry>
<entry>Real</entry>
<entry>SCC units</entry>
<entry>Emission factor for pollutant NVARS3D</entry>
</row>
<row>
<entry>CE_&lt;Pollutant name NVARS3D&gt;</entry>
<entry>Real</entry>
<entry>Unitless</entry>
<entry>Control efficiency fraction for pollutant NVARS3D</entry>
</row>
<row>
<entry>RE_&lt;Pollutant name NVARS3D&gt;</entry>
<entry>Real</entry>
<entry>Unitless</entry>
<entry>Rule effectiveness fraction for pollutant NVARS3D</entry>
</row>
<row>
<entry>RP_&lt;Pollutant name NVARS3D&gt;</entry>
<entry>Real</entry>
<entry>Unitless</entry>
<entry>Rule penetration fraction for pollutant NVARS3D</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_intmed_arinv_o">

<title><envar>ARINV_O</envar>, <envar>MBINV_O</envar>, <envar>MBINV_AO</envar>, <envar>PTINV_O</envar></title>

<para>Type: ASCII - column-specific</para>

<para>Used by: <command>Smkinven</command></para>

<para>See <xref linkend="ch_input_files" /> for the formats of the <envar>ARINV</envar>, <envar>MBINV</envar>, and <envar>PTINV</envar> files.</para>

</section>

</section>

<section id="sect_intmed_laypoint">

<title><command>Laypoint</command></title>

<para>The <command>Laypoint</command> program is responsible for computing layer fractions for point sources. <command>Laypoint</command> creates the following intermediate files:</para>

<itemizedlist>
<listitem>
<para>Layer fractions file: <xref linkend="sect_intmed_play" /></para>
</listitem>
</itemizedlist>

<section id="sect_intmed_play">

<title><envar>PLAY</envar> and <envar>PLAY_EX</envar></title>

<para>Type: I/O API NetCDF - adapted gridded format</para>

<para>Used by: <command>Smkmerge</command> and <command>Smkreport</command></para>

<table>
<title>I/O API Header for <envar>PLAY</envar> and <envar>PLAY_EX</envar></title>
<tgroup cols="3">
<colspec colwidth="25*" />
<colspec colwidth="35*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>I/O API Header variable</entry>
<entry>Meaning</entry>
<entry>Set by...</entry>
</row>
</thead>

<tbody>
<row>
<entry>NROWS3D</entry>
<entry>Number of point sources or number of explicit sources</entry>
<entry>Number of sources in the <envar>PNTS</envar> file, or number of explicit sources in the <envar>PHOUR</envar> file</entry>
</row>
</tbody>
</tgroup>
</table>

<table>
<title>Variables in <envar>PLAY</envar> and <envar>PLAY_EX</envar></title>
<tgroup cols="4">
<colspec colwidth="25*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="45*" />

<thead>
<row>
<entry>Variable Name</entry>
<entry>Type</entry>
<entry>Units</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>INDXH</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Source number (for explicit sources only)</entry>
</row>
<row>
<entry>LFRAC</entry>
<entry>Real</entry>
<entry>Unitless</entry>
<entry>Fraction of plume emitted into layer</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

<section id="sect_intmed_met4moves">

<title><command>Met4moves</command></title>

<para>The <command>Met4moves</command> program is responsible for creating inputs for the MOVES Driver Script and the SMOKE <command>Movesmrg</command> program. <command>Met4moves</command> creates the following intermediate files:</para>

<itemizedlist>
<listitem>
<para><xref linkend="sect_intmed_moves_output" /></para>
</listitem>
<listitem>
<para><xref linkend="sect_intmed_smoke_output" /></para>
</listitem>
</itemizedlist>

<section id="sect_intmed_moves_output">

<title><envar>MOVES_OUTFILE</envar></title>

<para>Type: ASCII - column-specific</para>

<para>Used by: MOVES driver script.</para>
<para>The output file created by <command>Met4moves</command> for use by the MOVES driver script contains the absolute minimum and maximum temperatures and average RH values associated with each reference county.  The scope of these in/max temperatures extends across the selected grid cells in the county group associated with that reference county.  The min/max temperatures determine the MOVES runs that are needed for generating the RPD and RPV emission rates.  The temperature increments listed in the header are used to define the temperature bins used to optimize the MOVES runs. In addition, the output file prepared for the MOVES driver script contains sets of 24 hour diurnal temperature profiles based on combinations of min/max temperature bins for each reference county; these are necessary for the MOVES vapor-venting emissions calculation that is performed for the RPP emissions process.  For a specific reference county and fuel month, the monthly average RH value is identical for all the records.</para>

<table>
<title>File columns in <envar>MOVES_OUTFILE</envar></title>
<tgroup cols="5">
<colspec colname="Line" colwidth="1*" />
<colspec colname="Column" colwidth="1*" />
<colspec colname="Type" colwidth="1*" />
<colspec colname="Units" colwidth="1*" />
<colspec colname="Description" colwidth="4*" />

<thead>
<row>
<entry>Line</entry>
<entry>Column</entry>
<entry>Type</entry>
<entry>Units</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Reference County</entry>
</row>
<row>
<entry colname="Column">B</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>fuelMonth</entry>
</row>
<row>
<entry colname="Column">C</entry>
<entry>Character</entry>
<entry>Unitless</entry>
<entry>temperatureProfileID</entry>
</row>
<row>
<entry colname="Column">D</entry>
<entry>Real</entry>
<entry>%</entry>
<entry>RH</entry>
</row>
<row>
<entry colname="Column">E</entry>
<entry>Real</entry>
<entry>Fahrenheit</entry>
<entry>Temp1(Min)</entry>
</row>
<row>
<entry colname="Column">F</entry>
<entry>Real</entry>
<entry>Fahrenheit</entry>
<entry>Temp2(Max)</entry>
</row>
<row>
<entry colname="Column">G</entry>
<entry>Real</entry>
<entry>Fahrenheit</entry>
<entry>Temp3</entry>
</row>
<row>
<entry colname="Column">H</entry>
<entry>Real</entry>
<entry>Fahrenheit</entry>
<entry>Temp4</entry>
</row>
<row>
<entry colname="Column">...</entry>
<entry>...</entry>
<entry>...</entry>
<entry>...</entry>
</row>
<row>
<entry colname="Column">AB</entry>
<entry>Real</entry>
<entry>Fahrenheit</entry>
<entry>Temp24</entry>
</row>
</tbody>
</tgroup>
</table>

</section>
<section id="sect_intmed_smoke_output">

<title><envar>SMOKE_OUTFILE(=METMOVES)</envar></title>

<para>Type: ASCII - column-specific</para>

<para>Used by: <command>Movesmrg</command> (if RPP_MODE=Y).</para>
<para>The output file created by <command>Met4moves</command> program for use by the MOVES and SMOKE models contains county-specific min/max temperatures and averaged RH values in local time for every inventory county and daily or monthly averaging period in the modeling inventory.  SMOKE adjusts the native MCIP time zone (GMT) to local time in order to properly use the SMOKE-ready lookup tables, which are given in local time.  This output contains the calendar month (Month), the fuel month (fuelMonth) and Julian date (julianDate) used by SMOKE to generate the hourly gridded, speciated air quality model-ready emissions using SMOKE-ready MOVES lookup tables.  Averaging method could be set to daily or monthly. When it is set to monthly, julianDate column will contain the last Julian date of the averaging month.</para>
<table>
<title>File columns in <envar>SMOKE_OUTFILE</envar></title>
<tgroup cols="5">
<colspec colname="Line" colwidth="1*" />
<colspec colname="Column" colwidth="1*" />
<colspec colname="Type" colwidth="1*" />
<colspec colname="Units" colwidth="1*" />
<colspec colname="Description" colwidth="4*" />

<thead>
<row>
<entry>Line</entry>
<entry>Column</entry>
<entry>Type</entry>
<entry>Units</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Inventory County</entry>
</row>
<row>
<entry colname="Column">B</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>fuelMonth</entry>
</row>
<row>
<entry colname="Column">C</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Month</entry>
</row>
<row>
<entry colname="Column">D</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>julianDate</entry>
</row>
<row>
<entry colname="Column">E</entry>
<entry>Real</entry>
<entry>%</entry>
<entry>RH</entry>
</row>
<row>
<entry colname="Column">F</entry>
<entry>Real</entry>
<entry>Fahrenheit</entry>
<entry>Minimum Temperature</entry>
</row>
<row>
<entry colname="Column">G</entry>
<entry>Real</entry>
<entry>Fahrenheit</entry>
<entry>Maximum Temperature</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
</section>
<section id="sect_intmed_movesmrg">

<title><command>Movesmrg</command></title>

<para>The <command>Movesmrg</command> program is responsible for creating model-ready emissions files. <command>Smkmerge</command> creates the following intermediate file:</para>

<itemizedlist>
<listitem>
<para>Model-ready emissions file: <xref linkend="sect_intmed_mvsmerged" /></para>
</listitem>
</itemizedlist>

<section id="sect_intmed_mvsmerged">

<title><envar>[M][G][T][S][_S][_L]</envar></title>

<para>Type: ASCII - adapted gridded format</para>

<para>Used by: <command>Mrggrid</command> and <command>Movesmrg</command></para>

<para>These files can be model-ready emissions files from mobile source categories (MOVES).  See <xref linkend="sect_output_egts" /> for format information.</para>

</section>

</section>

<section id="sect_intmed_normbeis3">

<title><command>Normbeis3</command></title>

<para>The <command>Normbeis3</command> program is responsible for computing normalized biogenic emissions. <command>Normbeis3</command> creates the following intermediate file:</para>

<itemizedlist>
<listitem>
<para>Normalized biogenic emissions file: <xref linkend="sect_intmed_b3grd" /></para>
</listitem>
</itemizedlist>

<section id="sect_intmed_b3grd">

<title><envar>B3GRD</envar></title>

<para>Type: I/O API NetCDF - adapted gridded format</para>

<para>Used by: <command>Tmpbeis3</command></para>

<table>
<title>I/O API Header for <envar>B3GRD</envar></title>
<tgroup cols="3">
<colspec colwidth="25*" />
<colspec colwidth="35*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>I/O API Header variable</entry>
<entry>Meaning</entry>
<entry>Set by...</entry>
</row>
</thead>

<tbody>
<row>
<entry>NROWS3D</entry>
<entry>Number of rows in the grid</entry>
<entry>NROWS3D from the gridded land use file</entry>
</row>
<row>
<entry>NCOLS3D</entry>
<entry>Number of columns in the grid</entry>
<entry>NCOLS3D from the gridded land use file</entry>
</row>
<row>
<entry>NVARS3D</entry>
<entry>Number of biogenic emission species times the number of seasons modeled</entry>
<entry><filename>B3DIMS3.EXT</filename> include file</entry>
</row>
</tbody>
</tgroup>
</table>

<para><xref linkend="tbl_input_b3grd_beis309" /> contains names and descriptions of variables in the <envar>B3GRD</envar> output file form <command>Normbeis3</command>, BEIS version 3.09.</para>

<table id="tbl_input_b3grd_beis309">
<title>Variables in <envar>B3GRD</envar> for BEIS version 3.09</title>
<tgroup cols="4">
<colspec colwidth="30*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>Variable Name</entry>
<entry>Type</entry>
<entry>Units</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>AVGISOP&lt;Season (S or W)&gt; </entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized ISOP emissions</entry>
</row>
<row>
<entry>AVGMONO&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized MONO emissions</entry>
</row>
<row>
<entry>AVGOVOC&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized OVOC emissions</entry>
</row>
<row>
<entry>AVGNO&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g N/km<superscript>2</superscript>-hr</entry>
<entry>Normalized NO emissions</entry>
</row>
<row>
<entry>AVGLAI&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>m<superscript>2</superscript>/m<superscript>2</superscript></entry>
<entry>Normalized leaf area index</entry>
</row>
</tbody>
</tgroup>
</table>

<para>For BEIS version 3.14, <command>Normbeis3</command> calculates normalized emissions for both the summer and winter seasons. For nitric acid (NO) calculations, however, emissions depend on a given grid cell&rsquo;s land use category (or categories). For agricultural land use portions of a grid cell, a determination is made of whether the given day is in the growing season or the non-growing season. The appropriate emissions factor is then applied to the NO emissions calculations. The agricultural land use categories USGS Cropgrass (a cropland/grassland mosaic) and USGS Cropwoodland (a cropland/woodland mosaic) represent grid cells with mixed vegetation and only half the area is assumed to be covered by crops. Accordingly, the corresponding emissions factors for these two categories are multiplied by 0.5 for NO calculations. (Note that the USGS Drycrop and USGS Irrcrop land use categories assume the vegetation is all crop.) For the non-growing season in agricultural areas, the emissions factor for the USGS Grassland land use category is used for NO emission calculations. Finally, for non-agricultural areas, the USGS Grassland emissions factor is used all year round. Table 9.21b contains the names and descriptions of variables in the B3GRD output file from <command>Normbeis3</command>, BEIS version 3.13</para>

<table id="tbl_input_b3grd_beis313">
<title>Variables in <envar>B3GRD</envar> for BEIS version 3.14</title>
<tgroup cols="4">
<colspec colwidth="30*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>Variable Name</entry>
<entry>Type</entry>
<entry>Units</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>AVG_ISOP&lt;Season (S or W)&gt; </entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized isoprene emissions</entry>
</row>
<row>
<entry>AVG_MBO&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized 2-methyl-3-buten-2-ol emissions</entry>
</row>
<row>
<entry>AVG_METH&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized methanol emissions</entry>
</row>
<row>
<entry>AVG_APIN&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized alpha-pinene emissions</entry>
</row>
<row>
<entry>AVG_BPIN&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized beta-pinene emissions</entry>
</row>
<row>
<entry>AVG_D3CAR&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized delta-3-carene emissions</entry>
</row>
<row>
<entry>AVG_DLIM&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized d-limonene emissions</entry>
</row>
<row>
<entry>AVG_CAMPH&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized camphene emissions</entry>
</row>
<row>
<entry>AVG_MYRC&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized myrcene emissions</entry>
</row>
<row>
<entry>AVG_ATERP&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized alpha-terpinene emissions</entry>
</row>
<row>
<entry>AVG_BPHE&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized beta-phellandrene emissions</entry>
</row>
<row>
<entry>AVG_SABI&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized sabinene emissions</entry>
</row>
<row>
<entry>AVG_PCYM&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized p-cymene emissions</entry>
</row>
<row>
<entry>AVG_OCIM&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized ocimene emissions</entry>
</row>
<row>
<entry>AVG_ATHU&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized alpha-thujene emissions</entry>
</row>
<row>
<entry>AVG_TRPO&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized terpinolene emissions</entry>
</row>
<row>
<entry>AVG_GTERP&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized gamma-terpinene emissions</entry>
</row>
<row>
<entry>AVG_ETHE&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized ethene emissions</entry>
</row>
<row>
<entry>AVG_PROPE&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized propene emissions</entry>
</row>
<row>
<entry>AVG_ETHO&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized ethanol emissions</entry>
</row>
<row>
<entry>AVG_ACET&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized acetone emissionS</entry>
</row>
<row>
<entry>AVG_HEXA&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized hexanal emissions</entry>
</row>
<row>
<entry>AVG_HEXE&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized hexenol emissions</entry>
</row>
<row>
<entry>AVG_HEXY&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized hexenylacetate emissions</entry>
</row>
<row>
<entry>AVG_FORM&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized formaldehyde emissions</entry>
</row>
<row>
<entry>AVG_ACTAL&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized acetaldehyde emissions</entry>
</row>
<row>
<entry>AVG_BUTE&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized butene emissions</entry>
</row>
<row>
<entry>AVG_ETHA&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized ethane emissions</entry>
</row>
<row>
<entry>AVG_FORAC&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized formic acid emissions</entry>
</row>
<row>
<entry>AVG_ACTAC&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized acetic acid emissions</entry>
</row>
<row>
<entry>AVG_BUTO&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized butenone (aka methyl vinyl ketone) emissions</entry>
</row>
<row>
<entry>AVG_CO&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized carbon monoxide emissions</entry>
</row>
<row>
<entry>AVG_ORVOC&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/km<superscript>2</superscript>-hr</entry>
<entry>Normalized other reactive VOC emissions</entry>
</row>
<row>
<entry>LAI_ISOP&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>m<superscript>2</superscript>/m<superscript>2</superscript></entry>
<entry>Leaf area index for isoprene emissions</entry>
</row>
<row>
<entry>LAI_MBO&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>m<superscript>2</superscript>/m<superscript>2</superscript></entry>
<entry>Leaf area index for 2-methyl-3-buten-2-ol emissions</entry>
</row>
<row>
<entry>LAI_METH&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>m<superscript>2</superscript>/m<superscript>2</superscript></entry>
<entry>Leaf area index for methanol emissions</entry>
</row>
<row>
<entry>AVG_NOAG_GROW</entry>
<entry>Real</entry>
<entry>g N/km<superscript>2</superscript>-hr</entry>
<entry>Normalized nitric acid emissions in agricultural areas during the growing season</entry>
</row>
<row>
<entry>AVG_NOAG_NONGROW</entry>
<entry>Real</entry>
<entry>g N/km<superscript>2</superscript>-hr</entry>
<entry>Normalized nitric acid emissions in agricultural areas during the non-growing season</entry>
</row>
<row>
<entry>AVG_NONONAG</entry>
<entry>Real</entry>
<entry>g N/km<superscript>2</superscript>-hr</entry>
<entry>Normalized nitric acid emissions in non-agricultural areas</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

<section id="sect_intmed_rawbio">

<title><command>Rawbio</command></title>

<para>The <command>Rawbio</command> program is responsible for computing normalized biogenic emissions. <command>Rawbio</command> creates the following intermediate file:</para>

<itemizedlist>
<listitem>
<para>Normalized biogenic emissions file: <xref linkend="sect_intmed_bgrd" /></para>
</listitem>
</itemizedlist>

<section id="sect_intmed_bgrd">

<title><envar>BGRD</envar> (summer) or <envar>BGRDW</envar> (winter)</title>

<para>Type: I/O API NetCDF - adapted gridded format</para>

<para>Used by: <command>Tmpbio</command></para>

<table>
<title>I/O API Header for <envar>BGRD</envar> and <envar>BGRDW</envar></title>
<tgroup cols="3">
<colspec colwidth="25*" />
<colspec colwidth="35*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>I/O API Header variable</entry>
<entry>Meaning</entry>
<entry>Set by...</entry>
</row>
</thead>

<tbody>
<row>
<entry>NROWS3D</entry>
<entry>Number of rows in the grid</entry>
<entry>NROWS3D from the gridded land use file</entry>
</row>
<row>
<entry>NCOLS3D</entry>
<entry>Number of columns in the grid</entry>
<entry>NCOLS3D from the gridded land use file</entry>
</row>
<row>
<entry>NVARS3D</entry>
<entry>Number of biogenic emission species</entry>
<entry><envar>B3DIMS3.EXT</envar> include file</entry>
</row>
</tbody>
</tgroup>
</table>

<table>
<title>Variables in <envar>BGRD</envar> and <envar>BGRDW</envar></title>
<tgroup cols="4">
<colspec colwidth="30*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>Variable Name</entry>
<entry>Type</entry>
<entry>Units</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>AVGISOP&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/hour</entry>
<entry>Normalized ISOP emissions</entry>
</row>
<row>
<entry>AVGMONO&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/hour</entry>
<entry>Normalized MONO emissions</entry>
</row>
<row>
<entry>AVGOVOC&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g C/hour</entry>
<entry>Normalized OVOC emissions</entry>
</row>
<row>
<entry>AVGNO&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>g N/hour</entry>
<entry>Normalized NO emissions</entry>
</row>
<row>
<entry>AVGLAI&lt;Season (S or W)&gt;</entry>
<entry>Real</entry>
<entry>Index</entry>
<entry>Normalized leaf area index</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

<section id="sect_intmed_smkinven">

<title><command>Smkinven</command></title>

<para>The <command>Smkinven</command> program is responsible for importing the raw inventory into SMOKE format. <command>Smkinven</command> creates the following intermediate files:</para>

<itemizedlist>
<listitem>
<para>Average inventory file: <xref linkend="sect_intmed_area_mobl_pnts" /></para>
</listitem>
<listitem>
<para>Source description file: <xref linkend="sect_intmed_asrc" /></para>
</listitem>
<listitem>
<para>Period-specific inventory file: <xref linkend="sect_intmed_pday" /></para>
</listitem>
</itemizedlist>

<section id="sect_intmed_area_mobl_pnts">

<title><envar>AREA</envar>, <envar>MOBL</envar>, and <envar>PNTS</envar></title>

<para>Type: I/O API NetCDF - adapted gridded format</para>

<para>Used by: <command>Cntlmat</command>, <command>Elevpoint</command>, <command>Grdmat</command>, <command>Grwinven</command>, <command>Laypoint</command>, <command>Smkmerge</command>, <command>Smkreport</command>, <command>Spcmat</command>, and <command>Temporal</command></para>

<table>
<title>I/O API Header for <envar>AREA</envar>, <envar>MOBL</envar>, and <envar>PNTS</envar></title>
<tgroup cols="3">
<colspec colwidth="25*" />
<colspec colwidth="35*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>I/O API Header variable</entry>
<entry>Meaning</entry>
<entry>Set by...</entry>
</row>
</thead>

<tbody>
<row>
<entry>NROWS3D</entry>
<entry>Number of sources</entry>
<entry>NROWS3D from the <envar>AREA</envar>, <envar>MOBL</envar>, or <envar>PNTS</envar> file</entry>
</row>
<row>
<entry>NVARS3D</entry>
<entry>Number of variables in the file</entry>
<entry>Based on source category</entry>
</row>
</tbody>
</tgroup>
</table>

<table>
<title>Variables in <envar>AREA</envar>, <envar>MOBL</envar>, and <envar>PNTS</envar></title>
<tgroup cols="4">
<colspec colwidth="30*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>Variable Name</entry>
<entry>Type</entry>
<entry>Units</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>IFIP</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>State and county FIPS code</entry>
</row>
<row>
<entry>TZONES</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Time zone for site</entry>
</row>
<row>
<entry>TPFLAG</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Use week, month temporal profiles or not</entry>
</row>
<row>
<entry>INVYR</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Year of inventory for this record</entry>
</row>
<row>
<entry>CELLID</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Cell number</entry>
</row>
<row>
<entry>IRCLAS</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Roadway type (mobile only)</entry>
</row>
<row>
<entry>IVTYPE</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Vehicle type code (mobile only)</entry>
</row>
<row>
<entry>XLOC1</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Longitude at beginning of link (mobile only)</entry>
</row>
<row>
<entry>YLOC1</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Latitude at beginning of link (mobile only)</entry>
</row>
<row>
<entry>XLOC2</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Longitude at end of link (mobile only)</entry>
</row>
<row>
<entry>YLOC2</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Latitude at end of link (mobile only)</entry>
</row>
<row>
<entry>ISIC</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>SIC code (area or point only)</entry>
</row>
<row>
<entry>XLOCA</entry>
<entry>Real</entry>
<entry>degrees</entry>
<entry>Longitude (area or point only)</entry>
</row>
<row>
<entry>YLOCA</entry>
<entry>Real</entry>
<entry>degrees</entry>
<entry>Latitude (area or point only)</entry>
</row>
<row>
<entry>STKHT</entry>
<entry>Real</entry>
<entry>m</entry>
<entry>Stack height (point only)</entry>
</row>
<row>
<entry>STKDM</entry>
<entry>Real</entry>
<entry>ms</entry>
<entry>Stack diameter (point only)</entry>
</row>
<row>
<entry>STKTK</entry>
<entry>Real</entry>
<entry>K</entry>
<entry>Stack exhaust temperature (point only)</entry>
</row>
<row>
<entry>STKVE</entry>
<entry>Real</entry>
<entry>m/s</entry>
<entry>Stack exit velocity (point only)</entry>
</row>
<row>
<entry>Name of pollutant 1></entry>
<entry>Real</entry>
<entry>ton/yr</entry>
<entry>Annual emissions for pollutant 1</entry>
</row>
<row>
<entry>OS_&lt;Pollutant name 1&gt;</entry>
<entry>Real</entry>
<entry>ton/day</entry>
<entry>Ozone season emissions for pollutant 1</entry>
</row>
<row>
<entry>EF_&lt;Pollutant name 1&gt;</entry>
<entry>Real</entry>
<entry>SCC units</entry>
<entry>Emission factor for pollutant 1</entry>
</row>
<row>
<entry>CE_&lt;Pollutant name 1&gt;</entry>
<entry>Real</entry>
<entry>Unitless</entry>
<entry>Control efficiency fraction for pollutant 1</entry>
</row>
<row>
<entry>RE_&lt;Pollutant name 1&gt;</entry>
<entry>Real</entry>
<entry>Unitless</entry>
<entry>Rule effectiveness fraction for pollutant 1</entry>
</row>
<row>
<entry>RP_&lt;Pollutant name 1&gt;</entry>
<entry>Real</entry>
<entry>Unitless</entry>
<entry>Rule penetration fraction for pollutant 1</entry>
</row>
<row>
<entry>...</entry>
<entry>...</entry>
<entry>...</entry>
<entry>...</entry>
</row>
<row>
<entry>Name of pollutant NVARS3D</entry>
<entry>Real</entry>
<entry>ton/yr</entry>
<entry>Annual emissions for pollutant NVARS3D</entry>
</row>
<row>
<entry>OS_&lt;Pollutant name NVARS3D&gt;</entry>
<entry>Real</entry>
<entry>ton/day</entry>
<entry>Ozone season emissions for pollutant NVARS3D</entry>
</row>
<row>
<entry>EF_&lt;Pollutant name NVARS3D&gt;</entry>
<entry>Real</entry>
<entry>SCC units</entry>
<entry>Emission factor for pollutant NVARS3D</entry>
</row>
<row>
<entry>CE_&lt;Pollutant name NVARS3D&gt;</entry>
<entry>Real</entry>
<entry>Unitless</entry>
<entry>Control efficiency fraction for pollutant NVARS3D</entry>
</row>
<row>
<entry>RE_&lt;Pollutant name NVARS3D&gt;</entry>
<entry>Real</entry>
<entry>Unitless</entry>
<entry>Rule effectiveness fraction for pollutant NVARS3D</entry>
</row>
<row>
<entry>RP_&lt;Pollutant name NVARS3D&gt;</entry>
<entry>Real</entry>
<entry>Unitless</entry>
<entry>Rule penetration fraction for pollutant NVARS3D</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_intmed_asrc">

<title><envar>ASRC</envar>, <envar>MSRC</envar>, and <envar>PSRC</envar></title>

<para>Type: ASCII - list-directed</para>

<para>Used by: <command>Cntlmat</command>, <command>Elevpoint</command>, <command>Grdmat</command>, <command>Grwinven</command>, <command>Laypoint</command>, <command>Smkmerge</command>, <command>Smkreport</command>, <command>Spcmat</command>, and <command>Temporal</command></para>

<table>
<title>File columns in <envar>ASRC</envar>, <envar>MSRC</envar>, and <envar>PSRC</envar></title>
<tgroup cols="5">
<colspec colname="Line" colwidth="1*" />
<colspec colname="Column" colwidth="1*" />
<colspec colname="Type" colwidth="1*" />
<colspec colname="Units" colwidth="1*" />
<colspec colname="Description" colwidth="4*" />

<thead>
<row>
<entry>Line</entry>
<entry>Column</entry>
<entry>Type</entry>
<entry>Units</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1</entry>
<entry>A</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Number of columns of data (N)</entry>
</row>
<row>
<entry colname="Column">B</entry>
<entry>Character</entry>
<entry>Unitless</entry>
<entry>Format statement for ASCII data</entry>
</row>
<row>
<entry>2</entry>
<entry>A</entry>
<entry>Character</entry>
<entry>Unitless</entry>
<entry>Description of column 1</entry>
</row>
<row>
<entry>...</entry>
<entry>...</entry>
<entry>...</entry>
<entry>...</entry>
<entry>...</entry>
</row>
<row>
<entry>N+1</entry>
<entry>A</entry>
<entry>Character</entry>
<entry>Unitless</entry>
<entry>Description of column N</entry>
</row>
<row>
<entry>(N+2)+</entry>
<entry>A</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>See column 1 header description</entry>
</row>
<row>
<entry colname="Column">...</entry>
<entry>...</entry>
<entry>...</entry>
<entry>...</entry>
</row>
<row>
<entry colname="Type">Character</entry>
<entry>Unitless</entry>
<entry>See column N header description</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_intmed_pday">

<title><envar>PDAY</envar> and <envar>PHOUR</envar></title>

<para>Type: I/O API NetCDF - adapted gridded format</para>

<para>Used by: <command>Laypoint</command> and <command>Temporal</command></para>

<table>
<title>I/O API Header for <envar>PDAY</envar> and <envar>PHOUR</envar></title>
<tgroup cols="3">
<colspec colwidth="25*" />
<colspec colwidth="35*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>I/O API Header variable</entry>
<entry>Meaning</entry>
<entry>Set by...</entry>
</row>
</thead>

<tbody>
<row>
<entry>NROWS3D</entry>
<entry>Number of period-specific sources</entry>
<entry><envar>PTDAY</envar> or <envar>PTHOUR</envar> files read in by <command>Smkinven</command></entry>
</row>
<row>
<entry>NVARS3D</entry>
<entry>Number of pollutants + 1</entry>
<entry><envar>PTDAY</envar> or <envar>PTHOUR</envar> files read in by <command>Smkinven</command></entry>
</row>
</tbody>
</tgroup>
</table>

<table>
<title>Variables in <envar>PDAY</envar> and <envar>PHOUR</envar></title>
<tgroup cols="4">
<colspec colwidth="30*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>Variable Name</entry>
<entry>Type</entry>
<entry>Units</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>INDX&lt;D or H&gt;</entry>
<entry>Integer</entry>
<entry>Unitless</entry>
<entry>Source number</entry>
</row>
<row>
<entry>Name of pollutant 1</entry>
<entry>Real</entry>
<entry>ton/h</entry>
<entry>Period-specific emissions for pollutant 1</entry>
</row>
<row>
<entry>...</entry>
<entry>...</entry>
<entry>...</entry>
<entry>...</entry>
</row>
<row>
<entry>Name of pollutant NVARS3D</entry>
<entry>Real</entry>
<entry>ton/h</entry>
<entry>Period-specific emissions for pollutant NVARS3D</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

<section id="sect_intmed_smkmerge">

<title><command>Smkmerge</command></title>

<para>The <command>Smkmerge</command> program is responsible for creating model-ready emissions files. <command>Smkmerge</command> creates the following intermediate file:</para>

<itemizedlist>
<listitem>
<para>Model-ready emissions file: <xref linkend="sect_intmed_merged" /></para>
</listitem>
</itemizedlist>

<section id="sect_intmed_merged">

<title><envar>[A|B|M|P|E][G][T][S][3D][_S][_L]</envar></title>

<para>Type: I/O API NetCDF - adapted gridded format</para>

<para>Used by: <command>Mrggrid</command> and <command>Smkmerge</command></para>

<para>These files can be model-ready emissions files by source category or all categories.  See <xref linkend="sect_output_egts" /> for format information.</para>

</section>

</section>

<section id="sect_intmed_spcmat">

<title><command>Spcmat</command></title>

<para>The <command>Spcmat</command> program is responsible for creating speciation matrices. <command>Spcmat</command> creates the following intermediate files:</para>

<itemizedlist>
<listitem>
<para>Speciation matrix file (mass-based): <xref linkend="sect_intmed_ampsmat_s" /></para>
</listitem>
<listitem>
<para>Speciation matrix file (mole-based): <xref linkend="sect_intmed_ampsmat_l" /></para>
</listitem>
</itemizedlist>

<section id="sect_intmed_ampsmat_s">

<title><envar>ASMAT_S</envar>, <envar>MSMAT_S</envar>, and <envar>PSMAT_S</envar></title>

<para>Type: I/O API NetCDF - adapted gridded format</para>

<para>Used by: <command>Smkmerge</command> and <command>Smkreport</command></para>

<table>
<title>I/O API Header for <envar>ASMAT_S</envar>, <envar>MSMAT_S</envar>, and <envar>PSMAT_S</envar></title>
<tgroup cols="3">
<colspec colwidth="25*" />
<colspec colwidth="35*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>I/O API Header variable</entry>
<entry>Meaning</entry>
<entry>Set by...</entry>
</row>
</thead>

<tbody>
<row>
<entry>NROWS3D</entry>
<entry>Number of sources</entry>
<entry>Determined by <envar>AREA</envar>, <envar>MOBL</envar>, or <envar>PNTS</envar> file</entry>
</row>
<row>
<entry>NVARS3D</entry>
<entry>Number of inventory pollutants combine with output species</entry>
<entry>Determined by the <envar>GSPRO</envar> file</entry>
</row>
</tbody>
</tgroup>
</table>

<table>
<title>Variables in <envar>ASMAT_S</envar>, <envar>MSMAT_S</envar>, and <envar>PSMAT_S</envar></title>
<tgroup cols="4">
<colspec colwidth="30*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>Variable Name</entry>
<entry>Type</entry>
<entry>Units</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>SVAR001</entry>
<entry>Real</entry>
<entry>g/ton</entry>
<entry>Mass-speciation coefficient</entry>
</row>
<row>
<entry>...</entry>
<entry>...</entry>
<entry>...</entry>
<entry>...</entry>
</row>
<row>
<entry>SVAR&lt;NVARS3D&gt;</entry>
<entry>Real</entry>
<entry>g/ton</entry>
<entry>Mass-speciation coefficient</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_intmed_ampsmat_l">

<title><envar>ASMAT_L</envar>, <envar>MSMAT_L</envar>, and <envar>PSMAT_L</envar></title>

<para>Type: I/O API NetCDF - adapted gridded format</para>

<para>Used by: <command>Smkmerge</command> and <command>Smkreport</command></para>

<table>
<title>I/O API Header for <envar>ASMAT_L</envar>, <envar>MSMAT_L</envar>, and <envar>PSMAT_L</envar></title>
<tgroup cols="3">
<colspec colwidth="25*" />
<colspec colwidth="35*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>I/O API Header variable</entry>
<entry>Meaning</entry>
<entry>Set by...</entry>
</row>
</thead>

<tbody>
<row>
<entry>NROWS3D</entry>
<entry>Number of sources</entry>
<entry>Determined by <envar>AREA</envar>, <envar>MOBL</envar>, or <envar>PNTS</envar> file</entry>
</row>
<row>
<entry>NVARS3D</entry>
<entry>Number of inventory pollutants combine with output species</entry>
<entry>Determined by the <envar>GSPRO</envar> file</entry>
</row>
</tbody>
</tgroup>
</table>

<table>
<title>Variables in <envar>ASMAT_L</envar>, <envar>MSMAT_L</envar>, and <envar>PSMAT_L</envar></title>
<tgroup cols="4">
<colspec colwidth="25*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="45*" />

<thead>
<row>
<entry>Variable Name</entry>
<entry>Type</entry>
<entry>Units</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>SVAR001</entry>
<entry>Real</entry>
<entry>mol/ton</entry>
<entry>Mole-speciation coefficient</entry>
</row>
<row>
<entry>...</entry>
<entry>...</entry>
<entry>...</entry>
<entry>...</entry>
</row>
<row>
<entry>SVAR&lt;NVARS3D&gt;</entry>
<entry>Real</entry>
<entry>mol/ton</entry>
<entry>Mole-speciation coefficient</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

<section id="sect_intmed_temporal">

<title><command>Temporal</command></title>

<para>The <command>Temporal</command> program is responsible for generating hourly emissions by source. <command>Temporal</command> creates the following intermediate file:</para>

<itemizedlist>
<listitem>
<para>Hourly emissions file: <xref linkend="sect_intmed_amptmp" /></para>
</listitem>
</itemizedlist>

<section id="sect_intmed_amptmp">

<title><envar>ATMP</envar>, <envar>MTMP</envar>, and <envar>PTMP</envar></title>

<para>Type: I/O API NetCDF - adapted gridded format</para>

<para>Used by: <command>Smkmerge</command> and <command>Smkreport</command></para>

<table>
<title>I/O API Header for <envar>ATMP</envar>, <envar>MTMP</envar>, and <envar>PTMP</envar></title>
<tgroup cols="3">
<colspec colwidth="25*" />
<colspec colwidth="35*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>I/O API Header variable</entry>
<entry>Meaning</entry>
<entry>Set by...</entry>
</row>
</thead>

<tbody>
<row>
<entry>NROWS3D</entry>
<entry>Number of sources</entry>
<entry>Determined by <envar>AREA</envar>, <envar>MOBL</envar>, or <envar>PNTS</envar> file</entry>
</row>
<row>
<entry>NVARS3D</entry>
<entry>Number of inventory pollutants</entry>
<entry>Determined by <envar>AREA</envar>, <envar>MOBL</envar>, or <envar>PNTS</envar> file</entry>
</row>
</tbody>
</tgroup>
</table>

<table>
<title>Variables in <envar>ATMP</envar>, <envar>MTMP</envar>, and <envar>PTMP</envar></title>
<tgroup cols="4">
<colspec colwidth="30*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="40*" />

<thead>
<row>
<entry>Variable Name</entry>
<entry>Type</entry>
<entry>Units</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>Name of pollutant 1</entry>
<entry>Real</entry>
<entry>ton/h</entry>
<entry>Hourly emissions for pollutant 1</entry>
</row>
<row>
<entry>...</entry>
<entry>...</entry>
<entry>...</entry>
<entry>...</entry>
</row>
<row>
<entry>Name of pollutant NVARS3D</entry>
<entry>Real</entry>
<entry>ton/h</entry>
<entry>Hourly emissions for pollutant NVARS3D</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

<section id="sect_intmed_tmpbeis3">

<title><command>Tmpbeis3</command></title>

<para>The <command>Tmpbeis3</command> is responsible for creating gridded, hourly biogenic emissions. <command>Tmpbeis3</command> creates the following intermediate files:</para>

<itemizedlist>
<listitem>
<para>Model-ready biogenic emissions: <xref linkend="sect_intmed_b3gts" /></para>
</listitem>
</itemizedlist>

<section id="sect_intmed_b3gts">

<title><envar>B3GTS_L</envar> and <envar>B3GTS_S</envar></title>

<para>Type: I/O API NetCDF - adapted gridded format</para>

<para>Used by: <command>Mrggrid</command> and <command>Smkmerge</command></para>

<para>These files are model-ready output, but can be input into <command>Mrggrid</command> or <command>Smkmerge</command> to be combined with other source category model-ready files. See <xref linkend="sect_output_b3gts" /> for format information.</para>

</section>

</section>

<section id="sect_intmed_tmpbio">

<title><command>Tmpbio</command></title>

<para>The <command>Tmpbio</command> is responsible for creating gridded, hourly biogenic emissions. <command>Tmpbio</command> creates the following intermediate files:</para>

<itemizedlist>
<listitem>
<para>Model-ready biogenic emissions: <xref linkend="sect_intmed_bgts" /></para>
</listitem>
</itemizedlist>

<section id="sect_intmed_bgts">

<title><envar>BGTS_L</envar> and <envar>BGTS_S</envar></title>

<para>Type: I/O API NetCDF - adapted gridded format</para>

<para>Used by: <command>Mrggrid</command> and <command>Smkmerge</command></para>

<para>These files are model-ready output, but can be input into <command>Mrggrid</command> or <command>Smkmerge</command> to be combined with other source category model-ready files. See <xref linkend="sect_output_bgts" /> for format information.</para>

</section>

</section>

</chapter>
