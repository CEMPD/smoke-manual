<?xml version="1.0" encoding="UTF-8"?>

<chapter id="ch_input_files">

<title>SMOKE Input Files</title>

<section>

<title>Overview</title>

<para>This chapter contains format information for all input files used by SMOKE. <xref linkend="ch_intermediate_files" /> and <xref linkend="ch_output_files" /> provide documentation on SMOKE&rsquo;s intermediate and output file formats.</para>

In this overview section, we first provide a few important notes about file formats (<xref linkend="sect_input_file_formats" />, and then discuss where to put SMOKE input files (<xref linkend="sect_input_file_locations" />). <xref linkend="sect_input_file_list" /> summarizes all the input files needed by SMOKE, organized by function. <xref linkend="sect_input_nctox_case" /> provides a list, organized by SMOKE program, of all the default input files provided with the nctox sample case, which is described in <xref linkend="sect_scripts_nctox_case" />.

<para>The remaining sections in this chapter are broken down as follows:</para>

<itemizedlist>
<listitem>
<para>Inventory files used by <command>Smkinven</command> and <command>Rawbio</command> (<xref linkend="sect_input_inventory" />)</para>
</listitem>
<listitem>
<para>Temporal allocation files used by <command>Temporal</command> (<xref linkend="sect_input_temporal" />)</para>
</listitem>
<listitem>
<para>Spatial allocation files used by <command>Grdmat</command>, <command>Rawbio</command>, <command>Normbeis3</command>, and <command>Smkmerge</command> (<xref linkend="sect_input_spatial" />)</para>
</listitem>
<listitem>
<para>Chemical speciation files used by <command>Spcmat</command> (<xref linkend="sect_input_chemical" />)</para>
</listitem>
<listitem>
<para>Growth and controls files used by <command>Cntlmat</command> (<xref linkend="sect_input_growth" />)</para>
</listitem>
<listitem>
<para>Special merging files used by <command>Mrggrid</command> (<xref linkend="sect_input_merging" />)</para>
</listitem>
<listitem>
<para>Meteorology files used by <command>Tmpbio</command>, <command>Tmpbeis3</command>, <command>Premobl</command>, and <command>Laypoint</command> (<xref linkend="sect_input_meteorology" />)</para>
</listitem>
<listitem>
<para>Source-specific files for biogenics, mobile, and point source processing (<xref linkend="sect_input_source_specific" />)</para>
</listitem>
<listitem>
<para>Support files used by various programs (<xref linkend="sect_input_support" />)</para>
</listitem>
</itemizedlist>

<section id="sect_input_file_formats">

<title>General notes about file formats</title>

<itemizedlist>
<listitem>
<para>In the tables used to describe the file format for each file, the <quote>Position</quote> column lists either letters or numbers.</para>

<para>When there are letters in the <quote>Position</quote> column, this indicates that the file must be <link linkend="sect_concepts_list_directed">list-directed</link>, and therefore the fields on each line need to be delimited by a space, comma, or semicolon. If there are fields that have embedded spaces, commas, or semicolons in a list-directed file, these entries must be surrounded by single or double quotation marks to prevent SMOKE from treating those characters as delimiters.</para>

<para>When there are numbers in the <quote>Position</quote> column, this indicates that the file is <link linkend="sect_concepts_column_specific">column-specific</link>, which means that the entry must be placed exactly within the columns listed.</para>
</listitem>

<listitem>
<para>For all cross-reference files (e.g. <envar>AGREF</envar>, <envar>MGREF</envar>, <envar>GSREF</envar>), all of the source-characteristic fields are optional. For example, it is permissible to provide only the SCC for use in matching a profile to a source.</para>

<para>For list-directed files, if there are source characteristic fields that will not be used (such as country/state/county code) that come <emphasis>before</emphasis> the required fields in the file, these must be filled in with a zero or -9. If there are unused fields that come <emphasis>after</emphasis> the required fields in the file, they can be left blank.</para>

<para>For column-specific formats, the optional entries can be left blank or set to -9 when they are not used.</para>
</listitem>

<listitem>
<para>Nearly all input files support full-line and trailing comments. If the first character on a line is a pound sign (#) then the line is treated as a comment. Any characters after an exclamation point (!) are treated as a comment.</para>
</listitem>
</itemizedlist>

</section>

<section id="sect_input_file_locations">

<title>Where to put SMOKE input files</title>

<para>A common difficulty for new users is determining where to put the input files for their case. In SMOKE v2.0 and later, we have reduced the number of places in which you need to keep your raw input files. <xref linkend="sect_input_nctox_case" /> lists the all of the input directories for the files used in the example <quote>nctox</quote> case. In that section, we also define the path names relative to the <filename class="directory"><envar>EDSS_ROOT</envar></filename> directory, which is the directory in which you install SMOKE (and is different for every installation). In <xref linkend="ch_dirs_files" />, we provide diagrams of the SMOKE directory structures, which help in visualizing the tree of directories that SMOKE uses. Additionally, <xref linkend="sect_scripts_how_use_smoke" /> contains instructions for getting set up for new runs, including the files that need to be created and where they should go.</para>

<para>In summary, SMOKE input files must go into a handful of directories (see <xref linkend="sect_input_nctox_case" />). Multiple directories are needed because in some cases (such as speciation profiles and meteorology data), the data are to be shared across multiple runs. In other cases (such as inventory data), the data are specific to a case and should be stored independently to prevent corrupting other modeling runs. To change the directories used for input (or any other) files in SMOKE, you must modify the Assigns file as described in <xref linkend="sect_dirs_change_directory" />.</para>

</section>

<section id="sect_input_file_list">

<title>SMOKE input file list</title>

<para>In this section, we list all of the raw input files to SMOKE. The files are grouped into tables by functional type:</para>

<itemizedlist spacing="compact">
<listitem><xref linkend="tbl_input_inventory_files" /></listitem>
<listitem><xref linkend="tbl_input_temporal_files" /></listitem>
<listitem><xref linkend="tbl_input_spatial_files" /></listitem>
<listitem><xref linkend="tbl_input_chemical_files" /></listitem>
<listitem><xref linkend="tbl_input_projection_files" /></listitem>
<listitem><xref linkend="tbl_input_merging_files" /></listitem>
<listitem><xref linkend="tbl_input_meteorology_files" /></listitem>
<listitem><xref linkend="tbl_input_biogenic_files" /></listitem>
<listitem><xref linkend="tbl_input_mobile_files" /></listitem>
<listitem><xref linkend="tbl_input_point_files" /></listitem>
<listitem><xref linkend="tbl_input_other_files" /></listitem>
</itemizedlist>

<para>Within each table, the files are listed in alphabetical order. When a file is optional, this is noted in the description column of the table.</para>

<para>All of the ASCII files could conceivably be prepared manually. However, the last three table columns indicate other options you can use to prepare the files.</para>

<remark>
<itemizedlist>
<listitem>
<para>An <quote>X</quote> in column <quote>CNV</quote> indicates that there is a SMOKE converter (either a Fortran program, SAS program, script, or Excel spreadsheet) to create the file.</para>
</listitem>
<listitem>
<para>An <quote>X</quote> in column <quote>ST</quote> indicates that the SMOKE Tool in Models-3 can prepare the file.</para>
</listitem>
<listitem>
<para>An entry in column <quote>Other</quote> indicates that there is another method available to create the file, or that the file is resident in the installation, in which case it is not likely to need modification for most users.</para>
</listitem>
</itemizedlist>
</remark>

<table id="tbl_input_inventory_files">

<title>Inventory Files</title>

<tgroup cols="6">
<colspec colwidth="25*" colname="Name" />
<colspec colwidth="10*" colname="Source" />
<colspec colwidth="40*" colname="Description" />
<colspec colwidth="5*" colname="CNV" />
<colspec colwidth="5*" colname="ST" />
<colspec colwidth="15*" colname="Other" />

<thead>
<row>
<entry>Logical File Name with (Program)</entry>
<entry>Source Category</entry>
<entry>File Description and (Location)</entry>
<entry>CNV</entry>
<entry>ST</entry>
<entry>Other</entry>
</row>
</thead>

<tbody>
<row>
<entry><link linkend="sect_input_arinv"><envar>ARINV</envar></link> (<command>Smkinven</command>)</entry>
<entry>A</entry>
<entry>Stationary area/nonpoint or nonroad raw inventory in IDA format, SMOKE list format for EMS-95 files, or SMOKE ORL format (<envar>$ARDAT</envar> directory)</entry>
<entry colname="ST">X</entry>
<entry>NEI resident</entry>
</row>
<row>
<entry><link linkend="sect_input_bcuse"><envar>BCUSE</envar></link> (<command>Rawbio</command>)</entry>
<entry>B</entry>
<entry>Biogenic county land use data (<envar>$GE_DAT</envar> directory)</entry>
<entry colname="Other">National data resident</entry>
</row>
<row>
<entry><link linkend="sect_input_bguse"><envar>BGUSE</envar></link> (<command>Rawbio</command>)</entry>
<entry>B</entry>
<entry>Biogenic gridded land use data (<envar>$BGDAT</envar> directory)</entry>
<entry colname="Other">U.S. 36 km resident</entry>
</row>
<row>
<entry><link linkend="sect_input_mbinv"><envar>MBINV</envar></link> (<command>Smkinven</command>)</entry>
<entry>M</entry>
<entry>Mobile source raw inventory in IDA format for nonlink data, SMOKE list format for EMS-95 nonlink and link data, or SMOKE ORL format (<envar>$MBDAT</envar> directory)</entry>
<entry colname="Other">NEI resident</entry>
</row>
<row>
<entry><link linkend="sect_input_ptday"><envar>PTDAY</envar></link> (<command>Smkinven</command>)</entry>
<entry>P</entry>
<entry>Point source raw day-specific inventory data (optional) (<envar>$PTDAT</envar> directory)</entry>
<entry colname="Other">User</entry>
</row>
<row>
<entry><link linkend="sect_input_pthour"><envar>PTHOUR</envar></link> (<command>Smkinven</command>)</entry>
<entry>P</entry>
<entry>Point source raw hour-specific inventory data (optional) (<envar>$PTDAT</envar> directory)</entry>
<entry colname="Other">User or CEM data</entry>
</row>
<row>
<entry><link linkend="sect_input_ptinv"><envar>PTINV</envar></link> (<command>Smkinven</command>)</entry>
<entry>P</entry>
<entry>Point source raw inventory in IDA format, SMOKE list format for EMS-95 files, or SMOKE ORL format (<envar>$PTDAT</envar> directory)</entry>
<entry colname="ST">X</entry>
<entry colname="Other">NEI resident</entry>
</row>
<row>
<entry><link linkend="sect_input_vmtmix"><envar>VMTMIX</envar></link> (<command>Smkinven</command>)</entry>
<entry>M</entry>
<entry>Mobile source vehicle mix for EMS-95 files (<envar>$MBDAT</envar> directory)</entry>
</row>
</tbody>
</tgroup>
</table>

<table id="tbl_input_temporal_files">

<title>Temporal Allocation Input Files</title>

<tgroup cols="6">
<colspec colwidth="25*" colname="Name" />
<colspec colwidth="10*" colname="Source" />
<colspec colwidth="40*" colname="Description" />
<colspec colwidth="5*" colname="CNV" />
<colspec colwidth="5*" colname="ST" />
<colspec colwidth="15*" colname="Other" />

<thead>
<row>
<entry>Logical File Name with (Program)</entry>
<entry>Source Category</entry>
<entry>File Description and (Location)</entry>
<entry>CNV</entry>
<entry>ST</entry>
<entry>Other</entry>
</row>
</thead>

<tbody>
<row>
<entry><link linkend="sect_input_amptpro"><envar>[A|M|P]TPRO</envar></link> (<command>Temporal</command>)</entry>
<entry>A, M, P</entry>
<entry>Temporal profile file (<envar>$GE_DAT</envar> directory)</entry>
<entry colname="ST">X</entry>
<entry>NEI resident</entry>
</row>
<row>
<entry><link linkend="sect_input_amptref"><envar>[A|M|P]TREF</envar></link> (<command>Temporal</command>)</entry>
<entry>A, M, P</entry>
<entry>Temporal cross-reference file (<envar>$GE_DAT</envar> directory)</entry>
<entry>X</entry>
<entry>X</entry>
<entry>NEI resident</entry>
</row>
<row>
<entry><link linkend="sect_input_holidays"><envar>HOLIDAYS</envar></link> (<command>Temporal</command>)</entry>
<entry>A, M, P</entry>
<entry>Holidays file (<envar>$GE_DAT</envar> directory)</entry>
<entry colname="Other">Resident</entry>
</row>
</tbody>
</tgroup>
</table>

<table id="tbl_input_spatial_files">

<title>Spatial Allocation Input Files</title>

<tgroup cols="6">
<colspec colwidth="25*" colname="Name" />
<colspec colwidth="10*" colname="Source" />
<colspec colwidth="40*" colname="Description" />
<colspec colwidth="5*" colname="CNV" />
<colspec colwidth="5*" colname="ST" />
<colspec colwidth="15*" colname="Other" />

<thead>
<row>
<entry>Logical File Name with (Program)</entry>
<entry>Source Category</entry>
<entry>File Description and (Location)</entry>
<entry>CNV</entry>
<entry>ST</entry>
<entry>Other</entry>
</row>
</thead>

<tbody>
<row>
<entry><link linkend="sect_input_amgpro"><envar>[A|M]GPRO</envar></link> (<command>Grdmat</command>, <command>Surgtool</command>)</entry>
<entry>A, M</entry>
<entry>Area and/or mobile source spatial surrogates (<envar>$GE_DAT</envar> directory)</entry>
<entry colname="ST">X</entry>
<entry>U.S. 36-km resident</entry>
</row>
<row>
<entry><link linkend="sect_input_amgref"><envar>[A|M]GREF</envar></link> (<command>Grdmat</command>)</entry>
<entry>A, M</entry>
<entry>Area source or mobile gridding cross-reference (<envar>$GE_DAT </envar>directory)</entry>
<entry colname="ST">X</entry>
<entry>NEI resident</entry>
</row>
<row>
<entry><link linkend="sect_input_beld3"><envar>BELD3_A</envar></link>, <link linkend="sect_input_beld3"><envar>BELD3_B</envar></link>, <link linkend="sect_input_beld3"><envar>BELD3_TOT</envar></link> (<command>Beld3to2</command>, <command>Normbeis3</command>)</entry>
<entry>B</entry>
<entry>Biogenic gridded landuse for use in SMOKE-BEIS3 (<envar>$BGDAT</envar>)</entry>
<entry colname="ST">X</entry>
<entry>U.S. 36-km resident</entry>
</row>
<row>
<entry><link linkend="sect_input_bgpro"><envar>BGPRO</envar></link> (<command>Rawbio</command>, <command>Smkmerge</command>)</entry>
<entry>B</entry>
<entry>Biogenic spatial surrogates for county land use (<envar>$GE_DAT </envar> directory)</entry>
<entry colname="ST">X</entry>
<entry>U.S. 36-km resident</entry>
</row>
<!--<row>
<entry><link linkend="sect_input_gridpath"><envar>G_GRIDPATH</envar></link> (<command>Grdmat</command>, <command>Elevpoint</command>, <command>Smkmerge</command>)</entry>
<entry>A, B, M, P</entry>
<entry>Grid and grid projection information (<envar>$BASDIR</envar> directory)</entry>
<entry colname="Other">M3 Study Planner</entry>
</row>-->
<row>
<entry><link linkend="sect_input_griddesc"><envar>GRIDDESC</envar></link> <comment>(add programs)</comment></entry>
<entry>A, B, M, P</entry>
<entry>Grid descriptions (<envar>$BASDIR</envar> directory)</entry>
<entry colname="Other">Resident</entry>
</row>
</tbody>
</tgroup>
</table>

<table id="tbl_input_chemical_files">

<title>Chemical Speciation Input Files</title>

<tgroup cols="6">
<colspec colwidth="25*" colname="Name" />
<colspec colwidth="10*" colname="Source" />
<colspec colwidth="40*" colname="Description" />
<colspec colwidth="5*" colname="CNV" />
<colspec colwidth="5*" colname="ST" />
<colspec colwidth="15*" colname="Other" />

<thead>
<row>
<entry>Logical File Name with (Program)</entry>
<entry>Source Category</entry>
<entry>File Description and (Location)</entry>
<entry>CNV</entry>
<entry>ST</entry>
<entry>Other</entry>
</row>
</thead>

<tbody>
<row>
<entry><link linkend="sect_input_gscnv"><envar>GSCNV</envar></link> (<command>Spcmat</command>)</entry>
<entry>A, M, P</entry>
<entry>Pollutant-to-pollutant conversion file (e.g., ROG to TOG) (optional) (<envar>$GE_DAT</envar> directory)</entry>
<entry colname="Other">ROG to TOG resident</entry>
</row>
<row>
<entry><link linkend="sect_input_gspro"><envar>GSPRO</envar></link> (<command>Cntlmat</command>, <command>Spcmat</command>, <command>Tmpbio</command>, <command>Tmpbeis3</command>)</entry>
<entry>A, B, M, P</entry>
<entry>Speciation profiles file (<envar>$GE_DAT</envar> directory)</entry>
<entry colname="Other">Resident</entry>
</row>
<row>
<entry><link linkend="sect_input_gsref"><envar>GSREF</envar></link> (<command>Spcmat</command>)</entry>
<entry>A, M, P</entry>
<entry>Speciation cross-reference file (a.k.a., mapping table) (<envar>$GE_DAT</envar> directory)</entry>
<entry>X</entry>
<entry>X</entry>
<entry>NEI resident</entry>
</row>
</tbody>
</tgroup>
</table>

<table id="tbl_input_projection_files">

<title>Growth and Controls Input Files</title>

<tgroup cols="6">
<colspec colwidth="25*" colname="Name" />
<colspec colwidth="10*" colname="Source" />
<colspec colwidth="40*" colname="Description" />
<colspec colwidth="5*" colname="CNV" />
<colspec colwidth="5*" colname="ST" />
<colspec colwidth="15*" colname="Other" />

<thead>
<row>
<entry>Logical File Name with (Program)</entry>
<entry>Source Category</entry>
<entry>File Description and (Location)</entry>
<entry>CNV</entry>
<entry>ST</entry>
<entry>Other</entry>
</row>
</thead>

<tbody>
<row>
<entry><link linkend="sect_input_gcntl"><envar>GCNTL</envar></link> (<command>Cntlmat</command>, <command>Pktreduc</command>)</entry>
<entry>A, M, P</entry>
<entry>Control packets or growth packets file (<envar>$STATIC</envar> directory)</entry>
<entry colname="ST">X</entry>
<entry>User</entry>
</row>
</tbody>
</tgroup>
</table>

<table id="tbl_input_merging_files">

<title>Special Merging Input Files</title>

<tgroup cols="6">
<colspec colwidth="25*" colname="Name" />
<colspec colwidth="10*" colname="Source" />
<colspec colwidth="40*" colname="Description" />
<colspec colwidth="5*" colname="CNV" />
<colspec colwidth="5*" colname="ST" />
<colspec colwidth="15*" colname="Other" />

<thead>
<row>
<entry>Logical File Name with (Program)</entry>
<entry>Source Category</entry>
<entry>File Description and (Location)</entry>
<entry>CNV</entry>
<entry>ST</entry>
<entry>Other</entry>
</row>
</thead>

<tbody>
<row>
<entry><link linkend="sect_input_filelist"><envar>FILELIST</envar></link> (<command>Mrggrid</command>)</entry>
<entry>A, B, M, P</entry>
<entry>List of gridded 2-D and/or 3-D files to be merged (<filename class="directory"><envar>$SCRIPTS</envar>/run</filename> directory)</entry>
<entry colname="Other">User</entry>
</row>
</tbody>
</tgroup>
</table>

<table id="tbl_input_meteorology_files">

<title>Meteorology Input Files</title>

<tgroup cols="6">
<colspec colwidth="25*" colname="Name" />
<colspec colwidth="10*" colname="Source" />
<colspec colwidth="40*" colname="Description" />
<colspec colwidth="5*" colname="CNV" />
<colspec colwidth="5*" colname="ST" />
<colspec colwidth="15*" colname="Other" />

<thead>
<row>
<entry>Logical File Name with (Program)</entry>
<entry>Source Category</entry>
<entry>File Description and (Location)</entry>
<entry>CNV</entry>
<entry>ST</entry>
<entry>Other</entry>
</row>
</thead>

<tbody>

<comment>make sections for GRID_CRO_2D, GRID_CRO_3D, MET_CRO_2D, MET_CRO_3D, and MET_DOT_3D - need to include what variables are needed</comment>

<row>
<entry><link linkend="sect_input_meteorology"><envar>GRID_CRO_2D</envar></link> (<command>Tmpbio</command>, <command>Tmpbeis3</command>)</entry>
<entry>B</entry>
<entry>Grid 2-D cross-point file (optional) (<envar>$METDAT</envar> directory)</entry>
<entry colname="Other">MCIP</entry>
</row>
<row>
<entry><link linkend="sect_input_meteorology"><envar>GRID_CRO_3D</envar></link> (<command>Laypoint</command>)</entry>
<entry>P</entry>
<entry>Grid 3-D cross-point file (<envar>$METDAT</envar> directory)</entry>
<entry colname="Other">MCIP</entry>
</row>
<row>
<entry><link linkend="sect_input_meteorology"><envar>MET_CRO_2D</envar></link> (<command>Tmpbio</command>, <command>Tmpbeis3</command>, <command>Premobl</command>, <command>Laypoint</command>, <command>Metscan</command>)</entry>
<entry>B, M, P</entry>
<entry>Meteorology 2-D cross-point file (<envar>$METDAT</envar> directory)</entry>
<entry colname="Other">MCIP</entry>
</row>
<row>
<entry><link linkend="sect_input_meteorology"><envar>MET_CRO_3D</envar></link> (<command>Tmpbio</command>, <command>Tmpbeis3</command>, <command>Premobl</command>, <command>Laypoint</command>, <command>Metscan</command>)</entry>
<entry>B, M, P</entry>
<entry>Meteorology 3-D cross-point file (optional for biogenics) (<envar>$METDAT</envar> directory)</entry>
<entry colname="Other">MCIP</entry>
</row>
<row>
<entry><link linkend="sect_input_meteorology"><envar>MET_DOT_3D</envar></link> (<command>Laypoint</command>)</entry>
<entry>P</entry>
<entry>Meteorology 3-D dot-point file (<envar>$METDAT</envar> directory)</entry>
<entry colname="Other">MCIP</entry>
</row>
<row>
<entry><link linkend="sect_input_metlist"><envar>METLIST</envar></link> (<command>Tmpbio</command>, <command>Premobl</command>)</entry>
<entry>B, M</entry>
<entry>Listing of meteorology files (<envar>$STATIC</envar> directory)</entry>
<entry colname="Other">User</entry>
</row>
<row>
<entry><link linkend="sect_input_radlist"><envar>RADLIST</envar></link> (<command>Tmpbio</command>)</entry>
<entry>B</entry>
<entry>Listing of meteorology files containing radiation data (<envar>$STATIC</envar> directory)</entry>
<entry colname="Other">User</entry>
</row>
</tbody>
</tgroup>
</table>

<table id="tbl_input_biogenic_files">

<title>Biogenic-Specific Input Files</title>

<tgroup cols="6">
<colspec colwidth="25*" colname="Name" />
<colspec colwidth="10*" colname="Source" />
<colspec colwidth="40*" colname="Description" />
<colspec colwidth="5*" colname="CNV" />
<colspec colwidth="5*" colname="ST" />
<colspec colwidth="15*" colname="Other" />

<thead>
<row>
<entry>Logical File Name with (Program)</entry>
<entry>Source Category</entry>
<entry>File Description and (Location)</entry>
<entry>CNV</entry>
<entry>ST</entry>
<entry>Other</entry>
</row>
</thead>

<tbody>
<row>
<entry><link linkend="sect_input_b3fac"><envar>B3FAC</envar></link> (<command>Normbeis3</command>)</entry>
<entry>B</entry>
<entry>BEIS3 emissions factors (<envar>$BGDAT</envar> directory)</entry>
<entry colname="Other">Resident</entry>
</row>
<row>
<entry><link linkend="sect_input_b3xrf"><envar>B3XRF</envar></link> (<command>Beld3to2</command>)</entry>
<entry>B</entry>
<entry>BELD3 to BELD2 cross-reference file (<envar>$GE_DAT</envar> directory)</entry>
<entry colname="Other">Resident</entry>
</row>
<row>
<entry><link linkend="sect_input_bfac"><envar>BFAC</envar></link> (<command>Rawbio</command>)</entry>
<entry>B</entry>
<entry>Summer or winter biogenic emission factors (<envar>$GE_DAT</envar> directory)</entry>
<entry colname="Other">Resident</entry>
</row>
<row>
<entry><link linkend="sect_input_bioseason"><envar>BIOSEASON</envar></link> (<command>Tmpbeis3</command>, <command>Tmpbio</command>)</entry>
<entry>B</entry>
<entry>Bioseason switch file (<envar>$GE_DAT</envar> directory)</entry>
<entry colname="ST">X</entry>
</row>
</tbody>
</tgroup>
</table>

<table id="tbl_input_mobile_files">

<title>Mobile-Specific Input Files</title>

<tgroup cols="6">
<colspec colwidth="25*" colname="Name" />
<colspec colwidth="10*" colname="Source" />
<colspec colwidth="40*" colname="Description" />
<colspec colwidth="5*" colname="CNV" />
<colspec colwidth="5*" colname="ST" />
<colspec colwidth="15*" colname="Other" />

<thead>
<row>
<entry>Logical File Name with (Program)</entry>
<entry>Source Category</entry>
<entry>File Description and (Location)</entry>
<entry>CNV</entry>
<entry>ST</entry>
<entry>Other</entry>
</row>
</thead>

<tbody>
<row>
<entry><link linkend="sect_input_m6list"><envar>M6LIST</envar></link> (<command>Emisfac</command>)</entry>
<entry>M</entry>
<entry>List of MOBILE6 input scenarios (<envar>$MBDAT</envar> directory)</entry>
<entry colname="Other">User</entry>
</row>
<row>
<entry><link linkend="sect_input_mcodes"><envar>MCODES</envar></link> (<command>Smkinven</command>, <command>Grdmat</command>, <command>Spcmat</command>, <command>Temporal</command>)</entry>
<entry>M</entry>
<entry>Mobile vehicle type and road codes (<envar>$MBDAT</envar> directory)</entry>
<entry colname="Other">Resident/User</entry>
</row>
<row>
<entry><link linkend="sect_input_mcref"><envar>MCREF</envar></link> (<command>Mbsetup</command>)</entry>
<entry>M</entry>
<entry>Mobile source county cross-reference (<envar>$MBDAT</envar> directory)</entry>
<entry colname="Other">User</entry>
</row>
<row>
<entry><link linkend="sect_input_meflist"><envar>MEFLIST</envar></link> (<command>Temporal</command>)</entry>
<entry>M</entry>
<entry>List of emission factor files (<envar>$SMK_EMISPATH</envar> directory)</entry>
<entry colname="Other">User</entry>
</row>
<row>
<entry><link linkend="sect_input_meproc"><envar>MEPROC</envar></link> (<command>Emisfac</command>, <command>Spcmat</command>, <command>Temporal</command>)</entry>
<entry>M</entry>
<entry>Mobile emission processes (e.g., exhaust, running loss, refueling) with associated activities and pollutants (<envar>$MBDAT</envar> directory)</entry>
<entry colname="Other">Resident/User</entry>
</row>
<row>
<entry><link linkend="sect_input_mvref"><envar>MVREF</envar></link> (<command>Mbsetup</command>)</entry>
<entry>M</entry>
<entry>Mobile source county settings file (<envar>$MBDAT</envar> directory)</entry>
<entry colname="Other">User</entry>
</row>
<row>
<entry><link linkend="sect_input_spdpro"><envar>SPDPRO</envar></link> (<command>Emisfac</command>)</entry>
<entry>M</entry>
<entry>Hourly speed profiles (<envar>$MBDAT</envar> directory)</entry>
<entry colname="Other">User</entry>
</row>
<row>
<entry><link linkend="sect_input_spdref"><envar>SPDREF</envar></link> (<command>Mbsetup</command>)</entry>
<entry>M</entry>
<entry>Hourly speed cross-reference (<envar>$MBDAT</envar> directory)</entry>
<entry colname="Other">User</entry>
</row>
</tbody>
</tgroup>
</table>

<table id="tbl_input_point_files">

<title>Point-Specific Input Files</title>

<tgroup cols="6">
<colspec colwidth="25*" colname="Name" />
<colspec colwidth="10*" colname="Source" />
<colspec colwidth="40*" colname="Description" />
<colspec colwidth="5*" colname="CNV" />
<colspec colwidth="5*" colname="ST" />
<colspec colwidth="15*" colname="Other" />

<thead>
<row>
<entry>Logical File Name with (Program)</entry>
<entry>Source Category</entry>
<entry>File Description and (Location)</entry>
<entry>CNV</entry>
<entry>ST</entry>
<entry>Other</entry>
</row>
</thead>

<tbody>
<row>
<entry><link linkend="sect_input_pelvconfig"><envar>PELVCONFIG</envar></link> (<command>Elevpoint</command>)</entry>
<entry>P</entry>
<entry>Elevated source and PinG selection configuration file (<envar>$PTDAT</envar> directory)</entry>
<entry colname="Other">User</entry>
</row>
<row>
<entry><link linkend="sect_input_pstk"><envar>PSTK</envar></link> (<command>Smkinven</command>)</entry>
<entry>P</entry>
<entry>Replacement stack parameters for invalid stacks (<envar>$GE_DAT</envar> directory)</entry>
<entry colname="Other">Resident</entry>
</row>
<row>
<entry><link linkend="sect_input_ptmplist"><envar>PTMPLIST</envar></link> (<command>Elevpoint</command>)</entry>
<entry>P</entry>
<entry>List of <envar>PTMP</envar> files for <command>Elevpoint</command> to use to compute maximum daily emissions (<envar>$PTDAT</envar> directory)</entry>
<entry colname="Other">User</entry>
</row>
</tbody>
</tgroup>
</table>

<table id="tbl_input_other_files">

<title>Other Support Input Files</title>

<tgroup cols="6">
<colspec colwidth="25*" colname="Name" />
<colspec colwidth="10*" colname="Source" />
<colspec colwidth="40*" colname="Description" />
<colspec colwidth="5*" colname="CNV" />
<colspec colwidth="5*" colname="ST" />
<colspec colwidth="15*" colname="Other" />

<thead>
<row>
<entry>Logical File Name with (Program)</entry>
<entry>Source Category</entry>
<entry>File Description and (Location)</entry>
<entry>CNV</entry>
<entry>ST</entry>
<entry>Other</entry>
</row>
</thead>

<tbody>
<row>
<entry><link linkend="sect_input_artopnt"><envar>ARTOPNT</envar></link> (<command>Smkinven</command>)</entry>
<entry>A</entry>
<entry>Area-to-point conversion file (<filename class="directory"><envar>$INVDIR</envar>/other</filename> directory)</entry>
<entry colname="Other">Resident/user</entry>
</row>
<row>
<entry><link linkend="sect_input_costcy"><envar>COSTCY</envar></link> (<command>Smkinven</command>, <command>Grwinven</command>, <command>Temporal</command>, <command>Smkmerge</command>, <command>Smkreport</command>)</entry>
<entry>A, B, M, P</entry>
<entry>Country, state, and county names and time zones (<envar>$GE_DAT</envar> directory)</entry>
<entry colname="Other">Resident</entry>
</row>
<row>
<entry><link linkend="sect_input_invtable"><envar>INVTABLE</envar></link> (<command>Smkinven</command>, <command>Emisfac</command>, <command>Spcmat</command>, <command>Temporal</command>, <command>Smkmerge</command>)</entry>
<entry>A, M, P</entry>
<entry>Pollutant and activity names and codes in order of output (<filename class="directory"><envar>$INVDIR</envar>/other</filename> directory)</entry>
<entry colname="Other">Resident/user</entry>
</row>
<row>
<entry><link linkend="sect_input_nhapexclude"><envar>NHAPEXCLUDE</envar></link> (<command>Smkinven</command>)</entry>
<entry>A, M, P</entry>
<entry>NONHAP exclusions file (<filename class="directory"><envar>$INVDIR</envar>/other</filename> directory)</entry>
<entry colname="Other">Resident/User</entry>
</row>
<row>
<entry><link linkend="sect_input_orisdesc"><envar>ORISDESC</envar></link> (<command>Smkinven</command>)</entry>
<entry>P</entry>
<entry>ORIS facility descriptions, needed for getting ORIS facility names for reporting purposes (<envar>$GE_DAT</envar> directory)</entry>
<entry colname="Other">Resident</entry>
</row>
<row>
<entry><link linkend="sect_input_sccdesc"><envar>SCCDESC</envar></link> (<command>Smkinven</command>, <command>Smkreport</command>)</entry>
<entry>A, M, P</entry>
<entry>SCC descriptions (<envar>$GE_DAT</envar> directory)</entry>
<entry colname="Other">Resident</entry>
</row>
<row>
<entry><link linkend="sect_input_vnammap"><envar>VNAMMAP</envar></link> (<command>Smk2emis</command>)</entry>
<entry>A, B, M, P</entry>
<entry>Species name mapping file for <command>Smk2emis</command> (<envar>$GE_DAT</envar> directory)</entry>
<entry colname="Other">User</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_input_nctox_case">

<title>Input files for SMOKE nctox case</title>

<para>In this section, we summarize the SMOKE input files for the nctox sample case provided with SMOKE for processing ozone, PM, and toxics pollutants. You can adapt these tables to keep track of the raw input files needed for your cases, and to help you understand all the files that need to be prepared for input to SMOKE. <xref linkend="sect_scripts_nctox_case" /> is a description of the nctox case in more detail. The documentation in <xref linkend="sect_scripts_how_use_smoke" /> describes which input files need to be changed for adapting the default scripts to a particular case.</para>

<para>We list the raw SMOKE input files by program, with the programs listed in alphabetical order:</para>

<itemizedlist spacing="compact">
<listitem><xref linkend="tbl_input_nctox_cntlmat_files" /></listitem>
<listitem><xref linkend="tbl_input_nctox_elevpoint_files" /></listitem>
<listitem><xref linkend="tbl_input_nctox_emisfac_files" /></listitem>
<listitem><xref linkend="tbl_input_nctox_grdmat_files" /></listitem>
<listitem><xref linkend="tbl_input_nctox_grwinven_files" /></listitem>
<listitem><xref linkend="tbl_input_nctox_laypoint_files" /></listitem>
<listitem><xref linkend="tbl_input_nctox_mbsetup_files" /></listitem>
<listitem><xref linkend="tbl_input_nctox_mrggrid_files" /></listitem>
<listitem><xref linkend="tbl_input_nctox_normbeis3_files" /></listitem>
<listitem><xref linkend="tbl_input_nctox_premobl_files" /></listitem>
<listitem><xref linkend="tbl_input_nctox_rawbio_files" /></listitem>
<listitem><xref linkend="tbl_input_nctox_smkinven_files" /></listitem>
<listitem><xref linkend="tbl_input_nctox_smkmerge_files" /></listitem>
<listitem><xref linkend="tbl_input_nctox_spcmat_files" /></listitem>
<listitem><xref linkend="tbl_input_nctox_temporal_files" /></listitem>
<listitem><xref linkend="tbl_input_nctox_tmpbeis3_files" /></listitem>
<listitem><xref linkend="tbl_input_nctox_tmpbio_files" /></listitem>
</itemizedlist>

<para>The files listed are the files that would have to be created by the user or provided by SMOKE, and most cannot be created with a SMOKE utility (exceptions are noted in the tables). Those files that are typically prepared by the users are listed with their logical file names in bold, while the files that users do not usually change fro the defaults are not. Intermediate files (those output by one program and input to another) are not included in the list, but can be found with the program-specific documentation in <xref linkend="ch_programs" /> and in the intermediate file documentation in <xref linkend="ch_intermediate_files" />. The files that are shared among several programs are listed with each program for which they are used (i.e. listed multiple times), and noted with an asterisk adjacent to the logical file name. The file paths are listed using the path logical names, the definitions for which are available below the tables.</para>

<table id="tbl_input_nctox_cntlmat_files">

<title><command>Cntlmat</command> input files for nctox case</title>

<tgroup cols="4">
<colspec colwidth="30*" colname="Logical" />
<colspec colwidth="15*" colname="Source" />
<colspec colwidth="25*" colname="Path" />
<colspec colwidth="30*" colname="Physical" />

<thead>
<row>
<entry>Logical file name and description</entry>
<entry>Source category</entry>
<entry>Path</entry>
<entry>Physical file name</entry>
</row>
</thead>

<tbody>
<row>
<entry><emphasis role="bold"><envar>GCNTL</envar></emphasis>: growth and/or control instructions</entry>
<entry>
<simplelist>
<member>A (stationary)</member>
<member>A (nonroad)</member>
<member>M (on-road)</member>
<member>P</member>
</simplelist>
</entry>
<entry>
<simplelist>
<member><filename class="directory"><envar>$INVDIR</envar>/area/</filename></member>
<member><filename class="directory"><envar>$INVDIR</envar>/nonroad/</filename></member>
<member><filename class="directory"><envar>$INVDIR</envar>/mobile/</filename></member>
<member><filename class="directory"><envar>$INVDIR</envar>/point/</filename></member>
</simplelist>
</entry>
<entry>
<simplelist>
<member><filename>gcntl.1996_2018.txt</filename></member>
<member><filename>gcntl.1999_2018.txt</filename></member>
<member><filename>gcntl.1999_2018.txt</filename></member>
<member><filename>gcntl.1996_2018.txt</filename></member>
</simplelist>
</entry>
</row>
<row>
<entry><envar>GSPRO</envar>*: speciation profiles needed for reactivity controls only</entry>
<entry>A, M, P</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>gspro.cmaq.cb4p25_wtox.txt</filename></entry>
</row>

<row>
<entry namest="Logical" nameend="Physical">Bold file names indicate that the file is typically prepared by the user; * This file is used by more than one program.</entry>
</row>

</tbody>
</tgroup>
</table>

<table id="tbl_input_nctox_elevpoint_files">

<title><command>Elevpoint</command> input files for nctox case</title>

<tgroup cols="4">
<colspec colwidth="30*" colname="Logical" />
<colspec colwidth="15*" colname="Source" />
<colspec colwidth="25*" colname="Path" />
<colspec colwidth="30*" colname="Physical" />

<thead>
<row>
<entry>Logical file name and description</entry>
<entry>Source category</entry>
<entry>Path</entry>
<entry>Physical file name</entry>
</row>
</thead>

<tbody>
<row>
<entry><emphasis role="bold"><envar>GRIDDESC</envar></emphasis>*: grid descriptions</entry>
<entry>P</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>GRIDDESC</filename></entry>
</row>
<row>
<entry><emphasis role="bold"><envar>PELVCONFIG</envar></emphasis>: elevated source selection instructions</entry>
<entry>P</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/point/</filename></entry>
<entry><filename>pelvconfig.top50.txt</filename></entry>
</row>
<row>
<entry><emphasis role="bold"><envar>PTMPLIST</envar></emphasis>: optional list of <envar>PTMP</envar> SMOKE intermediate files for selecting elevated point sources based on emissions</entry>
<entry>P</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/point/</filename></entry>
<entry><filename>ptmplist.txt</filename> (generated automatically by default run script)</entry>
</row>

<row>
<entry namest="Logical" nameend="Physical">Bold file names indicate that the file is typically prepared by the user; * This file is used by more than one program.</entry>
</row>

</tbody>
</tgroup>
</table>

<table id="tbl_input_nctox_emisfac_files">

<title><command>Emisfac</command> input files for nctox case</title>

<tgroup cols="4">
<colspec colwidth="30*" colname="Logical" />
<colspec colwidth="15*" colname="Source" />
<colspec colwidth="25*" colname="Path" />
<colspec colwidth="30*" colname="Physical" />

<thead>
<row>
<entry>Logical file name and description</entry>
<entry>Source category</entry>
<entry>Path</entry>
<entry>Physical file name</entry>
</row>
</thead>

<tbody>
<row>
<entry><envar>INVTABLE</envar>*: inventory table</entry>
<entry>M</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/other/</filename></entry>
<entry><filename>invtable_onroad.cb4.120202.txt</filename></entry>
</row>
<row>
<entry><emphasis role="bold"><envar>M6LIST</envar></emphasis>: List of MOBILE6 scenario files with path</entry>
<entry>M</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/mobile/</filename></entry>
<entry><filename>m6list.nctox.1999.txt</filename> (generated automatically by default run script)</entry>
</row>
<row>
<entry><envar>MEPROC</envar>*: mobile processes</entry>
<entry>M</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/mobile</filename></entry>
<entry><filename>meproc.txt</filename></entry>
</row>
<row>
<entry>Required MOBILE6 input files. (Note that there are other MOBILE6 input files that are needed if you use certain settings in the <envar>M6LIST</envar> file).</entry>
<entry>M</entry>
<entry><filename class="directory"><envar>$SMK_M6PATH</envar>/</filename></entry>
<entry>
<simplelist>
<member><filename>ASMDATA.D</filename></member>
<member><filename>HAP_BASE.CSV</filename></member>
<member><filename>PMDDR1.CSV</filename></member>
<member><filename>PMDDR2.CSV</filename></member>
<member><filename>PMDZML.CSV</filename></member>
<member><filename>PMGDR1.CSV</filename></member>
<member><filename>PMGDR2.CSV</filename></member>
<member><filename>PMGZML.CSV</filename></member>
<member><filename>PMNH3BER.D</filename></member>
<member><filename>PMNH3SDR.D</filename></member>
<member><filename>TECH12.D</filename></member>
</simplelist>
</entry>
</row>

<row>
<entry namest="Logical" nameend="Physical">Bold file names indicate that the file is typically prepared by the user; * This file is used by more than one program.</entry>
</row>

</tbody>
</tgroup>
</table>

<table id="tbl_input_nctox_grdmat_files">

<title><command>Grdmat</command> input files for nctox case</title>

<tgroup cols="4">
<colspec colwidth="30*" colname="Logical" />
<colspec colwidth="15*" colname="Source" />
<colspec colwidth="25*" colname="Path" />
<colspec colwidth="30*" colname="Physical" />

<thead>
<row>
<entry>Logical file name and description</entry>
<entry>Source category</entry>
<entry>Path</entry>
<entry>Physical file name</entry>
</row>
</thead>

<tbody>
<row>
<entry><emphasis role="bold"><envar>AGPRO</envar></emphasis>: gridding surrogates</entry>
<entry>A</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>abmgpro.m3.040402.us36+can+mex.txt</filename></entry>
</row>
<row>
<entry><emphasis role="bold"><envar>AGREF</envar></emphasis>: gridding cross-reference</entry>
<entry>A</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>amgref.m3.us+mex.txt</filename></entry>
</row>
<row>
<entry><emphasis role="bold"><envar>GRIDDESC</envar></emphasis>*: grid descriptions</entry>
<entry>A, M, P</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>GRIDDESC</filename></entry>
</row>
<row>
<entry><envar>MCODES</envar>*: mobile code definitions</entry>
<entry>M</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/mobile/</filename></entry>
<entry><filename>mcodes.txt</filename></entry>
</row>
<row>
<entry><emphasis role="bold"><envar>MGPRO</envar></emphasis>: gridding surrogates</entry>
<entry>M</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>abmgpro.m3.040402.us36+can+mex.txt</filename></entry>
</row>
<row>
<entry><emphasis role="bold"><envar>MGREF</envar></emphasis>: gridding cross-reference</entry>
<entry>M</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>amgref.m3.us+mex.txt</filename></entry>
</row>

<row>
<entry namest="Logical" nameend="Physical">Bold file names indicate that the file is typically prepared by the user; * This file is used by more than one program.</entry>
</row>

</tbody>
</tgroup>
</table>

<table id="tbl_input_nctox_grwinven_files">

<title><command>Grwinven</command> input files for nctox case</title>

<tgroup cols="4">
<colspec colwidth="30*" colname="Logical" />
<colspec colwidth="15*" colname="Source" />
<colspec colwidth="25*" colname="Path" />
<colspec colwidth="30*" colname="Physical" />

<thead>
<row>
<entry>Logical file name and description</entry>
<entry>Source category</entry>
<entry>Path</entry>
<entry>Physical file name</entry>
</row>
</thead>

<tbody>
<row>
<entry><envar>COSTCY</envar>*: country, state, and county names</entry>
<entry>A, M, P</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>costcy.txt</filename></entry>
</row>

<row>
<entry namest="Logical" nameend="Physical">Bold file names indicate that the file is typically prepared by the user; * This file is used by more than one program.</entry>
</row>

</tbody>
</tgroup>
</table>

<table id="tbl_input_nctox_laypoint_files">

<title><command>Laypoint</command> input files for nctox case</title>

<tgroup cols="4">
<colspec colwidth="30*" colname="Logical" />
<colspec colwidth="15*" colname="Source" />
<colspec colwidth="25*" colname="Path" />
<colspec colwidth="30*" colname="Physical" />

<thead>
<row>
<entry>Logical file name and description</entry>
<entry>Source category</entry>
<entry>Path</entry>
<entry>Physical file name</entry>
</row>
</thead>

<tbody>
<row>
<entry><emphasis role="bold"><envar>GRID_CRO_3D</envar></emphasis>: 3-d cross-point grid data</entry>
<entry>P</entry>
<entry><filename class="directory"><envar>$METDAT</envar>/</filename></entry>
<entry><filename>GRIDCRO3D</filename></entry>
</row>
<row>
<entry><emphasis role="bold"><envar>GRIDDESC</envar></emphasis>*: grid descriptions</entry>
<entry>P</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>GRIDDESC</filename></entry>
</row>
<row>
<entry><emphasis role="bold"><envar>MET_CRO_2D</envar></emphasis>*: 2-d cross-point meteorology data</entry>
<entry>P</entry>
<entry><filename class="directory"><envar>$METDAT</envar>/</filename></entry>
<entry>
<simplelist>
<member><filename>METCRO2D_1996191</filename></member>
<member><filename>METCRO2D_1996192</filename></member>
</simplelist>
</entry>
</row>
<row>
<entry><emphasis role="bold"><envar>MET_CRO_3D</envar></emphasis>*: 3-d cross-point grid data</entry>
<entry>P</entry>
<entry><filename class="directory"><envar>$METDAT</envar>/</filename></entry>
<entry>
<simplelist>
<member><filename>METCRO3D_1996191</filename></member>
<member><filename>METCRO3D_1996192</filename></member>
</simplelist>
</entry>
</row>
<row>
<entry><emphasis role="bold"><envar>MET_DOT_3D</envar></emphasis>: 3-d dot-point grid data (for winds)</entry>
<entry>P</entry>
<entry><filename class="directory"><envar>$METDAT</envar>/</filename></entry>
<entry>
<simplelist>
<member><filename>METDOT3D_1996191</filename></member>
<member><filename>METDOT3D_1996192</filename></member>
</simplelist>
</entry>
</row>

<row>
<entry namest="Logical" nameend="Physical">Bold file names indicate that the file is typically prepared by the user; * This file is used by more than one program.</entry>
</row>

</tbody>
</tgroup>
</table>

<table id="tbl_input_nctox_mbsetup_files">

<title><command>Mbsetup</command> input files for nctox case</title>

<tgroup cols="4">
<colspec colwidth="30*" colname="Logical" />
<colspec colwidth="15*" colname="Source" />
<colspec colwidth="25*" colname="Path" />
<colspec colwidth="30*" colname="Physical" />

<thead>
<row>
<entry>Logical file name and description</entry>
<entry>Source category</entry>
<entry>Path</entry>
<entry>Physical file name</entry>
</row>
</thead>

<tbody>
<row>
<entry><emphasis role="bold"><envar>MCREF</envar></emphasis>: county cross-reference</entry>
<entry>M</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/mobile/</filename></entry>
<entry><filename>mcref.nctox.txt</filename></entry>
</row>
<row>
<entry><emphasis role="bold"><envar>MVREF</envar></emphasis>: county meteorology group settings</entry>
<entry>M</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/mobile/</filename></entry>
<entry><filename>mvref.nctox.txt</filename></entry>
</row>

<row>
<entry namest="Logical" nameend="Physical">Bold file names indicate that the file is typically prepared by the user; * This file is used by more than one program.</entry>
</row>

</tbody>
</tgroup>
</table>

<table id="tbl_input_nctox_mrggrid_files">

<title><command>Mrggrid</command> input files for nctox case</title>

<tgroup cols="4">
<colspec colwidth="30*" colname="Logical" />
<colspec colwidth="15*" colname="Source" />
<colspec colwidth="25*" colname="Path" />
<colspec colwidth="30*" colname="Physical" />

<thead>
<row>
<entry>Logical file name and description</entry>
<entry>Source category</entry>
<entry>Path</entry>
<entry>Physical file name</entry>
</row>
</thead>

<tbody>
<row>
<entry><emphasis role="bold"><envar>FILELIST</envar></emphasis>: list of logical file names to merge</entry>
<entry>All</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/other/</filename></entry>
<entry><filename>filelist.mrggrid.txt</filename> (generated automatically by default run script)</entry>
</row>

<row>
<entry namest="Logical" nameend="Physical">Bold file names indicate that the file is typically prepared by the user; * This file is used by more than one program.</entry>
</row>

</tbody>
</tgroup>
</table>

<table id="tbl_input_nctox_normbeis3_files">

<title><command>Normbeis3</command> input files for nctox case</title>

<tgroup cols="4">
<colspec colwidth="30*" colname="Logical" />
<colspec colwidth="15*" colname="Source" />
<colspec colwidth="25*" colname="Path" />
<colspec colwidth="30*" colname="Physical" />

<thead>
<row>
<entry>Logical file name and description</entry>
<entry>Source category</entry>
<entry>Path</entry>
<entry>Physical file name</entry>
</row>
</thead>

<tbody>
<row>
<entry><emphasis role="bold"><envar>B3FAC</envar></emphasis>: BEIS3 emissions factors</entry>
<entry>B</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>b3fac.march2002.beisv3.09.txt</filename></entry>
</row>
<row>
<entry><emphasis role="bold"><envar>BELD3_A</envar></emphasis>: File A of biogenic gridded landuse</entry>
<entry>B</entry>
<entry><filename class="directory"><envar>$SMKDAT</envar>/inventory/beld3</filename></entry>
<entry><filename>LANDA_c_cmaq_nat.dat</filename></entry>
</row>
<row>
<entry><emphasis role="bold"><envar>BELD3_B</envar></emphasis>: File B of biogenic gridded landuse</entry>
<entry>B</entry>
<entry><filename class="directory"><envar>$SMKDAT</envar>/inventory/beld3</filename></entry>
<entry><filename>LANDB_c_cmaq_nat.dat</filename></entry>
</row>
<row>
<entry><emphasis role="bold"><envar>BELD3_TOT</envar></emphasis>: Landuse totals</entry>
<entry>B</entry>
<entry><filename class="directory"><envar>$SMKDAT</envar>/inventory/beld3</filename></entry>
<entry><filename>LAND_TOTALS_c_cmaq_nat.dat</filename></entry>
</row>

<row>
<entry namest="Logical" nameend="Physical">Bold file names indicate that the file is typically prepared by the user; * This file is used by more than one program.</entry>
</row>

</tbody>
</tgroup>
</table>

<table id="tbl_input_nctox_premobl_files">

<title><command>Premobl</command> input files for nctox case</title>

<tgroup cols="4">
<colspec colwidth="30*" colname="Logical" />
<colspec colwidth="15*" colname="Source" />
<colspec colwidth="25*" colname="Path" />
<colspec colwidth="30*" colname="Physical" />

<thead>
<row>
<entry>Logical file name and description</entry>
<entry>Source category</entry>
<entry>Path</entry>
<entry>Physical file name</entry>
</row>
</thead>

<tbody>
<row>
<entry><emphasis role="bold"><envar>METLIST</envar></emphasis>: meteorology file list</entry>
<entry>M</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/mobile/</filename></entry>
<entry><filename>metlist.premobl.txt</filename> (This list will include the paths of the 2-D [<envar>MET_CRO_2D</envar>] or 3-D [<envar>MET_CRO_3D</envar>] meteorology files for the entire modeling episode and is generated automatically by default run script.)</entry>
</row>

<row>
<entry namest="Logical" nameend="Physical">Bold file names indicate that the file is typically prepared by the user; * This file is used by more than one program.</entry>
</row>

</tbody>
</tgroup>
</table>

<table id="tbl_input_nctox_rawbio_files">

<title><command>Rawbio</command> input files for nctox case</title>

<tgroup cols="4">
<colspec colwidth="30*" colname="Logical" />
<colspec colwidth="15*" colname="Source" />
<colspec colwidth="25*" colname="Path" />
<colspec colwidth="30*" colname="Physical" />

<thead>
<row>
<entry>Logical file name and description</entry>
<entry>Source category</entry>
<entry>Path</entry>
<entry>Physical file name</entry>
</row>
</thead>

<tbody>
<row>
<entry><envar>BCUSE</envar>: county land use</entry>
<entry>B</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry>not used in this case</entry>
</row>
<row>
<entry><envar>BFAC</envar>: emission factors</entry>
<entry>B</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry>
<simplelist>
<member><filename>bfac.summer.txt</filename></member>
<member><filename>bfac.winter.txt</filename></member>
</simplelist>
</entry>
</row>
<row>
<entry><emphasis role="bold"><envar>BGUSE</envar></emphasis>: gridded land use</entry>
<entry>B</entry>
<entry><filename class="directory"><envar>$SMKDAT</envar>/inventory/beld2/</filename></entry>
<entry><filename>beld.5.us36.txt</filename></entry>
</row>
<row>
<entry><emphasis role="bold"><envar>GRIDDESC</envar></emphasis>*: grid descriptions</entry>
<entry>B</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>GRIDDESC</filename></entry>
</row>

<row>
<entry namest="Logical" nameend="Physical">Bold file names indicate that the file is typically prepared by the user; * This file is used by more than one program.</entry>
</row>

</tbody>
</tgroup>
</table>

<table id="tbl_input_nctox_smkinven_files">

<title><command>Smkinven</command> input files for nctox case</title>

<tgroup cols="4">
<colspec colwidth="30*" colname="Logical" />
<colspec colwidth="15*" colname="Source" />
<colspec colwidth="25*" colname="Path" />
<colspec colwidth="30*" colname="Physical" />

<thead>
<row>
<entry>Logical file name and description</entry>
<entry>Source category</entry>
<entry>Path</entry>
<entry>Physical file name</entry>
</row>
</thead>

<tbody>
<row>
<entry><emphasis role="bold"><envar>ARINV</envar></emphasis> (area): stationary area/nonpoint inventory (or list of inventories)</entry>
<entry>A</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/area/</filename></entry>
<entry><filename>arinv.stationary.lst</filename></entry>
</row>
<row>
<entry><emphasis role="bold"><envar>ARINV</envar></emphasis> (nonroad): nonroad inventory (or list of inventories)</entry>
<entry>A</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/nonroad/</filename></entry>
<entry><filename>arinv.nonroad.lst</filename></entry>
</row>
<row>
<entry><envar>ARTOPNT</envar>: area-to-point assignments</entry>
<entry>A</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/other/</filename></entry>
<entry><filename>artopnt.1999.txt</filename></entry>
</row>
<row>
<entry><envar>COSTCY</envar>*: time zones by county</entry>
<entry>All</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>costcy.txt</filename></entry>
</row>
<row>
<entry><envar>INVTABLE</envar>*: inventory table</entry>
<entry>
<simplelist>
<member>A, P</member>
<member>M</member>
</simplelist>
</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/other/</filename></entry>
<entry>
<simplelist>
<member><filename>invtable_nonroad.cb4.120202.txt</filename></member>
<member><filename>invtable_onroad.cb4.120202.txt</filename></member>
</simplelist>
</entry>
</row>
<row>
<entry><emphasis role="bold"><envar>MBINV</envar></emphasis>: on-road mobile inventory (or list of inventories)</entry>
<entry>M</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/mobile/</filename></entry>
<entry><filename>mbinv.lst</filename></entry>
</row>
<row>
<entry><envar>MCODES</envar>*: mobile code definitions</entry>
<entry>M</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/mobile/</filename></entry>
<entry><filename>mcodes.txt</filename></entry>
</row>
<row>
<entry><envar>NHAPEXCLUDE</envar>: exclusions from NONHAP calculation</entry>
<entry>
<simplelist>
<member>A (nonroad), M</member>
<member>A (stationary), P</member>
</simplelist>
</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/other/</filename></entry>
<entry>
<simplelist>
<member><filename>nhapexclude.1999.txt</filename></member>
<member><filename>nhapexclude.all.txt</filename></member>
</simplelist>
</entry>
</row>
<row>
<entry><envar>ORISDESC</envar>: ORIS ID descriptions</entry>
<entry>P</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>oris_info.txt</filename></entry>
</row>
<row>
<entry><emphasis role="bold"><envar>PTDAY</envar></emphasis>: point source list of day-specific data</entry>
<entry>P</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/point/</filename></entry>
<entry>Not used in this case</entry>
</row>
<row>
<entry><emphasis role="bold"><envar>PTHOUR</envar></emphasis>: point source list of hour-specific data</entry>
<entry>P</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/point/</filename></entry>
<entry><filename>pthour.lst</filename> (List of CEM files of interest)</entry>
</row>
<row>
<entry><emphasis role="bold"><envar>PTINV</envar></emphasis>: point source inventory (or list of inventories)</entry>
<entry>P</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/point/</filename></entry>
<entry><filename>ptinv.lst</filename></entry>
</row>
<row>
<entry><envar>PSTK</envar>: replacements for bad stack parameters</entry>
<entry>P</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>pstk.m3.txt</filename></entry>
</row>
<row>
<entry><envar>SCCDESC</envar>: SCC descriptions</entry>
<entry>A, M, P</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>scc_desc.txt</filename></entry>
</row>
<row>
<entry><emphasis role="bold"><envar>VMTMIX</envar></emphasis>: vehicle mix </entry>
<entry>M</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/mobile/</filename></entry>
<entry>Not used in this case because of <envar>MBINV</envar> format selected.</entry>
</row>

<row>
<entry namest="Logical" nameend="Physical">Bold file names indicate that the file is typically prepared by the user; * This file is used by more than one program.</entry>
</row>

</tbody>
</tgroup>
</table>

<table id="tbl_input_nctox_smkmerge_files">

<title><command>Smkmerge</command> input files for nctox case</title>

<tgroup cols="4">
<colspec colwidth="30*" colname="Logical" />
<colspec colwidth="15*" colname="Source" />
<colspec colwidth="25*" colname="Path" />
<colspec colwidth="30*" colname="Physical" />

<thead>
<row>
<entry>Logical file name and description</entry>
<entry>Source category</entry>
<entry>Path</entry>
<entry>Physical file name</entry>
</row>
</thead>

<tbody>
<row>
<entry><emphasis role="bold"><envar>BGPRO</envar></emphasis>: spatial surrogates with cell-area surrogate</entry>
<entry>B</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>abmgpro.m3.040402.us36+can+mex.txt</filename></entry>
</row>
<row>
<entry><emphasis role="bold"><envar>GRIDDESC</envar></emphasis>*: grid descriptions</entry>
<entry>All</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>GRIDDESC</filename></entry>
</row>
<row>
<entry><envar>INVTABLE</envar>*: inventory table</entry>
<entry>
<simplelist>
<member>A, P</member>
<member>M</member>
</simplelist>
</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/other/</filename></entry>
<entry>
<simplelist>
<member><filename>invtable_nonroad.cb4.120202.txt</filename></member>
<member><filename>invtable_onroad.cb4.120202.txt</filename></member>
</simplelist>
</entry>
</row>

<row>
<entry namest="Logical" nameend="Physical">Bold file names indicate that the file is typically prepared by the user; * This file is used by more than one program.</entry>
</row>

</tbody>
</tgroup>
</table>

<table id="tbl_input_nctox_spcmat_files">

<title><command>Spcmat</command> input files for nctox case</title>

<tgroup cols="4">
<colspec colwidth="30*" colname="Logical" />
<colspec colwidth="15*" colname="Source" />
<colspec colwidth="25*" colname="Path" />
<colspec colwidth="30*" colname="Physical" />

<thead>
<row>
<entry>Logical file name and description</entry>
<entry>Source category</entry>
<entry>Path</entry>
<entry>Physical file name</entry>
</row>
</thead>

<tbody>
<row>
<entry><envar>GSCNV</envar>: pollutant-to-pollutant conversion</entry>
<entry>A, M, P</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>gscnv.txt</filename></entry>
</row>
<row>
<entry><envar>GSPRO</envar>*: speciation profiles</entry>
<entry>
<simplelist>
<member>M</member>
<member>A, P</member>
</simplelist>
</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry>
<simplelist>
<member><filename>gspro.cmaq.cb4p25_wtox.m.txt</filename></member>
<member><filename>gspro.cmaq.cb4p25_wtox.txt</filename></member>
</simplelist>
</entry>
</row>
<row>
<entry><envar>GSREF</envar>: speciation cross-reference</entry>
<entry>A, M, P</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>gsref.cmaq.cb4p25_wtox.txt</filename></entry>
</row>
<row>
<entry><envar>INVTABLE</envar>*: inventory table</entry>
<entry>
<simplelist>
<member>A, P</member>
<member>M</member>
</simplelist>
</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/other/</filename></entry>
<entry>
<simplelist>
<member><filename>invtable_nonroad.cb4.120202.txt</filename></member>
<member><filename>invtable_onroad.cb4.120202.txt</filename></member>
</simplelist>
</entry>
</row>
<row>
<entry><envar>MCODES</envar>*: mobile code definitions</entry>
<entry>M</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/mobile/</filename></entry>
<entry><filename>mcodes.txt</filename></entry>
</row>
<row>
<entry><envar>MEPROC</envar>*: mobile processes</entry>
<entry>M</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/mobile/</filename></entry>
<entry><filename>meproc.txt</filename></entry>
</row>

<row>
<entry namest="Logical" nameend="Physical">Bold file names indicate that the file is typically prepared by the user; * This file is used by more than one program.</entry>
</row>

</tbody>
</tgroup>
</table>

<table id="tbl_input_nctox_temporal_files">

<title><command>Temporal</command> input files for nctox case</title>

<tgroup cols="4">
<colspec colwidth="30*" colname="Logical" />
<colspec colwidth="15*" colname="Source" />
<colspec colwidth="25*" colname="Path" />
<colspec colwidth="30*" colname="Physical" />

<thead>
<row>
<entry>Logical file name and description</entry>
<entry>Source category</entry>
<entry>Path</entry>
<entry>Physical file name</entry>
</row>
</thead>

<tbody>
<row>
<entry><envar>ATPRO</envar>: Temporal profiles</entry>
<entry>A</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>amptpro.m3.us+can.txt</filename></entry>
</row>
<row>
<entry><envar>ATREF</envar>: Temporal cross-reference</entry>
<entry>A</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>amptref.m3.us+can.txt</filename></entry>
</row>
<row>
<entry><envar>COSTCY</envar>*: Daylight time exemptions</entry>
<entry>All</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>costcy.txt</filename></entry>
</row>
<row>
<entry><envar>HOLIDAYS</envar>: Holidays date list</entry>
<entry>A, M, P</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>holidays.txt</filename></entry>
</row>
<row>
<entry><envar>INVTABLE</envar>*: inventory table</entry>
<entry>
<simplelist>
<member>A, P</member>
<member>M</member>
</simplelist>
</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/other/</filename></entry>
<entry>
<simplelist>
<member><filename>invtable_nonroad.cb4.120202.txt</filename></member>
<member><filename>invtable_onroad.cb4.120202.txt</filename></member>
</simplelist>
</entry>
</row>
<row>
<entry><envar>MCODES</envar>*: mobile code definitions</entry>
<entry>M</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/mobile/</filename></entry>
<entry><filename>mcodes.txt</filename></entry>
</row>
<row>
<entry><envar>MEFLIST</envar>: list of emission factors files</entry>
<entry>M</entry>
<entry><filename class="directory"><envar>$SMK_EMISPATH</envar>/</filename></entry>
<entry><filename>meflist.txt</filename> (generated automatically by default run script)</entry>
</row>
<row>
<entry><envar>MEPROC</envar>*: mobile processes</entry>
<entry>M</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/mobile/</filename></entry>
<entry><filename>meproc.txt</filename></entry>
</row>
<row>
<entry><envar>MTPRO</envar>: Temporal profiles</entry>
<entry>M</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>amptpro.m3.us+can.txt</filename></entry>
</row>
<row>
<entry><envar>MTREF</envar>: Temporal cross-reference</entry>
<entry>M</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>amptref.m3.us+can.txt</filename></entry>
</row>
<row>
<entry><envar>PTPRO</envar>: Temporal profiles</entry>
<entry>P</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>amptpro.m3.us+can.txt</filename></entry>
</row>
<row>
<entry><envar>PTREF</envar>: Temporal cross-reference</entry>
<entry>P</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>amptref.m3.us+can.txt</filename></entry>
</row>

<row>
<entry namest="Logical" nameend="Physical">Bold file names indicate that the file is typically prepared by the user; * This file is used by more than one program.</entry>
</row>

</tbody>
</tgroup>
</table>

<table id="tbl_input_nctox_tmpbeis3_files">

<title><command>Tmpbeis3</command> input files for nctox case</title>

<tgroup cols="4">
<colspec colwidth="30*" colname="Logical" />
<colspec colwidth="15*" colname="Source" />
<colspec colwidth="25*" colname="Path" />
<colspec colwidth="30*" colname="Physical" />

<thead>
<row>
<entry>Logical file name and description</entry>
<entry>Source category</entry>
<entry>Path</entry>
<entry>Physical file name</entry>
</row>
</thead>

<tbody>
<row>
<entry>Same raw inputs as <command>Tmpbio</command> program, documented below</entry>
<entry>See <command>Tmpbio</command></entry>
<entry>See <command>Tmpbio</command></entry>
<entry>See <command>Tmpbio</command></entry>
</row>

<row>
<entry namest="Logical" nameend="Physical">Bold file names indicate that the file is typically prepared by the user; * This file is used by more than one program.</entry>
</row>

</tbody>
</tgroup>
</table>

<table id="tbl_input_nctox_tmpbio_files">

<title><command>Tmpbio</command> input files for nctox case</title>

<tgroup cols="4">
<colspec colwidth="30*" colname="Logical" />
<colspec colwidth="15*" colname="Source" />
<colspec colwidth="25*" colname="Path" />
<colspec colwidth="30*" colname="Physical" />

<thead>
<row>
<entry>Logical file name and description</entry>
<entry>Source category</entry>
<entry>Path</entry>
<entry>Physical file name</entry>
</row>
</thead>

<tbody>
<row>
<entry><emphasis role="bold"><envar>BIOSEASON</envar></emphasis>: Winter/summer designation by cell and day</entry>
<entry>B</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>bioseason.ncf</filename></entry>
</row>
<row>
<entry><emphasis role="bold"><envar>GRID_CRO_2D</envar></emphasis>: 2-d cross-point grid data </entry>
<entry>B</entry>
<entry><filename class="directory"><envar>$METDAT</envar>/</filename></entry>
<entry>Not used in this case (From MCIP)</entry>
</row>
<row>
<entry><envar>GSPRO</envar>*: Speciation profiles</entry>
<entry>B</entry>
<entry><filename class="directory"><envar>$GE_DAT</envar>/</filename></entry>
<entry><filename>gspro.cmaq.cb4p25.txt</filename></entry>
</row>
<row>
<entry><emphasis role="bold"><envar>METLIST</envar></emphasis>: List of MCIP outputs with temperature data</entry>
<entry>B</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/biog/</filename></entry>
<entry><filename>metlist.tmpbio.txt</filename> (generated automatically by default run script)</entry>
</row>
<row>
<entry><emphasis role="bold"><envar>RADLIST</envar></emphasis>: List of MCIP outputs with solar radiation data</entry>
<entry>B</entry>
<entry><filename class="directory"><envar>$INVDIR</envar>/biog/</filename></entry>
<entry><filename>radlist.tmpbio.txt</filename> (generated automatically by default run script)</entry>
</row>

<row>
<entry namest="Logical" nameend="Physical">Bold file names indicate that the file is typically prepared by the user; * This file is used by more than one program.</entry>
</row>

</tbody>
</tgroup>
</table>

<para>There are several directories that contain the raw SMOKE inputs. These are:</para>

<itemizedlist>
<listitem>
<para><filename class="directory"><envar>$INVDIR</envar>/area</filename>: Raw area inputs</para>
</listitem>
<listitem>
<para><filename class="directory"><envar>$SMKDAT</envar>/inventory/beld2</filename> or <filename class="directory"><envar>$SMKDAT</envar>/inventory/beld3</filename>: Raw biogenic inputs</para>
</listitem>
<listitem>
<para><filename class="directory"><envar>$INVDIR</envar>/biog</filename>: Other biogenic inputs</para>
</listitem>
<listitem>
<para><filename class="directory"><envar>$INVDIR</envar>/mobile</filename>: Raw on-road mobile inputs</para>
</listitem>
<listitem>
<para><filename class="directory"><envar>$INVDIR</envar>/nonroad</filename>: Raw nonroad mobile inputs (these can alternatively be included in the area directory)</para>
</listitem>
<listitem>
<para><filename class="directory"><envar>$INVDIR</envar>/point</filename>: Raw point inputs</para>
</listitem>
<listitem>
<para><filename class="directory"><envar>$INVDIR</envar>/other</filename>: Other raw inputs not associated with a specific source category</para>
</listitem>
<listitem>
<para><filename class="directory"><envar>$GE_DAT</envar></filename>: Shared data</para>
</listitem>
<listitem>
<para><filename class="directory"><envar>$SMK_M6PATH</envar></filename>: Raw MOBILE6 input files</para>
</listitem>
<listitem>
<para><filename class="directory"><envar>$SMK_EMISPATH</envar></filename>: Emission factor inputs (the single file that is considered a raw input file is actually prepared by the SMOKE scripts, when these are being used).</para>
</listitem>
<listitem>
<para><filename class="directory"><envar>$METDAT</envar></filename>: Meteorology data (this can be linked to a meteorology directory that is also used by the air quality model).</para>
</listitem>
</itemizedlist>

<para>All of these directories are based on the <filename class="directory"><envar>$SMKDAT</envar></filename> directory, which is set by the Assigns file as <filename class="directory"><envar>$EDSS_ROOT</envar>/data</filename>. The <envar>EDSS_ROOT</envar> environment variable should be set as part of the SMOKE installation process, as described in <xref linkend="sect_install_install" />.</para>

<para>For the nctox case, these directories (based on your <envar>EDSS_ROOT</envar> setting) are as follows:</para>

<itemizedlist>
<listitem>
<para><filename class="directory"><envar>$SMKDAT</envar></filename>: <filename class="directory"><envar>$EDSS_ROOT</envar>/data</filename></para>
</listitem>
<listitem>
<para><filename class="directory"><envar>$INVDIR</envar></filename>: <filename class="directory"><envar>$SMKDAT</envar>/inventory/nctox</filename></para>
</listitem>
<listitem>
<para><filename class="directory"><envar>$GE_DAT</envar></filename>: <filename class="directory"><envar>$SMKDAT</envar>/ge_dat</filename></para>
</listitem>
<listitem>
<para><filename class="directory"><envar>$SMK_M6PATH</envar></filename>: <filename class="directory"><envar>$SMKDAT</envar>/run_nctox/static/m6</filename></para>
</listitem>
<listitem>
<para><filename class="directory"><envar>$SMK_EMISPATH</envar></filename>: <filename class="directory"><envar>$SMKDAT</envar>/run_nctox/static/m6emfac</filename></para>
</listitem>
<listitem>
<para><filename class="directory"><envar>$METDAT</envar></filename>: <filename class="directory"><envar>$SMKDAT</envar>/met/run_a1a</filename></para>
</listitem>
</itemizedlist>

</section>

</section>

<section id="sect_input_inventory">

<title>Inventory Files</title>

<section>

<title>Overview</title>

<section id="sect_input_inventory_list">

<title>Inventory list files</title>

<para>Area-, mobile-, and point-source inventories are provided to SMOKE as ASCII text files using the logical file names <envar>ARINV</envar>, <envar>MBINV</envar>, and <envar>PTINV</envar>, respectively. These files may either contain the actual inventory data (i.e. source characteristics, emissions data, and other information) or they can contain a list of file names with full paths (i.e. <filename>/apps/smoke/data/inventory/nei02/area/arinv.ida.txt</filename>); in the latter case, we call the file a <quote>list file</quote>. When the inventory is a list file, SMOKE will open and read the data in each of the listed files and combine the data into one inventory. This is useful when the individual inventories are in different formats; for example, criteria emissions are typically in IDA format, while the ORL format is used for toxics emissions. You may also choose to separate your data into multiple files, splitting the data by country or into EGU versus nonEGU point sources, or to reduce the individual file sizes. Some inventory formats require that a list file is used; this will be noted in the format descriptions.</para>

<para>An inventory list file can be created using the UNIX <command>ls</command>. The following command will create the <envar>ARINV</envar> file containing a list of all files starting with <filename>arinv</filename> in the <filename class="directory"><envar>$ARDAT</envar></filename> directory, complete with full paths.</para>

<para><userinput><command>ls</command> <filename><envar>$ARDAT</envar>/arinv*</filename> &gt; <envar>$ARINV</envar></userinput></para>

<para>You will still need to edit this file to add format information (see <xref linkend="sect_input_inventory_format" />).</para>

</section>

<section id="sect_input_inventory_format">

<title>File format header</title>

<para>All area-, mobile-, and point-source inventory files must include information specifying the file format being used. This is accomplished using a header entry, either in each individual inventory file or in the list file, if one is being used. Valid format options are:</para>

<itemizedlist>
<listitem>#CEM indicates that the file is in CEM format</listitem>
<listitem>#EMS-95 indicates that the file is in EMS-95 format</listitem>
<listitem>#IDA indicates that the file is in IDA format</listitem>
<listitem>#LIST indicates that the file is a list file</listitem>
<listitem>#ORL indicates that the file is in ORL format (usually used for toxics inventories)</listitem>
<listitem>#ORL NONPOINT indicates that the file is in ORL format for nonpoint sources</listitem>
</itemizedlist>

<para>If you want to give the format information in the list file, you need to append an additional format label to the #LIST header. For example, #LIST IDA indicates that the current file is in list format and that the listed files are IDA format. List files can include multiple #LIST &lt;format&gt; entries to include multiple file types; the given format is assumed to apply to all files until another #LIST &lt;format&gt; is encountered. Format indicators in the individual inventory files will override settings in the list file. A sample list file is shown below.</para>

<programlisting>#LIST IDA
/apps/smoke/data/inventory/nei02/area/arinv.ida.txt
#LIST ORL
/apps/smoke/data/inventory/nti02/area/arinv.orl.txt</programlisting>

<para>In this case, SMOKE will assume that the file <filename>/apps/smoke/data/inventory/nei02/area/arinv.ida.txt</filename> is in IDA format and the file <filename>/apps/smoke/data/inventory/nti02/area/arinv.orl.txt</filename> is in ORL format. Alternatively, these files could be listed like so:</para>

<programlisting>#LIST
/apps/smoke/data/inventory/nei02/area/arinv.ida.txt
/apps/smoke/data/inventory/nti02/area/arinv.orl.txt</programlisting>

<para>In this case, the <filename>/apps/smoke/data/inventory/nei02/area/arinv.ida.txt</filename> file must include the #IDA header and the <filename>/apps/smoke/data/inventory/nti02/area/arinv.orl.txt</filename> file must include the #ORL header.</para>

</section>

<section>

<title>Required and optional fields</title>

<para>Inventory files can include both required and optional fields. In the format tables for each file, required fields are labeled <quote>required</quote>; optional fields are labeled either <quote>recommended</quote>, <quote>optional</quote>, or <quote>not used by SMOKE</quote>. For column-specific file formats, you may leave blank the fields that are optional. List-directed files, on the other hand, must have a default value (usually -9) for these fields.</para>

</section>

<section id="sect_input_inventory_header">

<title>Header records</title>

<para>The IDA and ORL formats used for the area-, mobile-, and point-source inventories require a set of header records at the beginning of each file. The general format of the header records is:</para>

<para>command parm1 parm2 ... parm <emphasis>n</emphasis></para>

<para>The <emphasis>command</emphasis> field starts in the first column of the row. The remainder of the line is list-directed, with each field separated by blanks. The specific header commands vary by source category and format and are listed in <xref linkend="tbl_input_inventory_header" />.</para>

<comment>The header records can appear anywhere in the file to change the parameters of the data. For example, the #COUNTRY value could change to allow for multiple countries in a single file, the #YEAR value could change to allow for multiple years, and the #DATA and #UNITS values could change to allow for different data fields in different parts of the inventory file.</comment>

<table id="tbl_input_inventory_header">
<title>Inventory header commands for IDA and ORL formats</title>

<tgroup cols="3">
<colspec colwidth="25*" />
<colspec colwidth="22*" />
<colspec colwidth="53*" />

<thead>
<row>
<entry>Command</entry>
<entry>Parameter</entry>
<entry>Description and Values</entry>
</row>
</thead>

<tbody>
<row>
<entry>
<simplelist>
<member>#IDA</member>
<member>#ORL</member>
<member>#ORL NONPOINT</member>
</simplelist>
</entry>
<entry>N/A</entry>
<entry>N/A</entry>
</row>
<row>
<entry>#TYPE</entry>
<entry>File type</entry>
<entry>First nonblank character after #TYPE to the last character of the line. For on-road mobile activity data, the word <quote>activity</quote> must appear in this header entry; otherwise, SMOKE assumes that the file contains emissions data.</entry>
</row>
<row>
<entry>#COUNTRY</entry>
<entry>Country name</entry>
<entry>Valid names are those in the <envar>COSTCY</envar> file (US, CANADA, MEXICO, etc.)</entry>
</row>
<row>
<entry>#YEAR</entry>
<entry>Data year</entry>
<entry>Number from 1900 to 2200</entry>
</row>
<row>
<entry>#DESC</entry>
<entry>Description</entry>
<entry>Description of the data (not used by SMOKE)</entry>
</row>
<row>
<entry>#DATA or #POLID</entry>
<entry>data1 data2 ... data <emphasis>n</emphasis></entry>
<entry>Only used for IDA-format files. Defines the pollutants for which emissions data is provided; <quote>data1</quote> in the ID of the first pollutant, <quote>data2</quote> is the ID of the second pollutant, and so on.</entry>
</row>
<row>
<entry>#UNITS</entry>
<entry>units1 units2 ... units <emphasis>n</emphasis></entry>
<entry>Only used for on-road mobile activity data in IDA format. Defines the units associated with the activity data; <quote>units1</quote> are the units for <quote>data1</quote>, <quote>units2</quote> are the units for <quote>data2</quote>, and so on. Not used for emissions data because the units are built into the file formats.</entry>
</row>
</tbody>
</tgroup>
</table>

<para>Sample header records are given for each file in their respective sections.</para>

</section>

<section id="sect_input_inventory_invyear">

<title>INVYEAR packet for EMS-95 format</title>

<para>When using EMS-95 inventories, the <envar>ARINV</envar>, <envar>MBINV</envar>, and <envar>PTINV</envar> files are usually a list file (see <xref linkend="sect_input_inventory_list" />) that lists individual inventory files in EMS-95 format. This list file must contain one or more INVYEAR packets. This packet acts as a switch that sets the inventory year for the files, each of which will get the year designated by the packet until another INVYEAR packet appears in the file. In this way, multiple years of inventory data can be combined into one SMOKE inventory. The format of the INVYEAR packet is INVYEAR &lt;four-digit year&gt; and is shown in the example below.</para>

<programlisting>#LIST EMS-95
INVYEAR 1996
/apps/smoke/data/inventory/smraq95/area/arinv.ems95.txt
</programlisting>

</section>

</section>

<section id="sect_input_arinv">

<title><envar>ARINV</envar>: Area-source annual or average-day emissions</title>

<para>The <envar>ARINV</envar> file is the input area source inventory file for annual or average-day data. This file can be in IDA, EMS-95, or ORL format.</para>

<section>

<title>IDA Format</title>

<para>The IDA format for area-source inventories is column-specific and uses the header described in <xref linkend="sect_input_inventory_header" />. Sample header records are shown below:</para>

<programlisting>#IDA
#TYPE     Area Source Inventory
#COUNTRY  US
#YEAR     1995
#DESC     Alabama 1995
#POLID    CO NH3 NOX PM10 PM2_5 SO2 VOC</programlisting>

<para>The format for the data records is shown in <xref linkend="tbl_input_arinv_ida" />.</para>

<table id="tbl_input_arinv_ida">
<title>IDA Format for <envar>ARINV</envar></title>

<tgroup cols="4">
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="15*" colname="Name" />
<colspec colwidth="15*" colname="Type" />
<colspec colwidth="55*" colname="Description" />

<thead>
<row>
<entry>Position</entry>
<entry>Name</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1-2</entry>
<entry>STID</entry>
<entry>Int</entry>
<entry>State Code (required)</entry>
</row>
<row>
<entry>3-5</entry>
<entry>CYID</entry>
<entry>Int</entry>
<entry>County Code (required)</entry>
</row>
<row>
<entry>6-15</entry>
<entry>SCC</entry>
<entry>Char</entry>
<entry>SCC (required)</entry>
</row>
<row>
<entry>16-25</entry>
<entry>ANN1</entry>
<entry>Real</entry>
<entry>pol1 Annual Emissions (short tons/yr) (required)</entry>
</row>
<row>
<entry>26-35</entry>
<entry>AVD1</entry>
<entry>Real</entry>
<entry>pol1 Average-day Emissions (short tons/average day) (optional)</entry>
</row>
<row>
<entry>36-46</entry>
<entry>EMF1</entry>
<entry>Real</entry>
<entry>pol1 Emission Factors (SCC units) (not used by SMOKE)</entry>
</row>
<row>
<entry>47-53</entry>
<entry>CE1</entry>
<entry>Real</entry>
<entry>pol1 Control Efficiency (give value of 0-100) (optional; if left blank, SMOKE default is 0)</entry>
</row>
<row>
<entry>54-56</entry>
<entry>RE1</entry>
<entry>Real</entry>
<entry>pol1 Rule Effectiveness (give value of 0-100), (optional; if left blank, SMOKE default is 100)</entry>
</row>
<row>
<entry>57-62</entry>
<entry>RP1</entry>
<entry>Real</entry>
<entry>pol1 Rule Penetration (give value of 0-100) (optional; if left blank, SMOKE default is 100)</entry>
</row>
<row>
<entry>63-72</entry>
<entry>ANN2</entry>
<entry>Real</entry>
<entry>pol2 Annual Emissions (short tons/yr) </entry>
</row>
<row>
<entry>73-82</entry>
<entry>AVD2</entry>
<entry>Real</entry>
<entry>pol2 Average-day Emissions (short tons/average day)</entry>
</row>
<row>
<entry>83-93</entry>
<entry>EMF2</entry>
<entry>Real</entry>
<entry>pol2 Emission Factors (SCC units)</entry>
</row>
<row>
<entry>94-100</entry>
<entry>CE2</entry>
<entry>Real</entry>
<entry>pol2 Control Efficiency (0-100); see pol1 above</entry>
</row>
<row>
<entry>101-103</entry>
<entry>RE2</entry>
<entry>Real</entry>
<entry>pol2 Rule Effectiveness (0-100); see pol1 above</entry>
</row>
<row>
<entry>104-109</entry>
<entry>RP2</entry>
<entry>Real</entry>
<entry>pol2 Rule Penetration (0-100); see pol1 above</entry>
</row>
<row>
<entry>110-119</entry>
<entry>ANN3</entry>
<entry>Real</entry>
<entry>pol3 Annual Emissions (short tons/yr)</entry>
</row>
<row>
<entry>120-129</entry>
<entry>AVD3</entry>
<entry>Real</entry>
<entry>pol3 Average-day Emissions (short tons/average day)</entry>
</row>
<row>
<entry>130-140</entry>
<entry>EMF3</entry>
<entry>Real</entry>
<entry>pol3 Emission Factors (SCC units)</entry>
</row>
<row>
<entry>141-147</entry>
<entry>CE3</entry>
<entry>Real</entry>
<entry>pol3 Control Efficiency (0-100); see pol1 above</entry>
</row>
<row>
<entry>148-150</entry>
<entry>RE3</entry>
<entry>Real</entry>
<entry>pol3 Rule Effectiveness (0-100); see pol1 above</entry>
</row>
<row>
<entry>151-156</entry>
<entry>RP3</entry>
<entry>Real</entry>
<entry>pol3 Rule Penetration (0-100); see pol1 above</entry>
</row>
<row>
<entry namest="Position" nameend="Description">(Repeat for the rest of <emphasis>n</emphasis> pollutants)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section>

<title>EMS-95 Format</title>

<para><remark>For EMS-95 inputs, the <envar>ARINV</envar> file must be a list file and contain at least one INVYEAR packet (see <xref linkend="sect_input_inventory_invyear" />).</remark> The EMS-95 format for area-source inventories is column-specific and is shown in <xref linkend="tbl_input_arinv_ems" />. Note that we have only listed the columns used by SMOKE. In addition, these files can have a #COUNTRY header as the first line of the file to set the country code (see <xref linkend="sect_input_inventory_header" />). The default country code is 0, which the default <envar>COSTCY</envar> file defines as the United States.</para>

<table id="tbl_input_arinv_ems">
<title>EMS-95 Format for <envar>ARINV</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="70*" />

<thead>
<row>
<entry>Position</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1-2 </entry>
<entry>Int</entry>
<entry>FIPS state code (required)</entry>
</row>
<row>
<entry>3-5 </entry>
<entry>Int</entry>
<entry>FIPS county code (required)</entry>
</row>
<row>
<entry>6-20 </entry>
<entry>Char</entry>
<entry>SCC or ASC code (required)</entry>
</row>
<row>
<entry>21-25 </entry>
<entry>Char</entry>
<entry>Pollutant ID (e.g. VOC) (required)</entry>
</row>
<row>
<entry>52-65 </entry>
<entry>Real</entry>
<entry>Actual emissions of specified pollutant (short tons/average annual day) (required)</entry>
</row>
<row>
<entry>88-94 </entry>
<entry>Real</entry>
<entry>Control equipment efficiency (percent, give value of 0-100) (optional; SMOKE default is 0)</entry>
</row>
<row>
<entry>95-96 </entry>
<entry>Char</entry>
<entry><para>Temporal basis: (required)</para>

<itemizedlist spacing="compact">
<listitem>AA = annual emissions</listitem>
<listitem>AD = daily emissions with weekday normalizer</listitem>
<listitem>DS = day-specific (will not cause SMOKE to crash, but may not be fully supported to give same behavior as EMS-95 - use with caution)</listitem>
</itemizedlist></entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section>

<title>ORL Formats</title>

<para>Because area sources encompass both nonpoint and nonroad mobile sources, two different ORL formats are available depending on source type. Both formats use the header described in <xref linkend="sect_input_inventory_header" />. Sample header records for nonpoint sources are shown below:</para>

<programlisting>#ORL NONPOINT
#TYPE     Nonpoint Source Toxics Inventory
#COUNTRY  US
#YEAR     1999
#DESC     Draft 1999 version 2.0</programlisting>

<para>Sample header records for nonroad sources:</para>

<programlisting>#ORL
#TYPE     Nonroad Source Toxics Inventory
#COUNTRY  US
#YEAR     1999
#DESC     Draft 1999 version 2.0</programlisting>

<section>

<title>ORL Nonpoint Format</title>

<para>The ORL nonpoint format is list-directed and shown in <xref linkend="tbl_input_arinv_orl_nonpoint" />.</para>

<table id="tbl_input_arinv_orl_nonpoint">
<title>ORL Nonpoint Format for <envar>ARINV</envar></title>

<tgroup cols="4">
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="15*" colname="Name" />
<colspec colwidth="15*" colname="Type" />
<colspec colwidth="55*" colname="Description" />

<thead>
<row>
<entry>Position</entry>
<entry>Name</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>A</entry>
<entry>FIPS</entry>
<entry>Int</entry>
<entry>Five digit FIPS code for state and county (required)</entry>
</row>
<row>
<entry>B</entry>
<entry>SCC</entry>
<entry>Char</entry>
<entry>Source Classification Code (10 characters maximum) (required)</entry>
</row>
<row>
<entry>C</entry>
<entry>SIC</entry>
<entry>Int</entry>
<entry>Standard Industrial Code (recommended)</entry>
</row>
<row>
<entry>D</entry>
<entry>MACT</entry>
<entry>Char</entry>
<entry>Maximum Available Control Technology Code (6 characters maximum) (recommended)</entry>
</row>
<row>
<entry>E</entry>
<entry>SRCTYPE</entry>
<entry>Char</entry>
<entry><para>Source type (2 characaters maximum); used by SMOKE in determining applicable MACT-based controls (required)</para>

<itemizedlist>
<listitem>01 = major</listitem>
<listitem>02 = Section 12 area source</listitem>
</itemizedlist>
</entry>
</row>
<row>
<entry>F</entry>
<entry>NAICS</entry>
<entry>Char</entry>
<entry>North American Industrial Classification System Code (6 characters maximum) (optional)</entry>
</row>
<row>
<entry>G</entry>
<entry>POLL</entry>
<entry>Char</entry>
<entry>Pollutant CAS number or other name (10 characters maximum) (required; this is called the pollutant code in the NIF)</entry>
</row>
<row>
<entry>H</entry>
<entry>ANN_EMIS</entry>
<entry>Real</entry>
<entry>Annual emissions (tons/year) (required)</entry>
</row>
<row>
<entry>I</entry>
<entry>AVD_EMIS</entry>
<entry>Real</entry>
<entry>Average-day emissions (tons/average day) (optional)</entry>
</row>
<row>
<entry>J</entry>
<entry>CEFF</entry>
<entry>Real</entry>
<entry>Control Efficiency percentage (give value of 0-100) (optional; if missing will result in SMOKE default of 0)</entry>
</row>
<row>
<entry>K</entry>
<entry>REFF</entry>
<entry>Real</entry>
<entry>Rule Effectiveness percentage (give value of 0-100) (optional; if missing will result in SMOKE default of 100)</entry>
</row>
<row>
<entry>L</entry>
<entry>RPEN</entry>
<entry>Real</entry>
<entry>Rule Penetration percentage (give value of 0-100) (optional; if missing will result in SMOKE default of 100)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section>

<title>ORL Nonroad Format</title>

<para>The ORL nonroad format is list-directed and shown in <xref linkend="tbl_input_arinv_orl_nonroad" />.</para>

<table id="tbl_input_arinv_orl_nonroad">
<title>ORL Nonroad Format for <envar>ARINV</envar></title>

<tgroup cols="4">
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="15*" colname="Name" />
<colspec colwidth="15*" colname="Type" />
<colspec colwidth="55*" colname="Description" />

<thead>
<row>
<entry>Position</entry>
<entry>Name</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>A</entry>
<entry>FIPS</entry>
<entry>Int</entry>
<entry>Five digit FIPS code for state and county (required)</entry>
</row>
<row>
<entry>B</entry>
<entry>SCC</entry>
<entry>Char</entry>
<entry>Source Classification Code (10 characters maximum) (required)</entry>
</row>
<row>
<entry>C</entry>
<entry>POLL</entry>
<entry>Char</entry>
<entry>Pollutant CAS number or other name (10 characters maximum) (required; this is called the pollutant code in the NIF)</entry>
</row>
<row>
<entry>D</entry>
<entry>ANN_EMIS</entry>
<entry>Real</entry>
<entry>Annual emissions (tons/year) (required)</entry>
</row>
<row>
<entry>E</entry>
<entry>AVD_EMIS</entry>
<entry>Real</entry>
<entry>Average-day emissions (tons/average day) (optional)</entry>
</row>
<row>
<entry>F</entry>
<entry>CEFF</entry>
<entry>Real</entry>
<entry>Control Efficiency percentage (give value of 0-100) (optional; if missing will result in SMOKE default of 0)</entry>
</row>
<row>
<entry>G</entry>
<entry>REFF</entry>
<entry>Real</entry>
<entry>Rule Effectiveness percentage (give value of 0-100) (optional; if missing will result in SMOKE default of 100)</entry>
</row>
<row>
<entry>H</entry>
<entry>RPEN</entry>
<entry>Real</entry>
<entry>Rule Penetration percentage (give value of 0-100) (optional; if missing will result in SMOKE default of 100)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

</section>

<section id="sect_input_bcuse">

<title><envar>BCUSE</envar>: Biogenic county land use</title>

<para>The <envar>BCUSE</envar> file is the BEIS2-format ASCII biogenic county land use file input to the <command>Rawbio</command> program. This file is list-directed and its format is given in <xref linkend="tbl_input_bcuse" />.</para>

<table id="tbl_input_bcuse">
<title>Format for <envar>BCUSE</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1</entry>
<entry>A</entry>
<entry>Country/state/county code (Integer)</entry>
</row>
<row>
<entry>2</entry>
<entry>A</entry>
<entry>Rural forest land area (Real)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Rural forest number of subtypes (Integer)</entry>
</row>
<row>
<entry namest="Line" nameend="Description">For each rural forest subtype:
(These subtypes must match the emission factors in <envar>BFAC</envar>)</entry>
</row>
<row>
<entry>3+</entry>
<entry>A</entry>
<entry>Name of land use subtype as per BEIS2 documentation</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Area within the county devoted to this land use subtype</entry>
</row>
<row>
<entry namest="Line" nameend="Description">Repeat lines 2 and 3+ for each of the other land use types: urban forest, agriculture, and <quote>other</quote>.</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_input_bguse">

<title><envar>BGUSE</envar>: Biogenic gridded land use</title>

<para>The <envar>BGUSE</envar> file is the BEIS2-format ASCII biogenic gridded land use file input to the <command>Rawbio</command> program. This file is list-directed and its format is given in <xref linkend="tbl_input_bguse" />.</para>

<table id="tbl_input_bguse">
<title>Format for <envar>BGUSE</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1</entry>
<entry>A</entry>
<entry>#GRID header (see <envar>AGPRO</envar> and <envar>MGPRO</envar>) (required)</entry>
</row>
<comment>
<row>
<entry>optional</entry>
<entry>A</entry>
<entry><para>Header with text metadata sections including the following:</para>

<simplelist>
<member>Introduction</member>
<member>Grid Definition</member>
<member>File Description</member>
<member>A list of <quote>VEGID</quote> names and descriptions, formatted <quote>(1X, A4, 3X, A)</quote></member>
<member>Notes on VEGID</member>
<member>Source of Data</member>
<member>Version</member>
</simplelist>
</entry>
</row>
<row>
<entry>2</entry>
<entry>A</entry>
<entry>ENDHEADER (this text is required even if there is no header)</entry>
</row>
</comment>
<row>
<entry namest="Line" nameend="Description">Repeat the following for each cell</entry>
</row>
<row>
<entry>3+</entry>
<entry>A</entry>
<entry>Cell column number (Integer)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Cell row number (Integer)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Cell area in hectares (Real)</entry>
</row>
<row>
<entry namest="Line" nameend="Description">For a given cell, repeat the following for each land use type (rural forest, urban forest, agriculture, or <quote>other</quote>)</entry>
</row>
<row>
<entry>4+</entry>
<entry>A</entry>
<entry>Area of land use type in the cell (hectares) (Real)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Number of land use subtypes for this land use type in the cell (Integer)</entry>
</row>
<row>
<entry namest="Line" nameend="Description">Repeat the following for each land use subtype in the cell</entry>
</row>
<row>
<entry>5+</entry>
<entry>A</entry>
<entry>4-character name of land use type (in quotes)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Area of land use subtype (hectares) (Real)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_input_mbinv">

<title><envar>MBINV</envar>: Mobile-source activity and emissions</title>

<para>The <envar>MBINV</envar> file is the input mobile-source inventory data file. Two IDA formats are available: one for activity data and one for emissions data. Note that although the IDA formats support the link ID field, SMOKE cannot read the IDA link definitions file, which contains the coordinates for the links. In order to use link data with SMOKE, the EMS-95 format must be used. SMOKE also supports the ORL format for reading on-road mobile emissions data.</para>

<section>

<title>IDA Format</title>

<para>The two IDA formats for mobile-source inventories use the header described in <xref linkend="sect_input_inventory_header" />. Sample header records for activity data are shown below:</para>

<programlisting>#IDA
#TYPE     Motor Vehicle Activity Inventory
#COUNTRY  US
#YEAR     1996
#DESC     1996 NET inventory, version 3.1
#DATA     SPEED VMT
#UNITS    "miles/hr" "10E6 miles/yr"</programlisting>

<para>Sample header records for emissions data:</para>

<programlisting>#IDA
#TYPE     Motor Vehicle Emission Inventory
#COUNTRY  US
#YEAR     1996
#DESC     1996 NET inventory, version 3.1
#DATA     VOC NOX CO SO2 PM10 PM2_5 NH3</programlisting>

<section>

<title>IDA Activity Data Format</title>

<para>The IDA activity data format is list-directed and shown in <xref linkend="tbl_input_mbinv_ida_activity" />.</para>

<table id="tbl_input_mbinv_ida_activity">
<title>IDA Activity Data Format for <envar>MBINV</envar></title>

<tgroup cols="4">
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="55*" />

<thead>
<row>
<entry>Position</entry>
<entry>Name</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>A</entry>
<entry>STID</entry>
<entry>Int</entry>
<entry>FIPS state code (required)</entry>
</row>
<row>
<entry>B</entry>
<entry>CYID</entry>
<entry>Int</entry>
<entry>FIPS county code (required)</entry>
</row>
<row>
<entry>C</entry>
<entry>LINK ID</entry>
<entry>Char</entry>
<entry>Link identifier (optional; put zero for non-link data)</entry>
</row>
<row>
<entry>D</entry>
<entry>SCC</entry>
<entry>Char</entry>
<entry>AMS SCC (required)</entry>
</row>
<row>
<entry>E</entry>
<entry>DATA(1)</entry>
<entry>Real</entry>
<entry>Data for the first field in the #DATA header list, given in the units of the first field in the #UNITS header list (required)</entry>
</row>
<row>
<entry>F</entry>
<entry>DATA(2)</entry>
<entry>Real</entry>
<entry>Data for the second field in the #DATA header list, given in the units of the second field in the #UNITS header list (required if <emphasis>n</emphasis> > 1)</entry>
</row>
<row>
<entry>G</entry>
<entry>DATA(3)</entry>
<entry>Real</entry>
<entry>Data for the third field... (required if <emphasis>n</emphasis> > 2)</entry>
</row>
<row>
<entry>...</entry>
<entry>DATA(<emphasis>n</emphasis>)</entry>
<entry>Real</entry>
<entry>Data for the final field... (required if <emphasis>n</emphasis> > 3)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section>

<title>IDA Emissions Data Format</title>

<para>The IDA emissions data format is column-specific and shown in <xref linkend="tbl_input_mbinv_ida_emissions" />.</para>

<table id="tbl_input_mbinv_ida_emissions">
<title>IDA Emissions Data Format for <envar>MBINV</envar></title>

<tgroup cols="4">
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="55*" />

<thead>
<row>
<entry>Position</entry>
<entry>Name</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1-2</entry>
<entry>STID</entry>
<entry>Int</entry>
<entry>State Code (required)</entry>
</row>
<row>
<entry>3-5</entry>
<entry>CYID</entry>
<entry>Int</entry>
<entry>County Code (required)</entry>
</row>
<row>
<entry>6-15</entry>
<entry>LINK ID</entry>
<entry>Char</entry>
<entry>Link identifier (optional; put zero for nonlink data)</entry>
</row>
<row>
<entry>16-25</entry>
<entry>SCC</entry>
<entry>Char</entry>
<entry>AMS SCC (required)</entry>
</row>
<row>
<entry>26-35</entry>
<entry>DATA(1)</entry>
<entry>Real</entry>
<entry>Data for the first field in the #DATA header list (short tons/year) (required)</entry>
</row>
<row>
<entry>36-45</entry>
<entry>AVD(1)</entry>
<entry>Real</entry>
<entry>Average-day data for the first field in the #DATA header list (short tons/average day) (optional)</entry>
</row>
<row>
<entry>46-55</entry>
<entry>DATA(2)</entry>
<entry>Real</entry>
<entry>Data for the second field in the #DATA header list (short tons/yr)</entry>
</row>
<row>
<entry>56-65</entry>
<entry>AVD(2)</entry>
<entry>Real</entry>
<entry>Average-day data for the second field in the #DATA header list (short tons/average day)</entry>
</row>
<row>
<entry>66-75</entry>
<entry>DATA(3)</entry>
<entry>Real</entry>
<entry>Data for the third field (short tons/yr)</entry>
</row>
<row>
<entry>76-85</entry>
<entry>AVD(3)</entry>
<entry>Real</entry>
<entry>Average-day data for the third field (short tons/average day)</entry>
</row>
<row>
<entry>...</entry>
<entry>DATA(<emphasis>n</emphasis>)</entry>
<entry>Real</entry>
<entry>Data for the final field (short tons/yr)</entry>
</row>
<row>
<entry>...</entry>
<entry>AVD(<emphasis>n</emphasis>)</entry>
<entry>Real</entry>
<entry>Average-day data for the final field (short tons/average day)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

<section>

<title>EMS-95 Formats</title>

<para><remark>For EMS-95 inputs, the <envar>MBINV</envar> file can either be a list file, to read in EMS-95 link and non-link data, or a single modified EMS-95 format that is list-directed.</remark> When using a list format, the <envar>MBINV</envar> file must contain at least one INVYEAR packet (see <xref linkend="sect_input_inventory_invyear" />). The individual data files that are referenced by the <envar>MBINV</envar> list file may also contain the following header fields: #COUNTRY, #YEAR, and/or #DATA, as described in <xref linkend="sect_input_inventory_header" />. The default country is 0 and the default year is set by the INVYEAR packet. The #DATA header must appear, even if the only data in the file are VMT data. The #UNITS header must NOT appear.</para>

<section>

<title>EMS-95 Nonlink Column-specific Format</title>

<para>The EMS-95 nonlink column-specific format is shown in <xref linkend="tbl_input_mbinv_ems_nonlink_column" />.</para>

<table id="tbl_input_mbinv_ems_nonlink_column">
<title>EMS-95 Nonlink Column-specific Format for <envar>MBINV</envar></title>

<tgroup cols="4">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="15*" colname="Type" />
<colspec colwidth="55*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1</entry>
<entry>1-8</entry>
<entry>Char</entry>
<entry>#NONLINK (required)</entry>
</row>
<row>
<entry>2</entry>
<entry>1-9</entry>
<entry>Char</entry>
<entry>#DATA VMT (required)</entry>
</row>
<row>
<entry>3+</entry>
<entry>1-2</entry>
<entry>Int</entry>
<entry>FIPS state code (required)</entry>
</row>
<row>
<entry colname="Position">3-5</entry>
<entry>Int</entry>
<entry>FIPS county code (required)</entry>
</row>
<row>
<entry colname="Position">6-6</entry>
<entry>Int</entry>
<entry>Area type code (required)</entry>
</row>
<row>
<entry colname="Position">7-10</entry>
<entry>Int</entry>
<entry>Facility type code (required)</entry>
</row>
<row>
<entry colname="Position">11-18</entry>
<entry>Real</entry>
<entry>VMT (miles/average annual weekday) (required)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section>

<title>EMS-95 Nonlink List-directed Format</title>

<para>The EMS-95 nonlink list-directed format is shown in <xref linkend="tbl_input_mbinv_ems_nonlink_list" />.</para>

<table id="tbl_input_mbinv_ems_nonlink_list">
<title>EMS-95 Nonlink List-directed Format for <envar>MBINV</envar></title>

<tgroup cols="4">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="15*" colname="Type" />
<colspec colwidth="55*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1</entry>
<entry>A</entry>
<entry>Char</entry>
<entry>#NONLINK (required)</entry>
</row>
<row>
<entry>2</entry>
<entry>A+</entry>
<entry>Char</entry>
<entry>#DATA VMT  PM10  PM2_5 ... Last data type (required)</entry>
</row>
<row>
<entry>3+</entry>
<entry>A</entry>
<entry>Int</entry>
<entry>Country, state, and county code (YSSCCC) (required)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Int</entry>
<entry>Road type code (required)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Real</entry>
<entry>VMT (miles/average annual weekday) (required)</entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry>Real</entry>
<entry>PM10 (short tons/average annual weekday)</entry>
</row>
<row>
<entry colname="Position">E</entry>
<entry>Real</entry>
<entry>PM2_5 (short tons/average annual weekday)</entry>
</row>
<row>
<entry namest="Position" nameend="Description">additional columns for additional data types listed on the #DATA line</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section>

<title>EMS-95 Link Format</title>

<para>The EMS-95 link format is list-directed and is shown in <xref linkend="tbl_input_mbinv_ems_link" />.</para>

<table id="tbl_input_mbinv_ems_link">
<title>EMS-95 Link Format for <envar>MBINV</envar></title>

<tgroup cols="4">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="15*" colname="Type" />
<colspec colwidth="55*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1</entry>
<entry>A</entry>
<entry>Char</entry>
<entry>#LINK (required)</entry>
</row>
<row>
<entry>2</entry>
<entry>A+</entry>
<entry>Char</entry>
<entry>#DATA  VMT  PM10  PM2_5 ... Last data type (required)</entry>
</row>
<row>
<entry>3+</entry>
<entry>A</entry>
<entry>Int</entry>
<entry>Country, state, and county code (YSSCCC, required)</entry>
</row>
<row>
<entry colname="Position">B </entry>
<entry>Int</entry>
<entry>Road type code (required)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Char</entry>
<entry>Link ID (15 characters) (required)</entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry>Real</entry>
<entry>Link start longitude (decimal degrees) or UTM Easting (m) (required)</entry>
</row>
<row>
<entry colname="Position">E</entry>
<entry>Real</entry>
<entry>Link start latitude (decimal degrees) or UTM Northing (m) (required)</entry>
</row>
<row>
<entry colname="Position">F</entry>
<entry>Real</entry>
<entry>Link end longitude (decimal degrees) or UTM Easting (m) (required)</entry>
</row>
<row>
<entry colname="Position">G</entry>
<entry>Real</entry>
<entry>Link end latitude (decimal degrees) or UTM Northing (m) (required)</entry>
</row>
<row>
<entry colname="Position">H</entry>
<entry>Int</entry>
<entry>UTM zone or zero for lat/lon coordinates (required)</entry>
</row>
<row>
<entry colname="Position">I</entry>
<entry>Real</entry>
<entry>VMT (miles/average annual weekday) (required)</entry>
</row>
<row>
<entry colname="Position">J</entry>
<entry>Real</entry>
<entry>PM10 (short tons/average annual weekday)</entry>
</row>
<row>
<entry colname="Position">K</entry>
<entry>Real</entry>
<entry>PM2_5 (short tons/average annual weekday)</entry>
</row>
<row>
<entry namest="Position" nameend="Description">additional columns for additional data types listed on the #DATA line</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

<section>

<title>ORL Format</title>

<para>The ORL format is list-directed and uses the header described in <xref linkend="sect_input_inventory_header" />. Sample header records are shown below:</para>

<programlisting>#ORL
#TYPE     Mobile Source Toxics Inventory
#COUNTRY  US
#YEAR     1999
#DESC     Draft 1999 version 2.0</programlisting>

<para>The format for the data records is shown in <xref linkend="tbl_input_mbinv_orl" />.</para>

<table id="tbl_input_mbinv_orl">
<title>ORL Format for <envar>MBINV</envar></title>

<tgroup cols="4">
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="55*" />

<thead>
<row>
<entry>Position</entry>
<entry>Name</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>A</entry>
<entry>FIPS</entry>
<entry>Int</entry>
<entry>Five digit FIPS code for state and county (required)</entry>
</row>
<row>
<entry>B</entry>
<entry>SCC</entry>
<entry>Char</entry>
<entry>Ten character SCC (required)</entry>
</row>
<row>
<entry>C</entry>
<entry>POLL</entry>
<entry>Char</entry>
<entry>Pollutant CAS number or other name (10 characters maximum) (required; this is called the pollutant code in the NIF)</entry>
</row>
<row>
<entry>D</entry>
<entry>ANN_EMIS</entry>
<entry>Real</entry>
<entry>Annual emissions (tons/year) (required)</entry>
</row>
<row>
<entry>E</entry>
<entry>AVD_EMIS</entry>
<entry>Real</entry>
<entry>Average-day emissions (tons/average day) (optional)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

<section id="sect_input_ptday">

<title><envar>PTDAY</envar>: Point source day-specific emissions</title>

<para>The <envar>PTDAY</envar> file is the input point-source inventory file for day-specific data. The file must be a list file (see <xref linkend="sect_input_inventory_list" /> and the files listed in the <envar>PTDAY</envar> file must be in the format shown in <xref linkend="tbl_input_ptday" />. The contents of the day-specific data files vary depending on whether the <envar>PTINV</envar> file is in EMS-95 or IDA format. However, the format indicator for the day-specific files must by #EMS-95; this header can either appear in each individual file or in the <envar>PTDAY</envar> list file (#LIST EMS-95). In addition, the day-specific files can have a #COUNTRY entry to set the country code (see <xref linkend="sect_input_inventory_header" />). If no #COUNTRY header is used, then SMOKE will use the default country code of 0 (which correpsonds to the United States in the default <envar>COSTCY</envar> file).</para>

<para>SMOKE requires that the sources in the <envar>PTDAY</envar> file also be in the <envar>PTINV</envar> file, and that the user has matched the sources between the annual data inventory and the day-specific data. <comment>See the documentation for the <envar>PTHOUR</envar> file for additional information on how to use this file with IDA annual inventories.</comment></para>

<table id="tbl_input_ptday">
<title>Format for individual day-specific data files</title>

<tgroup cols="4">
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="55*" />

<thead>
<row>
<entry>Position</entry>
<entry>Name</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1-2</entry>
<entry>STID</entry>
<entry>Int</entry>
<entry>State Code (required)</entry>
</row>
<row>
<entry>3-5</entry>
<entry>CYID</entry>
<entry>Int</entry>
<entry>County Code (required)</entry>
</row>
<row>
<entry>6-20</entry>
<entry>FCID</entry>
<entry>Char</entry>
<entry>Facility ID/Plant ID (required)</entry>
</row>
<row>
<entry>21-32</entry>
<entry>CHAR1</entry>
<entry>Char</entry>
<entry>
<simplelist>
<member>If <envar>PTINV</envar> in EMS-95 format: Stack ID (required)</member>
<member>If <envar>PTINV</envar> in IDA format: Point ID</member>
</simplelist>
</entry>
</row>
<row>
<entry>33-44</entry>
<entry>CHAR2</entry>
<entry>Char</entry>
<entry>
<simplelist>
<member>If <envar>PTINV</envar> in EMS-95 format: Device ID (required)</member>
<member>If <envar>PTINV</envar> in IDA format: Stack ID</member>
</simplelist>
</entry>
</row>
<row>
<entry>45-56</entry>
<entry>CHAR3</entry>
<entry>Char</entry>
<entry>
<simplelist>
<member>If <envar>PTINV</envar> in EMS-95 format: Process ID (required)</member>
<member>If <envar>PTINV</envar> in IDA format: Segment</member>
</simplelist>
</entry>
</row>
<row>
<entry>57-61</entry>
<entry>POLID</entry>
<entry>Char</entry>
<entry>Pollutant name (required)</entry>
</row>
<row>
<entry>62-69</entry>
<entry>DATE</entry>
<entry>Char</entry>
<entry>Date in MM/DD/YY. Years less than 70 are treated as century 2000. (required)</entry>
</row>
<row>
<entry>70-72</entry>
<entry>TZONNAM</entry>
<entry>Char</entry>
<entry>Time zone name. Valid entries GMT, ADT, AST, EDT, EST, CDT, CST, MDT, MST, PDT, asd PST. (required)</entry>
</row>
<row>
<entry>73-90</entry>
<entry>DAYTOT</entry>
<entry>Real</entry>
<entry>Daily emissions total (short tons/day) (required)</entry>
</row>
<row>
<entry>92-101</entry>
<entry>SCC</entry>
<entry>Char</entry>
<entry>Only if <envar>PTINV</envar> in IDA format: SCC (required)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_input_pthour">

<title><envar>PTHOUR</envar>: Point source hour-specific emissions</title>

<comment>add variables for hourly precomputed plume rise and hourly stack data</comment>

<para>The <envar>PTHOUR</envar> file is the input point-source inventory file for hour-specific data and profiles. The file must be a list file (see <xref linkend="sect_input_inventory_list" /> and the files listed in the <envar>PTHOUR</envar> file must be in either EMS-95 format or Continuous Emissions Monitoring (CEM) format. Each file must have an format identifier (either #EMS-95 or #CEM) or the format can be specified in the <envar>PTHOUR</envar> list file (#LIST EMS-95 or #LIST CEM). The contents of the hour-specific data files vary depending on whether the <envar>PTINV</envar> file is in EMS-95 or IDA format. In addition, these files can have a #COUNTRY entry to set the country code (see <xref linkend="sect_input_inventory_header" />. The default country code is 0, which corresponds to the United States in the default <envar>COSTCY</envar> file.</para>

<section>

<title>Date range setting</title>

<comment>check if this only applies to CEM data</comment>

<para>The <envar>PTHOUR</envar> file may optionally contain a packet to control the range of dates for which <command>Smkinven</command> will read data. When this feature is needed, the following entry should appear on the first line of the <envar>PTHOUR</envar> file.</para>

<para>DATERANGE  MMDD(start) MMDD(end)</para>

<para>where MMDD is the two-digit month and day of the month at the start and end of the period of interest. For example, to request July 10th through 12th, the first line of the file should read:</para>

<para>DATERANGE  0710  0712</para>

<para>The year is implied by the data themselves; note that the files can only contain data for a single year. As an alternative to using the DATERANGE packet, you can manually break the year up into smaller periods in separate files, and only list the files of interest in the <envar>PTHOUR</envar> file. Note that reading in the whole year of data and extracting just a few days will take much more time than manually editing the file to contain just the days of interest. Also note that if you choose the manual editing option, you must select days that fully cover the modeling episode after accounting for time zone differences between the facility&rsquo;s time zone and the modeling time zone (set by the <envar>OUTZONE</envar> option).</para>

</section>

<section>

<title>EMS-95 Format</title>

<para>For EMS-95 formatted data, SMOKE requires that the sources in the <envar>PTHOUR</envar> file also be in the <envar>PTINV</envar> file. The values of the fields that are common to the hour-specific data and the annual data need to match exactly. These fields are Facility ID, Stack ID, Device ID, and Process ID. These fields are treated as text fields (not numeric) in SMOKE, so leading zeros need to be consistent between the hour-specific and annual or average-day inventory files.</para>

<para>When using hour-specific data in EMS-95 format with the IDA annual inventory, the fields in the <envar>PTHOUR</envar> file should line up with the fields in the <envar>PTINV</envar> file as follows:</para>

<itemizedlist>
<listitem>
<para><envar>PTHOUR</envar> Facility ID (FCID) maps to <envar>PTINV</envar> PLANTID</para>
</listitem>
<listitem>
<para><envar>PTHOUR</envar> Stack ID (SKID) maps to <envar>PTINV</envar> POINTID</para>
</listitem>
<listitem>
<para><envar>PTHOUR</envar> Device ID (DVID) maps to <envar>PTINV</envar> STACKID</para>
</listitem>
<listitem>
<para><envar>PTHOUR</envar> Process ID (PRID) maps to <envar>PTINV</envar> SEGMENT</para>
</listitem>
<listitem>
<para><envar>PTHOUR</envar> SCC (implied by Process ID in EMS-95 process file) maps to <envar>PTINV</envar> SCC</para>
</listitem>
</itemizedlist>

<para>The EMS-95 format for hour-specific data is shown in <xref linkend="tbl_input_ptday_ems" />.</para>

<table id="tbl_input_ptday_ems">
<title>EMS-95 Format for individual hour-specific files</title>

<tgroup cols="4">
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="55*" />

<thead>
<row>
<entry>Position</entry>
<entry>Name</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1-2</entry>
<entry>STID</entry>
<entry>Int</entry>
<entry>State Code (required)</entry>
</row>
<row>
<entry>3-5</entry>
<entry>CYID</entry>
<entry>Int</entry>
<entry>County Code (required)</entry>
</row>
<row>
<entry>6-20</entry>
<entry>FCID</entry>
<entry>Char</entry>
<entry>Facility ID (a.k.a. plant ID) (required)</entry>
</row>
<row>
<entry>21-32</entry>
<entry>SKID</entry>
<entry>Char</entry>
<entry>
<simplelist>
<member>If <envar>PTINV</envar> in EMS-95 format: Stack ID (required)</member>
<member>If <envar>PTINV</envar> in IDA format: Point ID</member>
</simplelist>
</entry>
</row>
<row>
<entry>33-44</entry>
<entry>DVID</entry>
<entry>Char</entry>
<entry>
<simplelist>
<member>If <envar>PTINV</envar> in EMS-95 format: Device ID (required)</member>
<member>If <envar>PTINV</envar> in IDA format: Stack ID</member>
</simplelist>
</entry>
</row>
<row>
<entry>45-56</entry>
<entry>PRID</entry>
<entry>Char</entry>
<entry>
<simplelist>
<member>If <envar>PTINV</envar> in EMS-95 format: Process ID (required)</member>
<member>If <envar>PTINV</envar> in IDA format: Segment</member>
</simplelist>
</entry>
</row>
<row>
<entry>57-61</entry>
<entry>POLID</entry>
<entry>Char</entry>
<entry>Pollutant name (required)</entry>
</row>
<row>
<entry>62-69</entry>
<entry>DATE</entry>
<entry>Char</entry>
<entry>Date in MM/DD/YY format. Years less than 70 are treated as century 2000 (required)</entry>
</row>
<row>
<entry>70-72</entry>
<entry>TZONNAM</entry>
<entry>Char</entry>
<entry>Time zone name associated with emissions data. Valid entries are GMT, ADT, AST, EDT, EST, CDT, CST, MDT, MST, PDT, and PST. (required)</entry>
</row>
<row>
<entry>73-79</entry>
<entry>HRVAL1</entry>
<entry>Real</entry>
<entry>Hourly emissions for hour 1 (short tons/hour) (required)</entry>
</row>
<row>
<entry>80-86</entry>
<entry>HRVAL2</entry>
<entry>Real</entry>
<entry>Hourly emissions for hour 2 (short tons/hour) (required)</entry>
</row>
<row>
<entry>87-93</entry>
<entry>HRVAL3</entry>
<entry>Real</entry>
<entry>Hourly emissions for hour 3 (short tons/hour) (required)</entry>
</row>
<row>
<entry>...</entry>
</row>
<row>
<entry>234-240</entry>
<entry>HRVAL24</entry>
<entry>Real</entry>
<entry>Hourly emissions for hour 24 (short tons/hour) (required)</entry>
</row>
<row>
<entry>241-248</entry>
<entry>DAYTOT</entry>
<entry>Real</entry>
<entry>Daily emissions total (short tons/day)</entry>
</row>
<row>
<entry>250-259</entry>
<entry>SCC</entry>
<entry>Char</entry>
<entry>Only if <envar>PTINV</envar> in IDA format: SCC is required.</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section>

<title>CEM hour-specific format</title>

<para>The CEM hour-specific format can only be used with IDA-formatted annual inventory files. SMOKE uses the CEM ORIS ID and Boiler ID fields to match sources in the CEM hour-specific inventory to those in the IDA-formatted annual inventory. <comment>Note that the DATERANGE header can be used in the list file (not the individual CEM files) to limit the dates read from the individual CEM files.</comment> The format of the CEM hour-specific data is shown in <xref linkend="tbl_input_pthour_cem" />.</para>

<table id="tbl_input_pthour_cem">
<title>CEM Format for individual hour-specific data files</title>

<tgroup cols="4">
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="55*" />

<thead>
<row>
<entry>Position</entry>
<entry>Name</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>A</entry>
<entry>ORISID</entry>
<entry>Char (6)</entry>
<entry>DOE Plant ID (required) (should match the same field in the <envar>PTINV</envar> file in IDA format)</entry>
</row>
<row>
<entry>B</entry>
<entry>BLRID</entry>
<entry>Char (6)</entry>
<entry>Boiler Identification Code (required) (should match the same field in the <envar>PTINV</envar> file in IDA format)</entry>
</row>
<row>
<entry>C</entry>
<entry>YYMMDD</entry>
<entry>Int</entry>
<entry>Date of data in YYMMDD format (required)</entry>
</row>
<row>
<entry>D</entry>
<entry>HOUR</entry>
<entry>Integer</entry>
<entry>Hour value from 0 to 23</entry>
</row>
<row>
<entry>E</entry>
<entry>NOXMASS</entry>
<entry>Real</entry>
<entry>Nitrogen oxide emissions (lb/h) (required)</entry>
</row>
<row>
<entry>F</entry>
<entry>SO2MASS</entry>
<entry>Real</entry>
<entry>Sulfur dioxide emissions (lb/h) (required)</entry>
</row>
<row>
<entry>G</entry>
<entry>NOXRATE</entry>
<entry>Real</entry>
<entry>Nitrogen oxide emissions rate (lb/MMBtu) (not used by SMOKE)</entry>
</row>
<row>
<entry>H</entry>
<entry>OPTIME</entry>
<entry>Real</entry>
<entry>Fraction of hour unit was operating (optional)</entry>
</row>
<row>
<entry>I</entry>
<entry>GLOAD</entry>
<entry>Real</entry>
<entry>Gross load (MW) (optional)</entry>
</row>
<row>
<entry>J</entry>
<entry>SLOAD</entry>
<entry>Real</entry>
<entry>Steam load (MW) (optional)</entry>
</row>
<row>
<entry>K</entry>
<entry>HTINPUT</entry>
<entry>Real</entry>
<entry>Heat input (MMBtu) (required)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

<section id="sect_input_ptinv">

<title><envar>PTINV</envar>: Point source annual or average day emissions</title>

<para>The <envar>PTINV</envar> file is the input point source inventory file for annual and average-day data. This file can be in IDA, EMS-95, or ORL format.</para>

<section>

<title>IDA Format</title>

<para>This IDA format for point-source inventories is column-specific and uses the header described in <xref linkend="sect_input_inventory_header" />. Sample header records are shown below:</para>

<programlisting>#IDA
#TYPE     Point Source Inventory
#COUNTRY  US
#YEAR     1995
#DESC     Alabama 1995
#POLID    CO NH3 NOX PM10 PM2_5 SO2 VOC</programlisting>

<para>The format for the data records is shown in <xref linkend="tbl_input_ptinv_ida" />.</para>

<table id="tbl_input_ptinv_ida">
<title>IDA Format for <envar>PTINV</envar></title>

<tgroup cols="4">
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="15*" colname="Name" />
<colspec colwidth="15*" colname="Type" />
<colspec colwidth="55*" colname="Description" />

<thead>
<row>
<entry>Position</entry>
<entry>Name</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1-2</entry>
<entry>STID</entry>
<entry>Int</entry>
<entry>State Code (required)</entry>
</row>
<row>
<entry>3-5</entry>
<entry>CYID</entry>
<entry>Int</entry>
<entry>County Code (required)</entry>
</row>
<row>
<entry>6-20</entry>
<entry>PLANTID</entry>
<entry>Char</entry>
<entry>Plant Identification Code (required)</entry>
</row>
<row>
<entry>21-35</entry>
<entry>POINTID</entry>
<entry>Char</entry>
<entry>Point Identification Code (recommended)</entry>
</row>
<row>
<entry>36-47</entry>
<entry>STACKID</entry>
<entry>Char</entry>
<entry>Stack Identification Code (recommended)</entry>
</row>
<row>
<entry>48-53</entry>
<entry>ORISID</entry>
<entry>Char</entry>
<entry>DOE Plant ID (generally recommended, and required if matching to hour-specific CEM data)</entry>
</row>
<row>
<entry>54-59</entry>
<entry>BLRID</entry>
<entry>Char</entry>
<entry>Boiler Identification Code (recommended)</entry>
</row>
<row>
<entry>60-61</entry>
<entry>SEGMENT</entry>
<entry>Char</entry>
<entry>DOE ID (recommended)</entry>
</row>
<row>
<entry>62-101</entry>
<entry>PLANT</entry>
<entry>Char</entry>
<entry>Plant Name (recommended)</entry>
</row>
<row>
<entry>102-111</entry>
<entry>SCC</entry>
<entry>Char</entry>
<entry>SCC (required)</entry>
</row>
<row>
<entry>112-115</entry>
<entry>BEGYR</entry>
<entry>Int</entry>
<entry>Beginning Year of Plant Operation (not used by SMOKE)</entry>
</row>
<row>
<entry>116-119</entry>
<entry>ENDYR</entry>
<entry>Int</entry>
<entry>Ending Year of Plant Operation (not used by SMOKE)</entry>
</row>
<row>
<entry>120-123</entry>
<entry>STKHGT</entry>
<entry>Real</entry>
<entry>Stack Height (ft) (required)</entry>
</row>
<row>
<entry>124-129</entry>
<entry>STKDIAM</entry>
<entry>Real</entry>
<entry>Stack Diameter (ft) (required)</entry>
</row>
<row>
<entry>130-133</entry>
<entry>STKTEMP</entry>
<entry>Real</entry>
<entry>Stack Gas Exit Temperature (&deg;F) (required)</entry>
</row>
<row>
<entry>134-143</entry>
<entry>STKFLOW</entry>
<entry>Real</entry>
<entry>Stack Gas Flow Rate (ft<superscript>3</superscript>/s) (optional; automatically calculated by <command>Smkinven</command> from velocity and diameter if not given in file)</entry>
</row>
<row>
<entry>144-152</entry>
<entry>STKVEL</entry>
<entry>Real</entry>
<entry>Stack Gas Exit Velocity (ft/s) (required)</entry>
</row>
<row>
<entry>153-160</entry>
<entry>BOILCAP</entry>
<entry>Real</entry>
<entry>Design Capacity (mmBtu/h) (not used by SMOKE)</entry>
</row>
<row>
<entry>161-161</entry>
<entry>CAPUNITS</entry>
<entry>Char</entry>
<entry>Capacity Unit Code (not used by SMOKE)</entry>
</row>
<row>
<entry>162-163</entry>
<entry>WINTHRU</entry>
<entry>Real</entry>
<entry>Winter throughput (% of Annual) (not used by SMOKE)</entry>
</row>
<row>
<entry>164-165</entry>
<entry>SPRTHRU</entry>
<entry>Real</entry>
<entry>Spring throughput (% of Annual) (not used by SMOKE)</entry>
</row>
<row>
<entry>166-167</entry>
<entry>SUMTHRU</entry>
<entry>Real</entry>
<entry>Summer throughput (% of Annual) (not used by SMOKE)</entry>
</row>
<row>
<entry>168-169</entry>
<entry>FALTHRU</entry>
<entry>Real</entry>
<entry>Fall throughput (% of Annual) (not used by SMOKE)</entry>
</row>
<row>
<entry>170-171</entry>
<entry>HOURS</entry>
<entry>Int</entry>
<entry>Normal Operating Time (hr/day) (not used by SMOKE)</entry>
</row>
<row>
<entry>172-173</entry>
<entry>START</entry>
<entry>Int</entry>
<entry>Normal Operation Start Time (not used by SMOKE)</entry>
</row>
<row>
<entry>174-174</entry>
<entry>DAYS</entry>
<entry>Int</entry>
<entry>Normal Operating Time (days/wk) (not used by SMOKE)</entry>
</row>
<row>
<entry>175-176</entry>
<entry>WEEKS</entry>
<entry>Int</entry>
<entry>Normal Operating Time (wk/yr) (not used by SMOKE)</entry>
</row>
<row>
<entry>177-187</entry>
<entry>THRUPUT</entry>
<entry>Real</entry>
<entry>Throughput Rate (SCC units/yr) (not used by SMOKE)</entry>
</row>
<row>
<entry>188-199</entry>
<entry>MAXRATE</entry>
<entry>Real</entry>
<entry>Maximum O<subscript>3</subscript> Season Rate (units/day) (not used by SMOKE)</entry>
</row>
<row>
<entry>200-207</entry>
<entry>HEATCON</entry>
<entry>Real</entry>
<entry>Heat Content (mmBtu/SCC unit) (not used by SMOKE)</entry>
</row>
<row>
<entry>208-212</entry>
<entry>SULFCON</entry>
<entry>Real</entry>
<entry>Sulfur Content (mass percent) (not used by SMOKE)</entry>
</row>
<row>
<entry>213-217</entry>
<entry>ASHCON</entry>
<entry>Real</entry>
<entry>Ash Content (mass percent) (not used by SMOKE)</entry>
</row>
<row>
<entry>218-226</entry>
<entry>NETDC</entry>
<entry>Real</entry>
<entry>Maximum Nameplate Capacity (MW) (not used by SMOKE)</entry>
</row>
<row>
<entry>227-230</entry>
<entry>SIC</entry>
<entry>Int</entry>
<entry>Standard Industrial Classification Code (SIC) (required)</entry>
</row>
<row>
<entry>231-239</entry>
<entry>LATC</entry>
<entry>Real</entry>
<entry>Latitude (decimal degrees) (required)</entry>
</row>
<row>
<entry>240-248</entry>
<entry>LONC</entry>
<entry>Real</entry>
<entry>Longitude (decimal degrees) (required)</entry>
</row>
<row>
<entry>249-249</entry>
<entry>OFFSHORE</entry>
<entry>Char</entry>
<entry>Offshore Flag (fill in with <quote>X</quote> if source is offshore), (not used by SMOKE)</entry>
</row>
<row>
<entry>250-262</entry>
<entry>ANN1</entry>
<entry>Real</entry>
<entry>pol1 Annual Emissions (short tons/yr) (required)</entry>
</row>
<row>
<entry>263-275</entry>
<entry>AVD1</entry>
<entry>Real</entry>
<entry>pol1 Average-day Emissions (short tons/average day) (optional)</entry>
</row>
<row>
<entry>276-282</entry>
<entry>CE1</entry>
<entry>Real</entry>
<entry>pol1 Control Efficiency (give value of 0-100) (recommended; if left blank, SMOKE default is 0)</entry>
</row>
<row>
<entry>283-285</entry>
<entry>RE1</entry>
<entry>Real</entry>
<entry>pol1 Rule Effectiveness (give value of 0-100) (recommended; if left blank, SMOKE default is 100)</entry>
</row>
<row>
<entry>286-295</entry>
<entry>EMF1</entry>
<entry>Real</entry>
<entry>pol1 Emission Factors (SCC units) (not used by SMOKE)</entry>
</row>
<row>
<entry>296-298</entry>
<entry>CPRI1</entry>
<entry>Int</entry>
<entry>pol1 Primary Control Equipment Code (not used by SMOKE)</entry>
</row>
<row>
<entry>299-301</entry>
<entry>CSEC1</entry>
<entry>Int</entry>
<entry>pol1 Secondary Control Equipment Code (not used by SMOKE)</entry>
</row>
<row>
<entry>302-314</entry>
<entry>ANN2</entry>
<entry>Real</entry>
<entry>pol2 Annual Emissions (short tons/yr) (required)</entry>
</row>
<row>
<entry>315-327</entry>
<entry>AVD2</entry>
<entry>Real</entry>
<entry>pol2 Average-day Emissions (short tons/average day) (optional)</entry>
</row>
<row>
<entry>328-334</entry>
<entry>CE2</entry>
<entry>Real</entry>
<entry>pol2 Control Efficiency (0-100); see pol1 above</entry>
</row>
<row>
<entry>335-337</entry>
<entry>RE2</entry>
<entry>Real</entry>
<entry>pol2 Rule Effectiveness (0-100); see pol1 above</entry>
</row>
<row>
<entry>338-347</entry>
<entry>EMF2</entry>
<entry>Real</entry>
<entry>pol2 Emission Factors (SCC units) (not used by SMOKE)</entry>
</row>
<row>
<entry>348-350</entry>
<entry>CPRI2</entry>
<entry>Int</entry>
<entry>pol2 Primary Control Equipment Code (not used by SMOKE)</entry>
</row>
<row>
<entry>351-353</entry>
<entry>CSEC2</entry>
<entry>Int</entry>
<entry>pol2 Secondary Control Equipment Code (not used by SMOKE)</entry>
</row>
<row>
<entry>354-366</entry>
<entry>ANN3</entry>
<entry>Real</entry>
<entry>pol3 Annual Emissions (short tons/yr) (required)</entry>
</row>
<row>
<entry>367-379</entry>
<entry>AVD3</entry>
<entry>Real</entry>
<entry>pol3 Average-day Emissions (short tons/average day) (optional)</entry>
</row>
<row>
<entry>380-386</entry>
<entry>CE3</entry>
<entry>Real</entry>
<entry>pol3 Control Efficiency (0-100); see pol1 above</entry>
</row>
<row>
<entry>387-389</entry>
<entry>RE3</entry>
<entry>Real</entry>
<entry>pol3 Rule Effectiveness (0-100); see pol1 above</entry>
</row>
<row>
<entry>390-399</entry>
<entry>EMF3</entry>
<entry>Real</entry>
<entry>pol3 Emission Factors (SCC units) (not used by SMOKE)</entry>
</row>
<row>
<entry>400-402</entry>
<entry>CPRI3</entry>
<entry>Int</entry>
<entry>pol3 Primary Control Equipment Code (not used by SMOKE)</entry>
</row>
<row>
<entry>403-405</entry>
<entry>CSEC3</entry>
<entry>Int</entry>
<entry>pol3 Secondary Control Equipment Code (not used by SMOKE)</entry>
</row>
<row>
<entry namest="Position" nameend="Description">(Report for <emphasis>n</emphasis> pollutants)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section>

<title>EMS-95 Format</title>

<para>For EMS-95 inputs, the <envar>PTINV</envar> file must be a list file (see <xref linkend="sect_input_inventory_list" /> and must list the different types of EMS-95 files in a specific order. The order of the EMS-95 files is the same as would be achieved using from the UNIX command <command>ls</command> (i.e. alphabetical): device file, emissions file, facility file, process file, and stack file. These five files must be grouped together for the files to work together; for example, the North Carolina files must be together to correctly match source characteristics between the files.</para>

<para>Although it would be possible to create a single file of each type (i.e., a single device, emission, facility, process, or stack file with all records for all states), this approach is not recommended because <command>Smkinven</command> will be much slower than if the files are separated by state. This is because SMOKE must match the records among the various files, and it is much faster to do the matching with subsets of the data than with all of the data at once.</para>

<para>The <envar>PTINV</envar> list file must also contain at least one INVYEAR packet (see <xref linkend="sect_input_inventory_invyear" />. The following is an example of a correct <envar>PTINV</envar> file when used for EMS-95 inputs.</para>

<programlisting>#LIST EMS-95
INVYEAR 1995
/epserv/apps/smoke/inventory/smraq95/al/common/device.pt
/epserv/apps/smoke/inventory/smraq95/al/common/emission.pt
/epserv/apps/smoke/inventory/smraq95/al/common/facility.pt
/epserv/apps/smoke/inventory/smraq95/al/common/process.pt
/epserv/apps/smoke/inventory/smraq95/al/common/stack.pt
/epserv/apps/smoke/inventory/smraq95/ar/common/device.pt
/epserv/apps/smoke/inventory/smraq95/ar/common/emission.pt
/epserv/apps/smoke/inventory/smraq95/ar/common/facility.pt
/epserv/apps/smoke/inventory/smraq95/ar/common/process.pt
/epserv/apps/smoke/inventory/smraq95/ar/common/stack.pt</programlisting>

<section>

<title>Format for EMS-95 <filename>device.pt</filename> file(s)</title>

<para>The format of the <filename>device.pt</filename> file is column-specific and is shown in <xref linkend="tbl_input_ptinv_ems_device" />. The columns listed are only those that are used by SMOKE. <comment>These files <emphasis>cannot</emphasis> have a #COUNTRY entry. The default country code is 0 for the United States.</comment></para>

<table id="tbl_input_ptinv_ems_device">
<title>EMS-95 Format for <filename>device.pt</filename></title>

<tgroup cols="3">
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="70*" />

<thead>
<row>
<entry>Position</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1-2 </entry>
<entry>Int</entry>
<entry>FIPS state code (required)</entry>
</row>
<row>
<entry>3-5 </entry>
<entry>Int</entry>
<entry>FIPS county code (required)</entry>
</row>
<row>
<entry>6-20 </entry>
<entry>Char</entry>
<entry>Facility ID (required)</entry>
</row>
<row>
<entry>21-32 </entry>
<entry>Char</entry>
<entry>Stack ID (required)</entry>
</row>
<row>
<entry>33-44 </entry>
<entry>Char</entry>
<entry>Device ID (required)</entry>
</row>
<row>
<entry>45-48 </entry>
<entry>Char</entry>
<entry>SIC (required)</entry>
</row>
<row>
<entry>121-122</entry>
<entry>Int</entry>
<entry>Diurnal profile code (optional; you may use the <envar>PTREF</envar> file instead)</entry>
</row>
<row>
<entry>123-124</entry>
<entry>Int</entry>
<entry>Weekly profile code (optional; you may use the <envar>PTREF</envar> file instead)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section>

<title>Format for EMS-95 <filename>emission.pt</filename> file(s)</title>

<para>The format of the <filename>emission.pt</filename> file is column-specific and is shown in <xref linkend="tbl_input_ptinv_ems_emission" />. The columns listed are only those that are used by SMOKE.</para>

<table id="tbl_input_ptinv_ems_emission">
<title>EMS-95 Format for <filename>emission.pt</filename></title>

<tgroup cols="3">
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="70*" />

<thead>
<row>
<entry>Position</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1-2 </entry>
<entry>Int</entry>
<entry>FIPS state code (required)</entry>
</row>
<row>
<entry>3-5 </entry>
<entry>Int</entry>
<entry>FIPS county code (required)</entry>
</row>
<row>
<entry>6-20 </entry>
<entry>Char</entry>
<entry>Facility ID (required)</entry>
</row>
<row>
<entry>21-32 </entry>
<entry>Char</entry>
<entry>Stack ID (required)</entry>
</row>
<row>
<entry>33-44 </entry>
<entry>Char</entry>
<entry>Device ID (required)</entry>
</row>
<row>
<entry>45-56 </entry>
<entry>Char</entry>
<entry>Process ID (required)</entry>
</row>
<row>
<entry>57-61 </entry>
<entry>Char</entry>
<entry>Pollutant ID (e.g., NOX) (required)</entry>
</row>
<row>
<entry>88-100 </entry>
<entry>Real</entry>
<entry>Actual emissions of specified pollutant (short tons/average annual day) (required)</entry>
</row>
<row>
<entry>114-115 </entry>
<entry>Char</entry>
<entry><para>Temporal basis (required)</para>

<itemizedlist spacing="compact">
<listitem>AA = annual emissions</listitem>
<listitem>AD = daily emissions with weekday normalizer</listitem>
<listitem>DS = day-specific emissions</listitem>
</itemizedlist>

</entry>
</row>
<row>
<entry>126-132 </entry>
<entry>Real</entry>
<entry>Control equipment efficiency (percent, give value 0-100) (optional; SMOKE default is 0)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section>

<title>Format for EMS-95 <filename>facility.pt</filename> file(s)</title>

<para>The format of the <filename>facility.pt</filename> file is column-specific and in shown in <xref linkend="tbl_input_ptinv_ems_facility" />.The columns listed are only those that are used by SMOKE.</para>

<table id="tbl_input_ptinv_ems_facility">
<title>EMS-95 Format for <filename>facility.pt</filename></title>

<tgroup cols="3">
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="70*" />

<thead>
<row>
<entry>Position</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1-2 </entry>
<entry>Int</entry>
<entry>FIPS state code (required)</entry>
</row>
<row>
<entry>3-5 </entry>
<entry>Int</entry>
<entry>FIPS county code (required)</entry>
</row>
<row>
<entry>6-20 </entry>
<entry>Char</entry>
<entry>Facility ID (required)</entry>
</row>
<comment><row>
<entry>21-24 </entry>
<entry>Int</entry>
<entry>SIC (required)</entry>
</row></comment>
<row>
<entry>25-33 </entry>
<entry>Real</entry>
<entry>UTM easting (m) (required)</entry>
</row>
<row>
<entry>34-42 </entry>
<entry>Real</entry>
<entry>UTM northing (m) (required)</entry>
</row>
<row>
<entry>43-44 </entry>
<entry>Int</entry>
<entry>UTM zone (required)</entry>
</row>
<row>
<entry>45-84 </entry>
<entry>Char</entry>
<entry>Facility name (required)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section>

<title>Format for EMS-95 <filename>process.pt</filename> file(s)</title>

<para>The format of the <filename>process.pt</filename> is column-specific and is shown in <xref linkend="tbl_input_ptinv_ems_process" />. The columns listed are only those that are used by SMOKE.</para>

<table id="tbl_input_ptinv_ems_process">
<title>EMS-95 Format for <filename>process.pt</filename></title>

<tgroup cols="3">
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="70*" />

<thead>
<row>
<entry>Position</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1-2 </entry>
<entry>Int</entry>
<entry>FIPS state code (required)</entry>
</row>
<row>
<entry>3-5 </entry>
<entry>Int</entry>
<entry>FIPS county code (required)</entry>
</row>
<row>
<entry>6-20 </entry>
<entry>Char</entry>
<entry>Facility ID (required)</entry>
</row>
<row>
<entry>21-32 </entry>
<entry>Char</entry>
<entry>Stack ID (required)</entry>
</row>
<row>
<entry>33-44 </entry>
<entry>Char</entry>
<entry>Device ID (required)</entry>
</row>
<row>
<entry>45-56 </entry>
<entry>Char</entry>
<entry>Process ID (required)</entry>
</row>
<row>
<entry>57-64 </entry>
<entry>Char</entry>
<entry>SCC (required)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section>

<title>Format for EMS-95 <filename>stack.pt</filename> file(s)</title>

<para>The format of the <filename>stack.pt</filename> is column-specific and is shown in <xref linkend="tbl_input_ptinv_ems_stack" />. The columns listed are only those that are used by SMOKE.</para>

<table id="tbl_input_ptinv_ems_stack">
<title>EMS-95 Format for <filename>stack.pt</filename></title>

<tgroup cols="3">
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="70*" />

<thead>
<row>
<entry>Position</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1-2 </entry>
<entry>Int</entry>
<entry>FIPS state code (required)</entry>
</row>
<row>
<entry>3-5 </entry>
<entry>Int</entry>
<entry>FIPS county code (required)</entry>
</row>
<row>
<entry>6-20 </entry>
<entry>Char</entry>
<entry>Facility ID (required)</entry>
</row>
<row>
<entry>21-32 </entry>
<entry>Char</entry>
<entry>Stack ID (required)</entry>
</row>
<row>
<entry>33-40 </entry>
<entry>Real</entry>
<entry>Stack diameter (ft) (required)</entry>
</row>
<row>
<entry>41-47 </entry>
<entry>Real</entry>
<entry>Stack height above ground surface (ft) (required)</entry>
</row>
<row>
<entry>48-54 </entry>
<entry>Real</entry>
<entry>Stack exit gas temperature (K) (required)</entry>
</row>
<row>
<entry>55-61 </entry>
<entry>Real</entry>
<entry>Stack exit gas velocity (ft/s) (required)</entry>
</row>
<row>
<entry>62-71 </entry>
<entry>Real</entry>
<entry>Stack exit flow rate (ft<superscript>3</superscript>/min) (optional)</entry>
</row>
<row>
<entry>72-80 </entry>
<entry>Real</entry>
<entry>UTM easting of stack (m) (default is plant&rsquo;s value) (optional; SMOKE will use value from facility file)</entry>
</row>
<row>
<entry>81-89 </entry>
<entry>Real</entry>
<entry>UTM northing of stack (m) (default is plant&rsquo;s value) (optional; SMOKE will use value from facility file)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

<section>

<title>ORL Format</title>

<para>The ORL format is list-directed and uses the header described in <xref linkend="sect_input_inventory_header" />. Sample header records are shown below:</para>

<programlisting>#ORL
#TYPE     Point Source Toxics Inventory
#COUNTRY  US
#YEAR     1999
#DESC     Alabama 1999</programlisting>

<para>The format for the data records is shown in <xref linkend="tbl_input_ptinv_orl" />.</para>

<table id="tbl_input_ptinv_orl">
<title>ORL Format for <envar>PTINV</envar></title>

<tgroup cols="4">
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="55*" />

<thead>
<row>
<entry>Position</entry>
<entry>Name</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>A</entry>
<entry>FIPS</entry>
<entry>Int</entry>
<entry>Five digit FIPS code for state and county (required)</entry>
</row>
<row>
<entry>B</entry>
<entry>PLANTID</entry>
<entry>Char</entry>
<entry>Plant Identification Code (15 characters maximum) (required; this is the same as the State Facility Identifier in the NIF)</entry>
</row>
<row>
<entry>C</entry>
<entry>POINTID</entry>
<entry>Char</entry>
<entry>Point Identification Code (15 characters maximum) (required; this is the same as the Emission Unit ID in the NIF)</entry>
</row>
<row>
<entry>D</entry>
<entry>STACKID</entry>
<entry>Char</entry>
<entry>Stack Identification Code (15 characters maximum) (recommended; this is the same as the Emissions Release Point ID in the NIF)</entry>
</row>
<row>
<entry>E</entry>
<entry>SEGMENT</entry>
<entry>Char</entry>
<entry>DOE Plant ID (15 characters maximum) (recommended; this is the same as the Process ID in the NIF)</entry>
</row>
<row>
<entry>F</entry>
<entry>PLANT</entry>
<entry>Char</entry>
<entry>Plant Name (40 characters maximum) (recommended)</entry>
</row>
<row>
<entry>G</entry>
<entry>SCC</entry>
<entry>Char</entry>
<entry>Source Classification Code (8 characters maximum) (required)</entry>
</row>
<row>
<entry>H</entry>
<entry>ERPTYPE</entry>
<entry>Char</entry>
<entry><para>Emissions release point type (2 characters maximum); indicates type of stack (not used by SMOKE)</para>

<itemizedlist spacing="compact">
<listitem>01 = fugitive</listitem>
<listitem>02 = vertical stack</listitem>
<listitem>03 = horizontal stack</listitem>
<listitem>04 = goose neck</listitem>
<listitem>05 = vertical with rain cap</listitem>
<listitem>06 = downward-facing vent</listitem>
</itemizedlist>

</entry>
</row>
<row>
<entry>I</entry>
<entry>SRCTYPE</entry>
<entry>Char</entry>
<entry><para>Source type (2 characters maximum); used by SMOKE in determining applicable MACT-based controls (required)</para>

<itemizedlist spacing="compact">
<listitem>01 = major</listitem>
<listitem>02 = Section 12 area source</listitem>
</itemizedlist>

</entry>
</row>
<row>
<entry>J</entry>
<entry>STKHGT</entry>
<entry>Real</entry>
<entry>Stack Height (ft) (required)</entry>
</row>
<row>
<entry>K</entry>
<entry>STKDIAM</entry>
<entry>Real</entry>
<entry>Stack Diameter (ft) (required)</entry>
</row>
<row>
<entry>L</entry>
<entry>STKTEMP</entry>
<entry>Real</entry>
<entry>Stack Gas Exit Temperature (&deg;F) (required)</entry>
</row>
<row>
<entry>M</entry>
<entry>STKFLOW</entry>
<entry>Real</entry>
<entry>Stack Gas Flow Rate (ft<superscript>3</superscript>/sec) (optional; automatically calculated by <command>Smkinven</command> from velocity and diameter if not given in file)</entry>
</row>
<row>
<entry>N</entry>
<entry>STKVEL</entry>
<entry>Real</entry>
<entry>Stack Gas Exit Velocity (ft/sec) (required)</entry>
</row>
<row>
<entry>O</entry>
<entry>SIC</entry>
<entry>Int</entry>
<entry>Standard Industrial Classification Code (recommended)</entry>
</row>
<row>
<entry>P</entry>
<entry>MACT</entry>
<entry>Char</entry>
<entry>Maximum Available Control Technology Code (6 characters maximum) (optional)</entry>
</row>
<row>
<entry>Q</entry>
<entry>NAICS</entry>
<entry>Char</entry>
<entry>North American Industrial Classification System Code (6 characters maximum) (optional)</entry>
</row>
<row>
<entry>R</entry>
<entry>CTYPE</entry>
<entry>Char</entry>
<entry><para>Coordinate system type (1 character maximum) (required)</para>

<itemizedlist spacing="compact">
<listitem>U = Universal Transverse Mercator</listitem>
<listitem>L = Latitude/longitude</listitem>
</itemizedlist>

</entry>
</row>
<row>
<entry>S</entry>
<entry>XLOC</entry>
<entry>Real</entry>
<entry><para>X location (required)</para>

<itemizedlist spacing="compact">
<listitem>If CTYPE = U, Easting value (meters)</listitem>
<listitem>If CTYPE = L, Longitude (decimal degrees)</listitem>
</itemizedlist>

</entry>
</row>
<row>
<entry>T</entry>
<entry>YLOC</entry>
<entry>Real</entry>
<entry><para>Y location (required)</para>

<itemizedlist spacing="compact">
<listitem>If CTYPE = U, Northing value (meters)</listitem>
<listitem>If CTYPE = L, Latitude (decimal degrees)</listitem>
</itemizedlist>

</entry>
</row>
<row>
<entry>U</entry>
<entry>UTMZ</entry>
<entry>Int</entry>
<entry>UTM zone (required if CTYPE = U)</entry>
</row>
<row>
<entry>V</entry>
<entry>CAS</entry>
<entry>Char</entry>
<entry>Pollutant CAS number or other code (10 characters maximum) (required; this is called the pollutant code in the NIF)</entry>
</row>
<row>
<entry>W</entry>
<entry>ANN_EMIS</entry>
<entry>Real</entry>
<entry>Annual Emissions (tons/year) (required)</entry>
</row>
<row>
<entry>X</entry>
<entry>AVD_EMIS</entry>
<entry>Real</entry>
<entry>Average-day Emissions (tons/average day) (optional)</entry>
</row>
<row>
<entry>Y</entry>
<entry>CEFF</entry>
<entry>Real</entry>
<entry>Control Efficiency percentage (give value of 0-100) (recommended, if left blank, SMOKE default is 0)</entry>
</row>
<row>
<entry>Z</entry>
<entry>REFF</entry>
<entry>Real</entry>
<entry>Rule Effectiveness percentage (give value of 0-100) (recommended, if left blank, SMOKE default is 100)</entry>
</row>
<row>
<entry>AA</entry>
<entry>CPRI</entry>
<entry>Int</entry>
<entry>Primary Control Equipment Code (not used by SMOKE)</entry>
</row>
<row>
<entry>BB</entry>
<entry>CSEC</entry>
<entry>Int</entry>
<entry>Secondary Control Equipment Code (not used by SMOKE)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

<section id="sect_input_vmtmix">

<title><envar>VMTMIX</envar>: Mobile vehicle mix data</title>

<para>The <envar>VMTMIX</envar> file is when the <envar>MBINV</envar> file is provided in EMS-95 format. It contains factors to disaggregate the data totals by vehicle type. This file can be in EMS-95 column-specific format, or in a list-directed format based on the EMS-95 column-specific format. The roadway type or road class codes used in either <envar>VMTMIX</envar> file format <emphasis>must</emphasis> match the codes that are used in the <envar>MBINV</envar> file.</para>

<para>For both file formats, a header line is needed to indicate the number and order of vehicle types listed in the file. The standard EMS-95 structure is</para>

<programlisting>#VTYPES  LDGV  LDGT1  LDGT2  HDGV  LDDV  LDDT  HDDV  MC</programlisting>

<para>The above eight vehicle types are spelled out in <xref linkend="tbl_concepts_vehicle_types" />.</para>

<comment>check how SMOKE distinguishes between column-specific and list-directed</comment>

<section>

<title>EMS-95 column-specific format</title>

<para>The format of the EMS-95 column-specific <envar>VMTMIX</envar> file is shown in <xref linkend="tbl_input_vmtmix_column" />.</para>

<table id="tbl_input_vmtmix_column">
<title>EMS-95 Column-specific Format for <envar>VMTMIX</envar></title>

<tgroup cols="4">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="15*" colname="Type" />
<colspec colwidth="55*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1</entry>
<entry>A</entry>
<entry>Char</entry>
<entry>#VTYPES header line (required) (see example above)</entry>
</row>
<row>
<entry>2+</entry>
<entry>1-2 </entry>
<entry>Int</entry>
<entry>State code (required)</entry>
</row>
<row>
<entry colname="Position">3-5</entry>
<entry>Int</entry>
<entry>County code (required)</entry>
</row>
<row>
<entry colname="Position">6-6</entry>
<entry>Int</entry>
<entry>Area type code (required)</entry>
</row>
<row>
<entry colname="Position">7-10</entry>
<entry>Int</entry>
<entry>Facility type code (required)</entry>
</row>
<row>
<entry colname="Position">11-20</entry>
<entry>Char</entry>
<entry>Link ID (optional; zero if nonlink data)</entry>
</row>
<row>
<entry colname="Position">21-25</entry>
<entry>Real</entry>
<entry>Fraction of total VMT from gas vehicles (required)</entry>
</row>
<row>
<entry colname="Position">26-30</entry>
<entry>Real</entry>
<entry>Fraction of total VMT from light-duty gas trucks 1 (required)</entry>
</row>
<row>
<entry colname="Position">31-35</entry>
<entry>Real</entry>
<entry>Fraction of total VMT from light-duty gas trucks 2 (required)</entry>
</row>
<row>
<entry colname="Position">36-40</entry>
<entry>Real</entry>
<entry>Fraction of total VMT from heavy-duty gas vehicles (required)</entry>
</row>
<row>
<entry colname="Position">41-45</entry>
<entry>Real</entry>
<entry>Fraction of total VMT from light-duty diesel vehicles (required)</entry>
</row>
<row>
<entry colname="Position">46-50</entry>
<entry>Real</entry>
<entry>Fraction of total VMT from heavy-duty diesel trucks (required)</entry>
</row>
<row>
<entry colname="Position">51-55</entry>
<entry>Real</entry>
<entry>Fraction of total VMT from heavy-duty diesel vehicles (required)</entry>
</row>
<row>
<entry colname="Position">56-60</entry>
<entry>Real</entry>
<entry>Fraction of total VMT from motorcycles (required)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section>

<title>EMS-95 list-directed format</title>

<para>The format of the EMS-95 list-directed <envar>VMTMIX</envar> file is shown in <xref linkend="tbl_input_vmtmix_list" />.</para>

<table id="tbl_input_vmtmix_list">
<title>EMS-95 List-directed Format for <envar>VMTMIX</envar></title>

<tgroup cols="4">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="15*" colname="Type" />
<colspec colwidth="55*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1</entry>
<entry>A</entry>
<entry>Char</entry>
<entry>#VTYPES header line (required) (see example above)</entry>
</row>
<row>
<entry>2+</entry>
<entry>A</entry>
<entry>Int</entry>
<entry>Country, state, and county code (required)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Int</entry>
<entry>Roadway type or road class code (required)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Char</entry>
<entry>Link ID (optional; zero if nonlink data)</entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry>Real</entry>
<entry>Fraction of total VMT from first vehicle type (required)</entry>
</row>
<row>
<entry colname="Position">E</entry>
<entry>Real</entry>
<entry>Fraction of total VMT from second vehicle type (required)</entry>
</row>
<row>
<entry colname="Position">F</entry>
<entry>Real</entry>
<entry>Fraction of total VMT from third vehicle type (required)</entry>
</row>
<row>
<entry colname="Position">G</entry>
<entry>Real</entry>
<entry>Fraction of total VMT from fourth vehicle type (required)</entry>
</row>
<row>
<entry colname="Position">H</entry>
<entry>Real</entry>
<entry>Fraction of total VMT from fifth vehicle type (required)</entry>
</row>
<row>
<entry colname="Position">I</entry>
<entry>Real</entry>
<entry>Fraction of total VMT from sixth vehicle type (required)</entry>
</row>
<row>
<entry colname="Position">J</entry>
<entry>Real</entry>
<entry>Fraction of total VMT from seventh vehicle type (required)</entry>
</row>
<row>
<entry colname="Position">K</entry>
<entry>Real</entry>
<entry>Fraction of total VMT from eighth vehicle type (required)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

</section>

<section id="sect_input_temporal">

<title>Temporal Allocation Files</title>

<section id="sect_input_amptpro">

<title><envar>[A|M|P]TPRO</envar>: Temporal profiles file</title>

<para>The <envar>ATPRO</envar>, <envar>MTPRO</envar>, and <envar>PTPRO</envar> files are used by the <command>Temporal</command> program for area, mobile, and point sources, respectively. These files contain the monthly, weekly, and diurnal temporal profiles used to convert the annual emissions stored in the inventory to hourly emissions. The files can contain the following types of records:</para>

<itemizedlist>
<listitem>
<para>Monthly temporal weighting factors (exactly one /MONTHLY/ packet)</para>
</listitem>
<listitem>
<para>Weekly temporal weighting factors (exactly one /WEEKLY/ packet)</para>
</listitem>
<listitem>
<para>Weekday diurnal temporal weighting factors (either one /DIURNAL WEEKDAY/ packet or one each of /DIURNAL MONDAY/, /DIURNAL TUESDAY/, /DIURNAL WEDNESDAY/, /DIURNAL THURSDAY/, and /DIURNAL FRIDAY/ packets)</para>
</listitem>
<listitem>
<para>Weekend diurnal temporal weighting factors (either one /DIURNAL WEEKEND/ packet or one each of /DIURNAL SATURDAY/ and /DIURNAL SUNDAY/ packets)</para>
</listitem>
</itemizedlist>

<para>The weekend diurnal temporal factors are optional if the /DIURNAL WEEKDAY/ packet is provided; in that case, the diurnal factors from the weekday packet will be used for both weekend days. If the monthly factors are not used because all of the inventory emissions are supplied as <quote>per day</quote> emissions, at least one monthly profile is still needed to prevent an error message.</para>

<para>The file format is column-specific and shown in <xref linkend="tbl_input_amptpro" />. All three source categories use the same file format, and they can share the same file.</para>

<table id="tbl_input_amptpro">
<title>Format for <envar>ATPRO</envar>, <envar>MTPRO</envar>, and <envar>PTPRO</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>

<row>
<entry namest="Line" nameend="Description">/MONTHLY/ packet</entry>
</row>

<row>
<entry>1</entry>
<entry>1-20</entry>
<entry>Packet identifier = /MONTHLY/</entry>
</row>
<row>
<entry>2+</entry>
<entry>1-5</entry>
<entry>Monthly temporal profile code (Integer)</entry>
</row>
<row>
<entry colname="Position">6-9</entry>
<entry>Temporal weight for January (Integer)</entry>
</row>
<row>
<entry colname="Position">10-13</entry>
<entry>Temporal weight for February (Integer)</entry>
</row>
<row>
<entry colname="Position">...</entry>
<entry>...</entry>
</row>
<row>
<entry colname="Position">50-53</entry>
<entry>Temporal weight for December (Integer)</entry>
</row>
<row>
<entry colname="Position">54-58</entry>
<entry>Total of weights for entire year (Integer)</entry>
</row>
<row>
<entry>3</entry>
<entry>1-20</entry>
<entry>Packet terminator = /END/</entry>
</row>

<row>
<entry namest="Line" nameend="Description">/WEEKLY/ packet</entry>
</row>

<row>
<entry>1</entry>
<entry>1-20</entry>
<entry>Packet identifier = /WEEKLY/</entry>
</row>
<row>
<entry>2+</entry>
<entry>1-5</entry>
<entry>Weekly temporal profile code (Integer)</entry>
</row>
<row>
<entry colname="Position">6-9</entry>
<entry>Temporal weight for Monday (Integer)</entry>
</row>
<row>
<entry colname="Position">10-13</entry>
<entry>Temporal weight for Tuesday (Integer)</entry>
</row>
<row>
<entry colname="Position">...</entry>
<entry>...</entry>
</row>
<row>
<entry colname="Position">30-33</entry>
<entry>Temporal weight for Sunday (Integer)</entry>
</row>
<row>
<entry colname="Position">34-38</entry>
<entry>Total of weights for entire week (Integer)</entry>
</row>
<row>
<entry>3</entry>
<entry>1-20</entry>
<entry>Packet terminator = /END/</entry>
</row>

<row>
<entry namest="Line" nameend="Description">/DIURNAL/ packets</entry>
</row>

<row>
<entry>1</entry>
<entry>1-20</entry>
<entry>Packet identifier = /DIURNAL WEEKDAY/, /DIURNAL WEEKEND/, ...</entry>
</row>
<row>
<entry>2+</entry>
<entry>1-5</entry>
<entry>Diurnal temporal profile code (Integer)</entry>
</row>
<row>
<entry colname="Position">6-9</entry>
<entry>Temporal weight for hour beginning 0000 (Integer)</entry>
</row>
<row>
<entry colname="Position">10-13</entry>
<entry>Temporal weight for hour beginning 0100 (Integer)</entry>
</row>
<row>
<entry colname="Position">...</entry>
<entry>...</entry>
</row>
<row>
<entry colname="Position">98-101</entry>
<entry>Temporal weight for hour beginning 2300 (Integer)</entry>
</row>
<row>
<entry colname="Position">102-106</entry>
<entry>Total of weights for entire day (Integer)</entry>
</row>
<row>
<entry>3</entry>
<entry>1-20</entry>
<entry>Packet terminator = /END/</entry>
</row>
</tbody>
</tgroup>
</table>

<example>
<title><envar>[A|M|P]TPRO</envar> file</title>

<programlisting>
/MONTHLY/
    1  83  83  83  83  83  83  83  83  83  83  83  83  996
/END/
/WEEKLY/
    1   1   1   1   1   1   0   0    5
    2   0   0   0   0   0   1   1    2
    3   1   1   1   1   1   0   0    5
/END/
/DIURNAL WEEKDAY/
    1   0   0   0   0   0   0   0   0   1   1   1   1   1   1   1   1   0   0   0   0   0   0   0   0    8
    2   0   0   0   0   0   0   0   0   1   1   1   1   1   1   1   1   0   0   0   0   0   0   0   0    8
   81 417 417 417 417 417 417 417 417 417 417 417 416 414 415 417 417 417 417 417 417 417 417 417 41510000
   82 388 351 315 299 299 321 348 402 441 456 457 461 457 461 461 460 464 460 456 456 455 453 450 42910000
/END/
</programlisting>
</example>

</section>

<section id="sect_input_amptref">

<title><envar>[A|M|P]TREF</envar>: Temporal cross-reference file</title>

<para>The <envar>ATREF</envar>, <envar>MTREF</envar>, and <envar>PTREF</envar> files contain the area-, mobile-, and point-source cross-reference records for assigning the temporal profiles to the sources. If needed, the same file can be used for area-, mobile-, or point-source categories, but more fields are used for mobile than for area, and more fields are used for point than for mobile. <xref linkend="sect_programs_temporal" /> provides a list of the matching hierarchies that SMOKE uses when applying the file to an inventory. <remark>If a field is blank, it must be set to -9.</remark></para>

<para>The pollutant field allows you to assign a different temporal profile for each pollutant associated with a given source. This is an optional approach; if you do not want to use pollutant as a characteristic in assigning temporal profiles, you can put a <quote>-9</quote> in the pollutant field. In that case, all pollutants for a given source will be assigned that temporal profile.</para>

<para>The country/state/county code is defined as follows:</para>

<simplelist>
<member>000000 = applies to all counties, states, and counties</member>
<member>Y00000 = applies to all states and counties in country Y</member>
<member>YSS000 = applies to all counties in state SS and country Y</member>
<member>YSSCCC = applies to county CCC in state SS and country Y</member>
</simplelist>

<section>

<title>Area-source temporal cross-reference file</title>

<para>The format for the <envar>ATREF</envar> file is shown in <xref linkend="tbl_input_atref" />.</para>

<table id="tbl_input_atref">
<title>Format for <envar>ATREF</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry>10-digit SCC, or 7-digit SCC with zeros filling the remaining digits (Character) (optional; put zero for entry that is not SCC-specific)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Monthly temporal profile code (Integer) (required)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Weekly temporal profile code (Integer) (required)</entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry>Weekday or weekend diurnal temporal profile code (Integer) (required)</entry>
</row>
<row>
<entry colname="Position">E</entry>
<entry>Pollutant name (Character) (optional; put zero if not pollutant-dependent)</entry>
</row>
<row>
<entry colname="Position">F</entry>
<entry>Country/state/county code (6-digit Integer in format YSSCCC) (optional)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section>

<title>Mobile-source temporal cross-reference file</title>

<para>The format for the <envar>MTREF</envar> file is shown in <xref linkend="tbl_input_mtref" />.</para>

<table id="tbl_input_mtref">
<title>Format for <envar>MTREF</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry>10-digit SCC (Character) (optional; put zero for entry that is not SCC-specific)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Monthly temporal profile code (Integer) (required)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Weekly temporal profile code (Integer) (required)</entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry>Weekday or weekend diurnal temporal profile code (Integer) (required)</entry>
</row>
<row>
<entry colname="Position">E</entry>
<entry>Pollutant name (Character) (optional; put zero if not pollutant-dependent)</entry>
</row>
<row>
<entry colname="Position">F</entry>
<entry>Country/state/county code (6-digit Integer in format YSSCCC) (optional)</entry>
</row>
<row>
<entry colname="Position">G</entry>
<entry>Link ID (Character) (optional; leave blank or put zero for entry that is not link-specific)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section>

<title>Point-source temporal cross-reference file</title>

<para>For point sources, you can fill in whatever fields you need for the source characteristics after plant ID. It is important to ensure, however, that you are consistent between the <envar>PTINV</envar> and the <envar>PTREF</envar> file. For example, if you use the Process ID in place of the Stack ID field in the <envar>PTINV</envar> file, the same approach needs to be used in building the <envar>PTREF</envar> file. Remember that all of the field widths are limited to what is in the original <envar>PTINV</envar> input format (IDA, EMS-95, or ORL). Also remember that these fields are character strings, and therefore leading zeros are not ignored (this has caused other users problems in the past). The format of the <envar>PTREF</envar> file is shown in <xref linkend="tbl_input_ptref" />.</para>

<table id="tbl_input_ptref">
<title>Format for <envar>PTREF</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1</entry>
<entry>A</entry>
<entry>/POINT DEFN/</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Number of point source characteristics in addition to plant ID in point source definition; for IDA and ORL inventories, this will always be 4 (integer) (required)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry><para>Number of point source characteristics in addition to plant ID (if SCC is a part of the source definition), zero otherwise.</para>

<itemizedlist>
<listitem>IDA and ORL inventories: 4</listitem>
<listitem>EMS-95 inventories: 0</listitem>
</itemizedlist>

</entry>
</row>
<row>
<entry>2+</entry>
<entry>A</entry>
<entry>10-digit SCC, or 5-digit SCC with zeros filling the remaining digits (Character) (optional; put zero for entry that is not SCC-specific)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Monthly temporal profile code (Integer) (required)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Weekly temporal profile code (Integer) (required)</entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry>Weekday or weekend diurnal temporal profile code (Integer) (required)</entry>
</row>
<row>
<entry colname="Position">E</entry>
<entry>Pollutant name (Character) (optional; put zero if not pollutant-dependent)</entry>
</row>
<row>
<entry colname="Position">F</entry>
<entry>Country/state/county code (6-digit Integer in format YSSCCC) (optional)</entry>
</row>
<row>
<entry colname="Position">G</entry>
<entry>Plant ID (Character) (optional; leave blank for not plant-specific)</entry>
</row>
<row>
<entry colname="Position">H</entry>
<entry>Characteristic 1 (for IDA, this is point ID; for EMS-95, this is stack ID) (Character) (optional)</entry>
</row>
<row>
<entry colname="Position">I</entry>
<entry>Characteristic 2 (for IDA, this is stack ID; for EMS-95, this is device ID) (Character) (optional)</entry>
</row>
<row>
<entry colname="Position">J</entry>
<entry>Characteristic 3 (for IDA, this is segment ID; for EMS-95, this is process ID) (Character) (optional)</entry>
</row>
<row>
<entry colname="Position">K</entry>
<entry>Characteristic 4 (blank for IDA because SCC already given in column A of list line) (Character) (optional)</entry>
</row>
<row>
<entry colname="Position">L</entry>
<entry>Characteristic 5 (blank for IDA) (Character) (optional)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

<section id="sect_input_holidays">

<title><envar>HOLIDAYS</envar>: Holidays date list</title>

<para>SMOKE can process holidays as specific days of the week in order to better model activity patterns. The <envar>HOLIDAYS</envar> file is used to indicate which days should receive special treatment and how the days should be treated. The format of this file is shown in <xref linkend="tbl_input_holidays" />.</para>

<table id="tbl_input_holidays">
<title>Format for <envar>HOLIDAYS</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry>Six-digit FIPS code, only 000000 is currently supported (required)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Month of holiday (1 - 12) (required)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Day of holiday (1 - 31) (required)</entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry>Year of holiday (4 digits) (required)</entry>
</row>
<row>
<entry colname="Position">E</entry>
<entry>Day of the week to treat holiday as, valid values are Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, and Sunday (required)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

<section id="sect_input_spatial">

<title>Spatial Allocation Files</title>

<para>Preparing the spatial allocation inputs to SMOKE is a major stumbling blocks for most users at this time. All spatial allocation (gridding) inputs need to be consistent. Each file has a header to indicate the grid projection, location, dimensions, and resolution; SMOKE uses these headers to ensure consistency across all inputs. SMOKE also requires that any meteorology data inputs be consistent with these gridded data. Most programs in SMOKE are capable of processing a modeling grid that is a subgrid of the input data (i.e. spatial surrogates, meteorology data).</para>

<para>SMOKE does not require that you have a GIS to be able to install the software. However, some processing with a GIS is required to create the <envar>AGPRO</envar>, <envar>MGPRO</envar>, and <envar>BGPRO</envar> or <envar>BGUSE</envar> files. You currently have the following options to prepare these files:</para>

<itemizedlist>
<listitem>
<para>Use the national 36-km Lambert surrogates provided with SMOKE (appropriate only for 36-km modeling). You will have to manually copy and edit the 36-km file to create a file for a smaller grid.</para>
</listitem>
<listitem>
<para>Use the <ulink url="http://www.epa.gov/asmdnerl/mims/software/spatial_allocator.html">MIMS Spatial Allocator</ulink> to create surrogates for any desired modeling grid.</para>
</listitem>
<listitem>
<para>Hire a contractor to prepare the gridding surrogates and/or gridded land use data, or prepare the data yourself using a GIS.</para>
</listitem>
</itemizedlist>

<comment>check on EPA&rsquo;s 4-km national surrogates</comment>

<section id="sect_input_amgpro">

<title><envar>AGPRO</envar> and <envar>MGPRO</envar>: Area and Mobile Spatial Surrogates Files</title>

<para>The spatial surrogates files contain the spatial allocation factors for all area sources and non-link mobile sources. One file may be used for both area and mobile sources, although the SMOKE programs use the two logical file names to access it. The format for these files is shown in <xref linkend="tbl_input_amgpro" />.</para>

<table id="tbl_input_amgpro">
<title>Format for <envar>AGPRO</envar> and <envar>MGPRO</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1</entry>
<entry>A</entry>
<entry>#GRID</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Grid name</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>X origin in units of the projection</entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry>Y origin in units of the projection</entry>
</row>
<row>
<entry colname="Position">E</entry>
<entry>X direction cell length in units of the projection</entry>
</row>
<row>
<entry colname="Position">F</entry>
<entry>Y direction cell length in units of the projection</entry>
</row>
<row>
<entry colname="Position">G</entry>
<entry>Number of columns</entry>
</row>
<row>
<entry colname="Position">H</entry>
<entry>Number of rows</entry>
</row>
<row>
<entry colname="Position">I</entry>
<entry>Number of boundary cells</entry>
</row>
<row>
<entry colname="Position">J</entry>
<entry><para>Projection types:</para>

<itemizedlist spacing="compact">
<listitem>Latitude-Longitude: <quote>LAT-LON</quote> or <quote>LATGRD3</quote></listitem>
<listitem>Lambert Conformal: <quote>LAMBERT</quote> or <quote>LAMGRD3</quote></listitem>
<listitem>Polar Stereographic: <quote>POLAR</quote> or <quote>POLGRD3</quote></listitem>
<listitem>UTM: <quote>UTM</quote> or <quote>UTMGRD3</quote></listitem>
</itemizedlist>

</entry>
</row>
<row>
<entry colname="Position">K</entry>
<entry>Projection units</entry>
</row>
<row>
<entry colname="Position">L</entry>
<entry>Projection alpha value</entry>
</row>
<row>
<entry colname="Position">M</entry>
<entry>Projection beta value</entry>
</row>
<row>
<entry colname="Position">N</entry>
<entry>Projection gamma value</entry>
</row>
<row>
<entry colname="Position">O</entry>
<entry>X-direction projection center in units of the projection</entry>
</row>
<row>
<entry colname="Position">P</entry>
<entry>Y-direction projection center in units of the projection</entry>
</row>
<row>
<entry>2+</entry>
<entry>A</entry>
<entry>Spatial surrogates code (area) or county feature/roadway type (mobile) (Integer) (required)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Country/state/county code (6-digit Integer YSSCCC) (required)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Grid column number (Integer) (required)</entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry>Grid row number (Integer) (required)</entry>
</row>
<row>
<entry colname="Position">E</entry>
<entry>Spatial surrogate ratio (area) or fraction of county feature in cell (mobile) (Real) (required)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_input_amgref">

<title><envar>AGREF</envar> and <envar>MGREF</envar>: Gridding cross-reference files for area and mobile sources</title>

<para>The gridding cross-reference files are used to match the emissions sources with the spatial surrogates in the surrogates file. The way that of the gridding cross-reference files are applied in SMOKE ensures that the most-specific matches override the less-specific ones. A description of how the gridding cross-reference is applied to the inventory is provided in <xref linkend="sect_programs_grdmat" />. The format of the <envar>AGREF</envar> and <envar>MGREF</envar> files is shown in <xref linkend="tbl_input_amgref" />.</para> 

<table id="tbl_input_amgref">
<title>Format for <envar>AGREF</envar> and <envar>MGREF</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry><para>Country/state/county code (6-digit Integer YSSCCC) (optional):</para>

<itemizedlist spacing="compact">
<listitem>leave blank or put zero if not country/state-dependent</listitem>
<listitem>set to YSS000 for country/state-dependent</listitem>
<listitem>set to YSSCCC for county-dependent</listitem>
</itemizedlist>

</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>10-digit SCC (Character) (optional, set to zero if not SCC-dependent)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Spatial surrogate code (Integer) (required)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_input_beld3">

<title><envar>BELD3_A</envar>, <envar>BELD3_B</envar>, <envar>BELD3_TOT</envar>: BELD3 land use data files</title>

<para><envar>BELD3_A</envar>, <envar>BELD3_B</envar>, and <envar>BELD3_TOT</envar> files are I/O API netCDF files that contain gridded BELD3 data. The BELD3 data comprise 230 land use types. Because the I/O API limit on the number of variables in one netCDF file is 120, the gridded BELD3 data is broken up into two files (<envar>BELD_A</envar> and <envar>BELD_B</envar>). The <envar>BELD_TOT</envar> file contains additional information on the BELD3 data for the same grid as the <envar>BELD3_A</envar> and <envar>BELD3_B</envar> files. For a list of the BELD3 land use types, look in the <envar>B3XRF</envar> (<xref linkend="sect_input_b3xrf" />) or <envar>B3FAC</envar> (<xref linkend="sect_input_b3fac" />) file. The <envar>BELD3_TOT</envar> file contains the following variables and descriptions:</para>

<itemizedlist>
<listitem>
<para>FIPCODE: Dominant FIPS code for each grid cell</para>
</listitem>
<listitem>
<para>URW_FLAG: Flag to indicate if grid cells are predominantly urban, rural, or water</para>
</listitem>
<listitem>
<para>USGS_TYPE: Dominant USGS land type for each grid cell</para>
</listitem>
<listitem>
<para>USGS_TOTAL: Percentage of USGS area in each grid cell</para>
</listitem>
<listitem>
<para>FOREST: Percentage of forest area in each grid cell</para>
</listitem>
<listitem>
<para>AGRICULTURE: Percentage of agricultural area in each grid cell</para>
</listitem>
<listitem>
<para>TOTAL_AREA: Percentage of total area in each grid cell</para>
</listitem>
<listitem>
<para>LAND: Percentage of total land area in each grid cell</para>
</listitem>
</itemizedlist>

</section>

<section id="sect_input_bgpro">

<title><envar>BGPRO</envar>: Biogenic spatial surrogate file</title>

<para>The <envar>BGPRO</envar> file must be provided to SMOKE when using county land use data, in order to provide a means of converting county land use to gridded land use. The format for the <envar>BGPRO</envar> file is the same as for the <envar>AGPRO</envar> and <envar>MGPRO</envar> files (see <xref linkend="sect_input_amgpro" />). Typically, the same gridded surrogates file would be used, and the <command>Rawbio</command> options would be set to assign the county area, agriculture, or forest surrogates to the various biogenic land use groups.</para>

</section>

<!--
<section id="sect_input_gridpath">

<title><envar>G_GRIDPATH</envar>: Grids and grid projection information</title>

<comment>check if G_GRIDPATH still works in v2.1</comment>

<para>The <envar>G_GRIDPATH</envar> file is used to provide grid and projection information to SMOKE. Its format is shown in <xref linkend="tbl_input_gridpath" />.</para>

<table id="tbl_input_gridpath">
<title>Format for <envar>G_GRIDPATH</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1</entry>
<entry>A</entry>
<entry>Keyword for variable name (these are described below this table) (Character)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Number of dimensions (Integer)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Number of elements in the first dimension (Integer) (optional)</entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry>Number of elements in the second dimension (Integer) (optional)</entry>
</row>
<row>
<entry colname="Position">E</entry>
<entry>Number of elements in the third dimension (Integer) (optional)</entry>
</row>
<row>
<entry>2</entry>
<entry>A+</entry>
<entry>Value(s) of record (the number of values depends on entries in columns C, D, and E).</entry>
</row>
</tbody>
</tgroup>
</table>

<para>The number of dimensions can be set to 0 for a single value, which allows the value to appear on the same line as the keyword.</para>

<para>The keywords are:</para>

<itemizedlist>
<listitem>
<para>GDNAME_GD: Grid name (16 character maximum)</para>
</listitem>
<listitem>
<para>GDDESC_GD: Grid description (80 character maximum)</para>
</listitem>
<listitem>
<para>GDTYP_GD: Coordinate system type. Valid entries include the following:</para>

<itemizedlist>
<listitem>
<para>Latitude-longitude grids: <quote>LAT-LON</quote> or <quote>LATGRD3</quote></para>
</listitem>
<listitem>
<para>Lambert grids: <quote>LAMBERT</quote> or <quote>LATGRD3</quote></para>
</listitem>
<listitem>
<para>UTM grids: <quote>UTM</quote> or <quote>UTMGRD3</quote></para>
</listitem>
</itemizedlist>

<para>Users are responsible for ensuring that other settings in the file are consistent with the grid selected.</para>
</listitem>
<listitem>
<para>GDUNT_GD: Units of coordinate system</para>
</listitem>
<listitem>
<para>P_ALP_GD: Alpha projection factor</para>
</listitem>
<listitem>
<para>P_BET_GD: Beta projection factor</para>
</listitem>
<listitem>
<para>P_GAM_GD: Gamma projection factor</para>
</listitem>
<listitem>
<para>XCENT_GD: X center of projection</para>
</listitem>
<listitem>
<para>YCENT_GD: Y center of projection</para>
</listitem>
<listitem>
<para>XORIG_GD: Column offset (x-origin) in projection units</para>
</listitem>
<listitem>
<para>YORIG_GD: Row offset (y-origin) in projection units</para>
</listitem>
<listitem>
<para>XCELL_GD: X direction cell thickness in projection units</para>
</listitem>
<listitem>
<para>YCELL_GD: Y direction cell thickness in projection units</para>
</listitem>
<listitem>
<para>NCOLS: Number of grid columns (x-cells)</para>
</listitem>
<listitem>
<para>NROWS: Number of grid rows (y-cells)</para>
</listitem>
<listitem>
<para>NTHIK: Number of boundary cells (not used in SMOKE, but needs to be consistent among all of your files)</para>
</listitem>
<listitem>
<para>NLAYS: Number of vertical layers (not used in SMOKE; see documentation on the <envar>SMK_EMLAYS</envar> environment variable in <xref linkend="sect_programs_laypoint_envar" />)</para>
</listitem>
<listitem>
<para>VG_TYP_GD: Type of vertical structure. (not used in SMOKE). Possible values:</para>

<itemizedlist>
<listitem>
<para>VGSGPH3: hydrostatic sigma-P</para>
</listitem>
<listitem>
<para>VGSGPN3: non-hydrostatic sigma-P</para>
</listitem>
<listitem>
<para>VGSIGZ3: sigma-Z</para>
</listitem>
<listitem>
<para>VGPRES3: pressure (mb)</para>
</listitem>
<listitem>
<para>VGZVAL3: Z (m) (above sea level)</para>
</listitem>
<listitem>
<para>VGHVAL3: H (m) (above ground)</para>
</listitem>
</itemizedlist>

</listitem>
<listitem>
<para>VGTPUN_GD: Units of vertical structure (not used in SMOKE)</para>
</listitem>
<listitem>
<para>VGTOP_GD: Value of top of domain in units of vertical structure (not used in SMOKE)</para>
</listitem>
<listitem>
<para>VGLVS_GD: Vertical layer structure values in units of vertical structure (not used in SMOKE)</para>
</listitem>
</itemizedlist>

</section>
-->

<section id="sect_input_griddesc">

<title><envar>GRIDDESC</envar>: Grids and projection information</title>

<comment>maybe put GRIDDESC info here, rather than linking to I/O API</comment>

<!--
<para>Like the <envar>G_GRIDPATH</envar> file, the <envar>GRIDDESC</envar> file is used to provide grid and projection information to SMOKE. However, the <envar>GRIDDESC</envar> file is more flexible in that it can contain data for many different projections and many different grids. We recommend that the <envar>GRIDDESC</envar> file be used for all new SMOKE runs. The format of the <envar>GRIDDESC</envar> file is available in the I/O API documentation at <ulink url="http://www.baronams.com/products/ioapi/GRIDDESC.html" />.</para>
-->
<para>The <envar>GRIDDESC</envar> file is used to provide grid and projection information to SMOKE and can contain data for many different projections and many different grids. The format of the <envar>GRIDDESC</envar> file is available in the I/O API documentation at <ulink url="http://www.baronams.com/products/ioapi/GRIDDESC.html" />.</para>

</section>

</section>

<section id="sect_input_chemical">

<title>Chemical speciation</title>

<section id="sect_input_gscnv">

<title><envar>GSCNV</envar>: Pollutant-to-pollutant conversion file (optional)</title>

<para>The pollutant-to-pollutant conversion factors file is required when there is a mismatch between the pollutant in the inventory and the pollutant for which the speciation profiles have been developed. One example is when the inventory has VOC (or ROG), but the speciation profiles were developed for TOG. SMOKE permits such a factor to be applied to any pollutant. The same format is used by all source categories. The available combinations and hierarchies for applying the factors are the same as for the speciation cross-reference (see <xref linkend="sect_programs_spcmat" />), with the exception of the plant ID and other more specific source characteristics for point sources. The <envar>GSCNV</envar> file is not needed if there is no mismatch between the inventory and the pollutants in the speciation profiles file. The <command>Spcmat</command> program will input this file wheh the <envar>POLLUTANT_CONVERSION</envar> environment variable is set to Y.</para>

<para>If emissions types (emission process/pollutant combinations) are being used, as with mobile source processing using the <command>Emisfac</command> program (see <xref linkend="sect_concepts_emission_processes" />), the emission type must be listed instead of the pollutant. For example, if exhaust running VOC emissions were being converted to exhaust TOG, then EXR__VOC  and EXR__TOG would need to appear in their respective columns on the header line (line 1 in the format below). It would not be correct to put only VOC and TOG. All emission types must be listed, or the conversion factor that will be applied is 1. This approach permits conversion factors that are specific to each emission process (e.g., different conversions for EXR and EXS).</para>

<para>The format of the <envar>GSCNV</envar> file is shown in <xref linkend="tbl_input_gscnv" />.</para>

<table id="tbl_input_gscnv">
<title>Format for <envar>GSCNV</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1</entry>
<entry>1-16</entry>
<entry>Name of pollutant or emission type converting from (Character) (required)</entry>
</row>
<row>
<entry colname="Position">18-33</entry>
<entry>Name of pollutant or emission type converting to (Character) (required)</entry>
</row>
<row>
<entry>2+</entry>
<entry>1-6</entry>
<entry>Country/State/County code (Integer) (optional, put zero if entry is not country/state/county-specific)</entry>
</row>
<row>
<entry colname="Position">8-17</entry>
<entry>

<simplelist>
<member>Area: 10-digit SCC (full SCC is needed) (Character)</member>
<member>Mobile: 10-digit SCC (full SCC is needed) (Character)</member>
<member>Point: 8-digit SCC (full SCC is needed) (Character)</member>
<member>Zero if entry is not SCC-specific</member>
</simplelist>

</entry>
</row>
<row>
<entry colname="Position">19-23</entry>
<entry>Volatile conversion factor (Real) (required)</entry>
</row>
<row>
<entry namest="Line" nameend="Description">Repeat lines 1 and 2+ as needed for multiple pollutants and/or emission types</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_input_gspro">

<title><envar>GSPRO</envar>: Speciation profile file</title>

<para>The speciation profile file, <envar>GSPRO</envar>, contains the factors that are used to separate aggregated inventory pollutant emissions totals into emissions of model species required by the AQM. In traditional ozone air quality modeling, this file contained split factors only for VOC. In SMOKE, all inventory pollutants need to be represented in this file, even if it is only to indicate that a pollutant is not split into any model species (e.g., CO emissions would have a <quote>split factor</quote> of 1.0). The format of the <envar>GSPRO</envar> file is shown in <xref linkend="tbl_input_gspro" />.</para>

<table id="tbl_input_gspro">
<title>Format for <envar>GSPRO</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description (all fields are required)</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry>Speciation profile number (Character)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Pollutant ID (name) (Character)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Species ID (name) (Character)</entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry>Split factor (Real)</entry>
</row>
<row>
<entry colname="Position">E</entry>
<entry>Divisor (Real)</entry>
</row>
<row>
<entry colname="Position">F</entry>
<entry>Mass Fraction (Real)</entry>
</row>
</tbody>
</tgroup>
</table>

<para>The columns are used by SMOKE as follows:</para>

<itemizedlist>
<listitem>
<para>The speciation profile number is matched with the number in the <envar>GSREF</envar> file. This <quote>number</quote> is treated as a character string, so leading zeros must be the same in both the <envar>GSPRO</envar> and <envar>GSREF</envar> files. For BEIS3 modeling, you must use profile <quote>BV309</quote> in order to properly speciate for CB-IV modeling.  There are also BEIS3 speciation profiles for the RADM2 and SAPRC99 chemical mechanisms in the <filename class="directory"><envar>$GE_DAT</envar></filename> directory.</para>
</listitem>
<listitem>
<para>The pollutant ID must match the pollutant names in the SMOKE inventory file (<envar>AREA</envar>, <envar>MOBL</envar>, or <envar>PNTS</envar>). These names are set by the #POLID or #DATA headers in the <command>Smkinven</command> input files.</para>
</listitem>
<listitem>
<para>The species IDs are the names of the model species needed by the AQM for which SMOKE is being used. These depend on the requirements of that model. The default SMOKE inputs will not be correct for all AQMs.</para>
</listitem>
<listitem>
<para>The split factor is the numerator in the factor computed for the mole-based speciation matrix.</para>
</listitem>
<listitem>
<para>The divisor is the denominator in the factor computed for the mole-based speciation matrix.</para>
</listitem>
<listitem>
<para>The mass fraction is the value put in the mass-based speciation matrix. The ratio of the mass fraction and the split factor is the average molecular weight for the species and profile, if the divisor is 1.</para>
</listitem>
</itemizedlist>

</section>

<section id="sect_input_gsref">

<title><envar>GSREF</envar>: Speciation cross-reference file</title>

<para>The speciation cross-reference file is used to match the emission sources with the speciation profiles in the <envar>GSPRO</envar> file. The <envar>GSREF</envar> file uses a header to define the point-source unique characteristics. The same file can be used for all source categories; the SMOKE programs use only the applicable entries in the file. The way that the file is applied in SMOKE ensures that the most-specific matches override the less-specific ones. A description of how the speciation cross-reference is applied to the inventory is provided in <xref linkend="sect_programs_spcmat" />.</para>

<section>

<title>Area- and mobile-source speciation cross-reference file entries</title>

<para>When emission type are used (as with mobile source processing using the <command>Emisfac</command> program), column C must contain the emission types instead of the pollutants. For example, if the <envar>MEPROC</envar> file contained processes EXR (exhaust running), EVR (evaporative running), and RFL (refueling), then in order to use pollutant-specific entries in the <envar>GSREF</envar> file for mobile sources, records would need to be added to the file that use the emission types EXR__TOG, EVR__TOG, and RFL__TOG in column C. Note that the separator within these process-pollutant combinations must be a double underscore. The format of the <envar>GSREF</envar> file for area and mobile sources is shown in <xref linkend="tbl_input_gsref_area" />.</para>

<table id="tbl_input_gsref_area">
<title>Format for area- and mobile-source <envar>GSREF</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry>

<simplelist>
<member>Area: 10-digit SCC, or 7-digit SCC with zeros filling the remaining digits (Character)</member>
<member>Mobile: 10-digit SCC code (Character)</member>
<member>Set to zero if cross-reference entry is not SCC-specific</member>
</simplelist>

</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Speciation profile code (Character) (required; must match codes in the <envar>GSPRO</envar> file)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Pollutant name or emission type (Character) (required; must match pollutants for profile code in <envar>GSPRO</envar> file; put zero id not pollutant-dependent)</entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry><para>Country/state/county code (6-digit Integer in format YSSCCC) (optional):</para>

<itemizedlist spacing="compact">
<listitem>leave blank if not country/state-dependent</listitem>
<listitem>set to YSS000 for country/state-dependent</listitem>
<listitem>set to YSSCCC for county-dependent</listitem>
</itemizedlist>

</entry>
</row>
<row>
<entry colname="Position">E</entry>
<entry>Maximum Achievable Technology Code (6-character String) (optional; use 0 if not needed)</entry>
</row>
<row>
<entry colname="Position">F</entry>
<entry>Standard Industrial Code (4-character String) (optional; use 0 if not needed)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section>

<title>Point-source speciation cross-reference file entries</title>

<para>The format of the <envar>GSREF</envar> file for point sources is shown in <xref linkend="tbl_input_gsref_point" />.</para>

<table id="tbl_input_gsref_point">
<title>Format for point-source <envar>GSREF</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1</entry>
<entry>A</entry>
<entry>/POINT DEFN/</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Number of point source characteristics in addition to plant ID in point source definition (for IDA and ORL, this will always be 4)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry><para>Number of point source characteristic in addition to plant ID (if SCC is a part of the source definition); zero otherwise.</para>

<itemizedlist spacing="compact">
<listitem>IDA and ORL inventories: 4</listitem>
<listitem>EMS-95 inventories: 0</listitem>
</itemizedlist>

</entry>
</row>
<row>
<entry>2+</entry>
<entry>A</entry>
<entry>8- or 10-digit SCC (Character) (optional; set to zero if cross-reference entry is not SCC-specific)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Speciation profile code (Character) (required; must match codes in the <envar>GSPRO</envar> file)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Pollutant name or emission type (Character) (required; must match pollutants for profile code in <envar>GSPRO</envar> file; put zero if not pollutant-dependent)</entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry><para>Country/state/county code (6-digit Integer in format YSSCCC) (optional):</para>

<itemizedlist spacing="compact">
<listitem>leave blank if not country/state-dependent</listitem>
<listitem>set to YSS000 for country/state-dependent</listitem>
<listitem>set to YSSCCC for county-dependent</listitem>
</itemizedlist>

</entry>
</row>
<row>
<entry colname="Position">E</entry>
<entry>Maximum Achievable Technology Code (6-character String) (optional; use 0 if not needed)</entry>
</row>
<row>
<entry colname="Position">F</entry>
<entry>Standard Industrial Code (4-character String) (optional; use 0 if not needed)</entry>
</row>
<row>
<entry colname="Position">G</entry>
<entry>Plant ID for point sources (Character) (optional; leave blank if entry is not plant-specific)</entry>
</row>
<row>
<entry colname="Position">H</entry>
<entry>Characteristic 1 (for IDA, this is point ID; for EMS-95, this is stack ID) (Character) (optional)</entry>
</row>
<row>
<entry colname="Position">I</entry>
<entry>Characteristic 2 (for IDA, this is stack ID; for EMS-95, this is device ID) (Character) (optional)</entry>
</row>
<row>
<entry colname="Position">J</entry>
<entry>Characteristic 3 (for IDA, this is segment ID; for EMS-95, this is process ID) (Character) (optional)</entry>
</row>
<row>
<entry colname="Position">K</entry>
<entry>Characteristic 4 (for IDA, this is 10-digit SCC, or 5-digit with zeroes) (Character) (optional)</entry>
</row>
<row>
<entry colname="Position">L</entry>
<entry>Characteristic 5 (blank for IDA) (Character) (optional)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

</section>

<section id="sect_input_growth">

<title>Growth and Controls Files</title>

<section id="sect_input_gcntl">

<title><envar>GCNTL</envar>: Files for controls and/or past- and future-year growth</title>

<para>SMOKE uses growth and control packets to get the information needed for growth and control of emissions. A packet is a group of inputs used to apply specific types of controls. A single control file containing a series of packets can be shared by area, mobile, and point sources and the packets that do not apply to a given source category will be ignored. The following packets are recognized by the SMOKE control programs:</para>

<itemizedlist>
<listitem>
<para>/ALLOWABLE/ contains county-specific, SIC-specific, SCC-specific controls, caps, and replacement emissions. Contributes to the multiplicative control matrix. <xref linkend="sect_input_gcntl_allowable" /></para>
</listitem>
<listitem>
<para>/CONTROL/ contains settings for control efficiency, rule effectiveness, and rule penetration. Contributes to the multiplicative control matrix. Cannot appear in the same input file as an /EMS_CONTROL/ packet. <xref linkend="sect_input_gcntl_control" /></para>
</listitem>
<listitem>
<para>/CTG/ contains settings for CTG, MACT, and RACT controls. Contributes to the multiplicative control matrix. <xref linkend="sect_input_gcntl_ctg" /></para>
</listitem>
<listitem>
<para>/EMS_CONTROL/ contains settings for control efficiency, rule effectiveness, and rule penetration for both the base year and a future year. Also contains a point source conversion factor and a control aggregated factor. Contributes to the multiplicative control matrix. Cannot appear in the same input file as a /CONTROL/ packet. This packet is for point sources only. <xref linkend="sect_input_gcntl_ems_control" /></para>
</listitem>
<listitem>
<para>/MACT/ contains settings to support the primary MACT controls needed for toxics processing. Contributes to the multiplicative control matrix. <xref linkend="sect_input_gcntl_mact" /></para>
</listitem>
<listitem>
<para>/PROJECTION/ contains settings to permit growth of emission values into the past or future. Creates a growth matrix for each pollutant and/or activity. <xref linkend="sect_input_gcntl_projection" /></para>
</listitem>
<listitem>
<para>/REACTIVITY/ contains settings needed for reactivity-based controls. Creates the reactivity control matrix. <xref linkend="sect_input_gcntl_reactivity" /></para>
</listitem>
</itemizedlist>

<para>The formats for these packets are described in the section below. <comment>The growth formats have been designed to handle multiple year-to-year growth.</comment> Only the /EMS_CONTROL/ packet use a column-specific format; all other packets are list-directed.</para>

<section id="sect_input_gcntl_allowable">

<title>/ALLOWABLE/ Packet</title>

<para>The format of the /ALLOWABLE/ packet is shown in <xref linkend="tbl_input_gcntl_allowable" />.</para>

<table id="tbl_input_gcntl_allowable">
<title>Format for /ALLOWABLE/ packet in <envar>GCNTL</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1</entry>
<entry>A</entry>
<entry>/ALLOWABLE/</entry>
</row>
<row>
<entry>2+</entry>
<entry>A</entry>
<entry>Country/State/County code or Country/state code with zero for county, or zero (Integer)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>8 or 10-digit SCC, or pieces of SCC with remaining digits filled in with zeros, or zero (Character)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Pollutant ID, or -9 if not a pollutant-specific control; in most cases, the cap or replacement value will be a pollutant-specific value, and that pollutant name needs to be placed in this column (Character)</entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry>Control factor (Real) (no longer used by SMOKE, enter -9 as placeholder)</entry>
</row>
<row>
<entry colname="Position">E</entry>
<entry>Allowable emissions cap value [tons/day] (Real) (required if no <quote>replace</quote> emissions are given)</entry>
</row>
<row>
<entry colname="Position">F</entry>
<entry>Allowable emissions replacement value [tons/day] (Real) (required if no <quote>cap</quote> emissions are given)</entry>
</row>
<row>
<entry colname="Position">G</entry>
<entry>4-digit SIC for point sources or -9 if not needed (Integer) (not supported by SMOKE at this time) </entry>
</row>
<row>
<entry colname="Position">H</entry>
<entry>Plant ID for point sources, optional (Character)</entry>
</row>
<row>
<entry colname="Position">I</entry>
<entry>Characteristic 1 (for IDA inventory input format, this is point ID; for EMS-95, this is stack ID), optional (Character)</entry>
</row>
<row>
<entry colname="Position">J</entry>
<entry>Characteristic 2 (for IDA inventory input format, this is stack ID; for EMS-95, this is device ID), optional (Character)</entry>
</row>
<row>
<entry colname="Position">K</entry>
<entry>Characteristic 3 (for IDA inventory input format, this is segment ID; for EMS-95, this is process ID), optional (Character)</entry>
</row>
<row>
<entry colname="Position">L</entry>
<entry>Characteristic 4 (blank for IDA inventory input format), optional (Character)</entry>
</row>
<row>
<entry colname="Position">M</entry>
<entry>Characteristic 5 (blank for IDA inventory input format), optional (Character)</entry>
</row>
<row>
<entry>3</entry>
<entry>A</entry>
<entry>/END/</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_input_gcntl_control">

<title>/CONTROL/ Packet</title>

<para>The format of the /CONTROL/ packet is shown in <xref linkend="tbl_input_gcntl_control" />.</para>

<comment>does /CONTROL/ apply to EMS-95 inputs?</comment>

<table id="tbl_input_gcntl_control">
<title>Format for /CONTROL/ packet in <envar>GCNTL</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1</entry>
<entry>A</entry>
<entry>/CONTROL/</entry>
</row>
<row>
<entry>2+</entry>
<entry>A</entry>
<entry>Country/State/County code or Country/state code with zero for county, or zero (Integer)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>8 or 10-digit SCC, or pieces of  SCC with remaining digits filled in with zeros, or zero (Character)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Pollutant ID, or -9 if not a pollutant-specific control (Character)</entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry>Primary control equipment code (PCEC); -9 or zero applies to all equipment (not yet supported)</entry>
</row>
<row>
<entry colname="Position">E</entry>
<entry>Control efficiency (value should be a percent; e.g., enter 90 for a 90% control efficiency) (Real)</entry>
</row>
<row>
<entry colname="Position">F</entry>
<entry>Rule effectiveness (value should be a percent; e.g., enter 50 for a 50% rule effectiveness) (Real)</entry>
</row>
<row>
<entry colname="Position">G</entry>
<entry>Rule penetration rate (value should be a percent; e.g., enter 80 for a 80% rule penetration) (Real)</entry>
</row>
<row>
<entry colname="Position">H</entry>
<entry>Standard Industrial Category (SIC), optional (4-digit Integer)</entry>
</row>
<row>
<entry colname="Position">I</entry>
<entry>Maximum Achievable Control Technology (MACT) code, optional (6-character string)</entry>
</row>
<row>
<entry colname="Position">J</entry>
<entry><para>Application control flag (Character)</para>

<itemizedlist spacing="compact">
<listitem>Y = control should be applied to inventory</listitem>
<listitem>N = control will not be used</listitem>
</itemizedlist>

</entry>
</row>
<row>
<entry colname="Position">K</entry>
<entry><para>Replacement flag (Character)</para>

<itemizedlist spacing="compact">
<listitem>A = control is applied in addition to controls from /MACT/ packet</listitem>
<listitem>R = control replaces controls from /MACT/ packet</listitem>
</itemizedlist>

</entry>
</row>
<row>
<entry colname="Position">L</entry>
<entry>Plant ID for point sources, optional (Character)</entry>
</row>
<row>
<entry colname="Position">M</entry>
<entry>Characteristic 1 (for IDA inventory input format, this is Point ID), optional (Character)</entry>
</row>
<row>
<entry colname="Position">N</entry>
<entry>Characteristic 2 (for IDA inventory input format, this is Stack ID), optional (Character)</entry>
</row>
<row>
<entry colname="Position">O</entry>
<entry>Characteristic 3 (for IDA inventory input format, this is segment), optional (Character)</entry>
</row>
<row>
<entry colname="Position">P</entry>
<entry>Characteristic 4 (blank for IDA inventory input format), optional (Character)</entry>
</row>
<row>
<entry colname="Position">Q</entry>
<entry>Characteristic 5 (blank for IDA inventory input format), optional (Character)</entry>
</row>
<row>
<entry>3</entry>
<entry>A</entry>
<entry>/END/</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_input_gcntl_ctg">

<title>/CTG/ Packet</title>

<para>The format of the /CTG/ packet is shown in <xref linkend="tbl_input_gcntl_ctg" />.</para>

<table id="tbl_input_gcntl_ctg">
<title>Format for /CTG/ packet in <envar>GCNTL</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1</entry>
<entry>A</entry>
<entry>/CTG/</entry>
</row>
<row>
<entry>2+</entry>
<entry>A</entry>
<entry>Country/State/County code or Country/state code with zero for county, or zero (Integer)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>8 or 10-digit SCC, or pieces of SCC with remaining digits filled in with zeros, or zero (Character)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Pollutant ID, or -9 if not a pollutant-specific control; in most cases, the emissions cutoff value will be a pollutant-specific value, and that pollutant name needs to be placed in this column (Character)</entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry>Control technology control factor; value should be a fraction 0 to 1. (Real)</entry>
</row>
<row>
<entry colname="Position">E</entry>
<entry>CTG emissions cutoff for application of CTG, MACT, or RACT factor (tons/day) (Real)</entry>
</row>
<row>
<entry colname="Position">F</entry>
<entry>MACT control factor; value should be a fraction 0 to 1, or -9 if missing (Real)</entry>
</row>
<row>
<entry colname="Position">G</entry>
<entry>RACT; value should be a fraction 0 to 1; or -9 if missing (Real)</entry>
</row>
<row>
<entry>3</entry>
<entry>A</entry>
<entry>/END/</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_input_gcntl_ems_control">
 
<title>/EMS_CONTROL/ Packet (point sources only)</title>

<para>The format of the /EMS_CONTROL/ packet is shown in <xref linkend="tbl_input_gcntl_ems_control" />. Note the following:</para>

<itemizedlist>
<listitem>
<para>The expected order of the plant characteristics is reversed in this packet from other EMS-95 files. The device is specified before the stack.</para>
</listitem>
<listitem>
<para>The number of characters available for several of the input variables are not at the SMOKE maximum, so this file format must be used cautiously when you are using it for inventories other than EMS-95.</para>
</listitem>
<listitem>
<para>The base year factors are expected to be given as percentages (1-100), while the future year factors are expected to be given as fractions (0-1).</para>
</listitem>
<listitem>
<para>The control adjustment factor can be computed from other values in each packet entry. If an explicit value is given for the control adjustment factor, it will override the calculated value and SMOKE will use the explicit value directly as the factor to adjust the emissions.</para>
</listitem>
</itemizedlist>

<table id="tbl_input_gcntl_ems_control">
<title>Format for /EMS_CONTROL/ packet in <envar>GCNTL</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1</entry>
<entry>A</entry>
<entry>/EMS_CONTROL/</entry>
</row>
<row>
<entry>2+</entry>
<entry>1-2</entry>
<entry>State code (Integer) or zero</entry>
</row>
<row>
<entry colname="Position">3-5</entry>
<entry>County code or zero (Integer)</entry>
</row>
<row>
<entry colname="Position">6-9</entry>
<entry>SIC code (Integer) or blank for missing; not supported by SMOKE at this time</entry>
</row>
<row>
<entry colname="Position">10-17</entry>
<entry>8-character SCC, or pieces of SCC with remaining digits filled in with zeroes, or zero (Character)</entry>
</row>
<row>
<entry colname="Position">18-22</entry>
<entry>Pollutant ID; leave blank if not a pollutant-specific control (Character)</entry>
</row>
<row>
<entry colname="Position">23-37</entry>
<entry>Plant ID (EMS-95 Facility; leave blank if not needed) (Character)</entry>
</row>
<row>
<entry colname="Position">38-49</entry>
<entry>Characteristic 2 (EMS-95 Device; blank if not needed) (Character)</entry>
</row>
<row>
<entry colname="Position">50-61</entry>
<entry>Characteristic 1 (EMS-95 Stack; blank if not needed) (Character)</entry>
</row>
<row>
<entry colname="Position">62-73</entry>
<entry>Characteristic 3 (EMS-95 Process; blank if not needed) (Character)</entry>
</row>
<row>
<entry colname="Position">74-81</entry>
<entry>Future year SCC (not used by SMOKE) (Character)</entry>
</row>
<row>
<entry colname="Position">82-85</entry>
<entry>Base year control efficiency percent [1-100] (Real)</entry>
</row>
<row>
<entry colname="Position">86-89</entry>
<entry>Base year rule effectiveness percent [0-100] (Real)</entry>
</row>
<row>
<entry colname="Position">90-93</entry>
<entry>Base year rule penetration rate percent [0-100] (Real)</entry>
</row>
<row>
<entry colname="Position">94-97</entry>
<entry>Future year control efficiency fraction [0.0-1.0] (Real)</entry>
</row>
<row>
<entry colname="Position">98-101</entry>
<entry>Future year rule effectiveness fraction [0.0-1.0] (Real)</entry>
</row>
<row>
<entry colname="Position">102-105</entry>
<entry>Future year rule penetration rate fraction [0.0-1.0] (Real)</entry>
</row>
<row>
<entry colname="Position">106-110</entry>
<entry>Point source conversion factor fraction [0.0-1.0+ (values > 1.0 are okay)] (Real)</entry>
</row>
<row>
<entry colname="Position">111-126</entry>
<entry>Control strategy code (not used by SMOKE) (Character)</entry>
</row>
<row>
<entry colname="Position">127-130</entry>
<entry>Point source ratio (not used by SMOKE) [0.0-1.0] (Real)</entry>
</row>
<row>
<entry colname="Position">151-154</entry>
<entry>Control adjustment factor [0.0-1.0+ (values > 1.0 are okay)] (Real) </entry>
</row>
<row>
<entry>3</entry>
<entry>A</entry>
<entry>/END/</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_input_gcntl_mact">

<title>/MACT/ Packet</title>

<para>The format of the /MACT/ packet is shown in <xref linkend="tbl_input_gcntl_mact" />.</para>

<table id="tbl_input_gcntl_mact">
<title>Format for /MACT/ packet in <envar>GCNTL</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1</entry>
<entry>A</entry>
<entry>/MACT/</entry>
</row>
<row>
<entry>2+</entry>
<entry>A</entry>
<entry>Maximum Achievable Control Technology (MACT) code, optional (6-character string)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>8 or 10-digit SCC, or pieces of  SCC with remaining digits filled in with zeroes or 0 (Character)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry><para>Source type (2-character string)</para>

<itemizedlist spacing="compact">
<listitem>00 = both</listitem>
<listitem>01 = major</listitem>
<listitem>02 = CAA Section 12 area sources</listitem>
</itemizedlist>

<para>The source type is only used to make a final determination about whether the entry applies for a source. If the record matches the source otherwise (MACT or SCC matches) but the source type does not match, then the source receives no controls from this entry.</para></entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry><para>Application control flag (Character)</para>

<itemizedlist spacing="compact">
<listitem>Y = control should be applied to inventory</listitem>
<listitem>N = control will not be used</listitem>
</itemizedlist>

</entry>
</row>
<row>
<entry colname="Position">E</entry>
<entry>Pollutant ID, or -9 if not a pollutant-specific control (Character)</entry>
</row>
<row>
<entry colname="Position">F</entry>
<entry>Control efficiency of existing sources (value should be 0-100) (Real)</entry>
</row>
<row>
<entry colname="Position">G</entry>
<entry>Control efficiency of new sources (value should be 0-100) (Real)</entry>
</row>
<row>
<entry colname="Position">H</entry>
<entry>Fraction of new and existing sources (value should be 0-100) (Real)</entry>
</row>
<row>
<entry>3</entry>
<entry>A</entry>
<entry>/END/</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_input_gcntl_projection">

<title>/PROJECTION/ Packet</title>

<para>The format of the /PROJECTION/ packet is shown in <xref linkend="tbl_input_gcntl_projection" />. Note that if both the SCC and SIC is supplied in a given packet entry, the SCC will be used for source matching.</para>

<table id="tbl_input_gcntl_projection">
<title>Format for /PROJECTION/ packet in <envar>GCTNL</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1</entry>
<entry>A</entry>
<entry>/PROJECTION &lt;4-digit from year&gt; &lt;4-digit to year&gt;/</entry>
</row>
<row>
<entry>2+</entry>
<entry>A</entry>
<entry>Country/State/County code, or Country/state code with zero for county, or zero (Integer)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>8 or 10-digit SCC, or pieces of SCC with remaining digits filled in with zeros, or zero (Character)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Projection factor [enter number on fractional basis; e.g., enter 1.2 to increase emissions by 20%] (Real)</entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry>Pollutant ID, or -9 if not a pollutant-specific entry</entry>
</row>
<row>
<entry colname="Position">E</entry>
<entry>4-digit SIC, or 2-digit with remaining digits filled in with zeroes or blank for missing, optional (Integer)</entry>
</row>
<row>
<entry colname="Position">F</entry>
<entry>Maximum Achievable Control Technology code (MACT), optional (6-character string)</entry>
</row>
<row>
<entry>3</entry>
<entry>A</entry>
<entry>/END/</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_input_gcntl_reactivity">

<title>/REACTIVITY/ Packet</title>

<para>The format of the /REACTIVITY/ packet is shown in <xref linkend="tbl_input_gcntl_reactivity" />.</para>

<table id="tbl_input_gcntl_reactivity">
<title>Format for /REACTIVITY/ packet in <envar>GCNTL</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1</entry>
<entry>A</entry>
<entry>/REACTIVITY &lt;4-digit base year&gt; &lt;4-digit future year&gt;/</entry>
</row>
<row>
<entry>2+</entry>
<entry>A</entry>
<entry>Country/State/County code or Country/state code with zero for county, or zero (Integer)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>8 or 10-digit SCC, or pieces of SCC with remaining digits filled in with zeros, or zero (Character)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Pollutant ID, required (Character)</entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry>Replacement emissions for base year [tons/day] (Real)</entry>
</row>
<row>
<entry colname="Position">E</entry>
<entry>Projection factor (or 0. for none; enter fractional value; e.g., 1.2 to increase emissions by 20%) (Real)</entry>
</row>
<row>
<entry colname="Position">F</entry>
<entry>Future year 10-digit SCC code (or zero to set equal to base case) (Character)</entry>
</row>
<row>
<entry colname="Position">G</entry>
<entry>Speciation profile number (or zero to set equal to base case) (Real)</entry>
</row>
<row>
<entry colname="Position">H</entry>
<entry>Market penetration of new speciation [fraction/year; e.g., enter 0.2 for 20% market penetration per year] (0. to 1.0) (Real)</entry>
</row>
<row>
<entry colname="Position">I</entry>
<entry>4-digit SIC for point sources (Integer) or -9 if not needed; not supported by SMOKE at this time</entry>
</row>
<row>
<entry colname="Position">J</entry>
<entry>Plant ID for point sources, optional (Character)</entry>
</row>
<row>
<entry colname="Position">K</entry>
<entry>Characteristic 1 (for IDA, this is point ID; for EMS-95, this is stack ID), optional (Character)</entry>
</row>
<row>
<entry colname="Position">L</entry>
<entry>Characteristic 2 (for IDA, this is stack ID; for EMS-95, this is device ID), optional (Character)</entry>
</row>
<row>
<entry colname="Position">M</entry>
<entry>Characteristic 3 (for IDA, this is segment ID; for EMS-95, this is process ID), optional (Character)</entry>
</row>
<row>
<entry colname="Position">N</entry>
<entry>Characteristic 4 (blank for IDA inventory input format), optional (Character)</entry>
</row>
<row>
<entry colname="Position">O</entry>
<entry>Characteristic 5 (blank for IDA inventory input format), optional (Character)</entry>
</row>
<row>
<entry>3</entry>
<entry>A</entry>
<entry>/END/</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

</section>

<section id="sect_input_merging">

<title>Special Merging Files</title>

<section id="sect_input_filelist">

<title><envar>FILELIST</envar>: Gridded merge 2-D file list</title>

<para>The <envar>FILELIST</envar> file is used to provide a list of logical file names to the <command>Mrggrid</command> program. This list should contain the logical file names for all 2- or 3-D files to be merged in a given run. It is a very simple file, and has no limit to the number of files listed. Note that unlike most list files used in SMOKE, <envar>FILELIST</envar> requires a list of logical file names, <emphasis>not</emphasis> the actual file name. The format of the <envar>FILELIST</envar> file is shown in <xref linkend="tbl_input_filelist" />.</para>

<table id="tbl_input_filelist">
<title>Format for <envar>FILELIST</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry>Logical file name</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

<section id="sect_input_meteorology">

<title>Meteorology Files</title>

<para>The five meteorology files that SMOKE needs for biogenic emissions adjustments, calculation of on-road mobile source emission, and plume rise calculations are <envar>GRID_CRO_2D</envar>, <envar>GRID_CRO_3D</envar>, <envar>MET_CRO_2D</envar>, <envar>MET_CRO_3D</envar>, and <envar>MET_DOT_3D</envar>. The files are usually based on MM5 data but must be specially formatted by a postprocessor like MCIP or MCPL.</para>

<para>GRID_CRO_2D - 2-D grid parameters file</para>
<para>GRID_CRO_3D - 3-D grid parameters file</para>
<para>MET_CRO_2D - 2-D cross-point data file (surface meteorology data)</para>
<para>MET_CRO_3D - 3-D cross-point data file (layered meteorology data)</para>
<para>MET_DOT_3D - 3-D dot-point data file (layered meteorology data)</para>

<table id="tbl_input_metfiles">
<title>Meteorology variables used by program</title>

<tgroup cols="5">
<colspec colwidth="20*" colname="File" />
<colspec colwidth="20*" colname="Program" />
<colspec colwidth="20*" colname="Variable" />
<colspec colwidth="20*" colname="Description" />
<colspec colwidth="20*" colname="Note" />

<thead>
<row>
<entry>File name</entry>
<entry>Program</entry>
<entry>Variable</entry>
<entry>Description</entry>
<entry>Notes</entry>
</row>
</thead>

<tbody>
<row>
<entry><envar>GRID_CRO_2D</envar></entry>
<entry><command>Tmpbeis3</command></entry>
<entry>LAT</entry>
<entry>grid cell latitude (degrees)</entry>
</row>
<row>
<entry colname="Variable">LON</entry>
<entry>grid cell longitude (degrees)</entry>
</row>
<row>
<entry colname="Program"><command>Tmpbio</command></entry>
<entry>LAT</entry>
<entry>grid cell latitude (degrees)</entry>
<entry>only used if <envar>BG_CLOUD_TYPE</envar> = 1</entry>
</row>
<row>
<entry colname="Variable">LON</entry>
<entry>grid cell longitude (degrees)</entry>
<entry>only used if <envar>BG_CLOUD_TYPE</envar> = 1</entry>
</row>

<row>
<entry><envar>GRID_CRO_3D</envar></entry>
<entry><command>Laypoint</command></entry>
<entry>X3HT0F</entry>
<entry>height of layer face above ground (m)</entry>
<entry>only used when layer structure is static</entry>
</row>
<row>
<entry colname="Variable">X3HT0M</entry>
<entry>height of layer middle above ground (m)</entry>
<entry>only used when layer structure is static</entry>
</row>

<row>
<entry><envar>MET_CRO_2D</envar></entry>
<entry><command>Laypoint</command></entry>
<entry>HFX</entry>
<entry>sensible heat flux (watts/m<superscript>2</superscript>)</entry>
</row>
<row>
<entry colname="Variable">PBL</entry>
<entry>PBL height (m)</entry>
</row>
<row>
<entry colname="Variable">PRSFC</entry>
<entry>surface pressure (Pascals)</entry>
</row>
<row>
<entry colname="Variable">TEMP1P5</entry>
<entry>temperature at 1.5 m (Kelvins)</entry>
</row>
<row>
<entry colname="Variable">USTAR</entry>
<entry>average friction velocity (m/s)</entry>
</row>
<row>
<entry colname="Program"><command>Premobl</command></entry>
<entry>TEMPG</entry>
<entry>ground temperature (Kelvins)</entry>
<entry>variable name is set by <envar>TVARNAME</envar>, all <command>Premobl</command> variables must be in same file</entry>
</row>
<row>
<entry colname="Program"><command>Tmpbeis3</command></entry>
<entry>RGRND</entry>
<entry>solar radiation reaching surface (watts/m<superscript>2</superscript>)</entry>
<entry>variable name is set by <envar>RAD_VAR</envar>, actual file used is determined by <envar>BIOMET_SAME</envar></entry>
</row>
<row>
<entry colname="Program"><command>Tmpbio</command></entry>
<entry>PRSFC</entry>
<entry>surface pressure (Pascals)</entry>
<entry>only used if <envar>BG_CLOUD_TYPE</envar> is not 1, variable name is set by <envar>PRES_VAR</envar></entry>
</row>
<row>
<entry colname="Variable">RGRND</entry>
<entry>solar radiation reaching surface (watts/m<superscript>2</superscript>)</entry>
<entry>only used if <envar>BG_CLOUD_TYPE</envar> = 1, variable name is set by <envar>RAD_VAR</envar>, actual file used is determined by <envar>BIOMET_SAME</envar></entry>
</row>

<row>
<entry><envar>MET_CRO_3D</envar></entry>
<entry><command>Laypoint</command></entry>
<entry>DENS</entry>
<entry>total air density (kg/m<superscript>3</superscript>)</entry>
</row>
<row>
<entry colname="Variable">PRES</entry>
<entry>pressure (Pascals)</entry>
</row>
<row>
<entry colname="Variable">QV</entry>
<entry>water vapor mixing ratio (kg/kg)</entry>
</row>
<row>
<entry colname="Variable">TA</entry>
<entry>air temperature (Kelvins)</entry>
</row>
<row>
<entry colname="Variable">ZF</entry>
<entry>full-layer height above ground (m)</entry>
</row>
<row>
<entry colname="Variable">ZH</entry>
<entry>mid-layer height above ground (m)</entry>
</row>
<row>
<entry colname="Program"><command>Premobl</command></entry>
<entry>PRES</entry>
<entry>pressure (Pascals)</entry>
<entry>all <command>Premobl</command> variables must be in same file</entry>
</row>
<row>
<entry colname="Variable">QV</entry>
<entry>water vapor mixing ratio (kg/kg)</entry>
<entry>all <command>Premobl</command> variables must be in same file</entry>
</row>
<row>
<entry colname="Program"><command>Tmpbeis3</command></entry>
<entry>PRES</entry>
<entry>pressure (Pascals)</entry>
<entry>variable name is set by <envar>PRES_VAR</envar></entry>
</row>
<row>
<entry colname="Variable">RC</entry>
<entry>convective rainfall (cm)</entry>
<entry>only used if <envar>BEIS_VERSION</envar> = 3.12, variable name is set by <envar>RC_VAR</envar></entry>
</row>
<row>
<entry colname="Variable">RN</entry>
<entry>nonconvective rainfall (cm)</entry>
<entry>only used if <envar>BEIS_VERSION</envar> = 3.12, variable name is set by <envar>RN_VAR</envar></entry>
</row>
<row>
<entry colname="Variable">SLTYP</entry>
<entry>soil texture type by USDA category</entry>
<entry>only used if <envar>BEIS_VERSION</envar> = 3.12 and <envar>PX_VERSION</envar> = Y, variable name is set by <envar>ISLTYP_VAR</envar></entry>
</row>
<row>
<entry colname="Variable">SOIM1</entry>
<entry>volumetric soil moisture in top centimeter (m<superscript>3</superscript>/m<superscript>3</superscript>)</entry>
<entry>only used if <envar>BEIS_VERSION</envar> = 3.12 and <envar>PX_VERSION</envar> = Y, variable name is set by <envar>SOILM_VAR</envar></entry>
</row>
<row>
<entry colname="Variable">SOIT1</entry>
<entry>soil temperature in top centimeter (Kelvins)</entry>
<entry>only used if <envar>BEIS_VERSION</envar> = 3.12 and <envar>PX_VERSION</envar> = Y, variable name is set by <envar>SOILT_VAR</envar></entry>
</row>
<row>
<entry colname="Variable">TA</entry>
<entry>air temperature (Kelvins)</entry>
<entry>variable name is set by <envar>TMPR_VAR</envar>, actual file opened depends on <envar>MET_FILE1</envar></entry>
</row>
<row>
<entry colname="Program"><command>Tmpbio</command></entry>
<entry>TA</entry>
<entry>air temperature (Kelvins)</entry>
<entry>variable name is set by <envar>TMPR_VAR</envar>, actual file opened depends on <envar>MET_FILE1</envar>/<envar>METLIST</envar></entry>
</row>

<row>
<entry><envar>MET_DOT_3D</envar></entry>
<entry><command>Laypoint</command></entry>
<entry>UWIND</entry>
<entry>U-component of wind (m/s)</entry>
</row>
<row>
<entry colname="Variable">VWIND</entry>
<entry>V-component of wind (m/s)</entry>
</row>

</tbody>
</tgroup>
</table>

<section id="sect_input_metlist">

<title><envar>METLIST</envar>: List of meteorology files</title>

<para>The <envar>METLIST</envar> file is used to provide the file names of available meteorology files to the <command>Tmpbio</command> and <command>Premobl</command> programs. <command>Premobl</command> runs once for the entire modeling episode, and therefore needs all of the files at one time. If <command>Tmpbio</command> is being run for a period longer than the individual meteorology files, the <envar>METLIST</envar> file is used to combine multiple meteorology files so that <command>Tmpbio</command> can find the data it needs. The meteorology files provided to <command>Premobl</command> and <command>Tmpbio</command> must cover the desired episode and contain the requested variables. In the default SMOKE scripts, this file is generated automatically. The format of this file is shown in <xref linkend="tbl_input_metlist" />.</para>

<table id="tbl_input_metlist">
<title>Format for <envar>METLIST</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry>Full name and path of meteorology file</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_input_radlist">

<title><envar>RADLIST</envar>: List of meteorology files containing radiation data</title>

<para>The <envar>RADLIST</envar> file is used to provide the file names of available radiation files to <command>Tmpbio</command>. As with the <envar>METLIST</envar> file, this file is only needed of you are running <command>Tmpbio</command> for a longer time period than each meteorology file. The format of this file is shown in <xref linkend="tbl_input_radlist" />.</para>

<table id="tbl_input_radlist">
<title>Format for <envar>RADLIST</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry>Full name and path of meteorology file with radiation data</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

<section id="sect_input_source_specific">

<title>Source-Specific files</title>

<section id="sect_input_source_biogenics">

<title>Biogenics</title>

<section id="sect_input_b3fac">

<title><envar>B3FAC</envar>: BEIS3 emissions factors file</title>

<para>This file contains LAI, dry leaf biomass, winter biomass factor, indicator of specific leaf weight, and normalized emission fluxes for four different species/compounds (ISOP, OVOC, MONO, and NO).  The format of this file is shown in <xref linkend="tbl_input_b3fac" />.</para>

<table id="tbl_input_b3fac">
<title>Format for <envar>B3FAC</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>9-24</entry>
<entry>Abbreviated name for land use type (Character)</entry>
</row>
<row>
<entry colname="Position">A</entry>
<entry>Leaf area index  (m<superscript>2</superscript>/m<superscript>2</superscript>) (Integer)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Dry leaf biomass (g/m<superscript>2</superscript>) (Integer)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Winter biomass factor (Real)</entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry>Indicator of specific leaf weight (Integer)</entry>
</row>
<row>
<entry colname="Position">E</entry>
<entry>Normalized emissions flux for ISOP (Real) </entry>
</row>
<row>
<entry colname="Position">F</entry>
<entry>Normalized emissions flux for MONO (Real)</entry>
</row>
<row>
<entry colname="Position">G</entry>
<entry>Normalized emissions flux for OVOC (Real)</entry>
</row>
<row>
<entry colname="Position">H</entry>
<entry>Normalized emissions flux for NO (Real)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_input_b3xrf">

<title><envar>B3XRF</envar>: BELD3 to BELD2 cross-reference file</title>

<para>The <envar>B3XRF</envar> file contains cross-reference information needed to convert the 230 BELD3 land use types into the 127 BELD2 land use types. This cross-reference file is used in the program <command>Beld3to2</command>. The <envar>B3XRF</envar> file contains 230 lines of data in the format shown in <xref linkend="tbl_input_b3xrf" />.</para>

<table id="tbl_input_b3xrf">
<title>Format for <envar>B3XRF</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>1-4</entry>
<entry>BELD2 land use type ID (Char)</entry>
</row>
<row>
<entry colname="Position">6-8</entry>
<entry>BELD2 category (Integer)</entry>
</row>
<row>
<entry colname="Position">10-25</entry>
<entry>BELD3 land use type ID (Char)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_input_bfac">

<title><envar>BFAC</envar>: BEIS2 emission factors file</title>

<para>The <envar>BFAC</envar> file contains BEIS2 emissions factor file. There are two different emission factor files available for use: winter and summer. Both files use the format shown in <xref linkend="tbl_input_bfac" />.</para>

<table id="tbl_input_bfac">
<title>Format for <envar>BFAC</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>2-6</entry>
<entry>Vegetation ID (Char)</entry>
</row>
<row>
<entry colname="Position">7-15</entry>
<entry>ISOP emission factor (Real)</entry>
</row>
<row>
<entry colname="Position">16-24</entry>
<entry>MONO emission factor (Real)</entry>
</row>
<row>
<entry colname="Position">25-33</entry>
<entry>OVOC emission factor (Real)</entry>
</row>
<row>
<entry colname="Position">34-39</entry>
<entry>NO emission factor (Real)</entry>
</row>
<row>
<entry colname="Position">40-41</entry>
<entry>LAI (Integer)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_input_bioseason">

<title><envar>BIOSEASON</envar>: Bioseason switch file</title>

<para>The <envar>BIOSEASON</envar> switch file is an I/O API netCDF file used to indicate how each day in a given year should be treated, either as summer or winter. This file can be created using the <command>Metscan</command> utility program. The <envar>BIOSEASON</envar> file is time-dependent and usually contains data for an entire year (365 or 366 days). It uses one variable, SEASON, which is either 0 (grid cell should use winter factors for current day) or 1 (grid cell should use summer factors for current day).</para>

</section>

</section>

<section id="sect_input_source_mobile">

<title>Mobile</title>

<section id="sect_input_m6list">

<title><envar>M6LIST</envar>: MOBILE6 input scenario list file</title>

<para>The <envar>M6LIST</envar> file lists the available MOBILE6 input scenario files. The scenario file name must include the six digit FIPS code of the county. Its format is shown in <xref linkend="tbl_input_m6list" />.</para>

<table id="tbl_input_m6list">
<title>Format for <envar>M6LIST</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry>Full name and path of MOBILE6 input scenario</entry>
</row>
</tbody>
</tgroup>
</table>

<example>
<title><envar>M6LIST</envar> file</title>

<programlisting>
/smoke/data/inventory/mobile/scenarios/summer037001.in
/smoke/data/inventory/mobile/scenarios/summer037057.in
</programlisting>
</example>

<section id="sect_input_mobile6_scenario">

<title>MOBILE6 input scenario format</title>

<para>A MOBILE6 input scenario file must be provided for each reference county in the <envar>MCREF</envar> file. These files follow the same format as MOBILE6 input files; all commands are allowed except for the following:</para>

<itemizedlist spacing="compact">
<listitem>AGGREGATED OUTPUT</listitem>
<listitem>AIR TOXICS</listitem>
<listitem>DAILY OUTPUT</listitem>
<listitem>DATABASE *</listitem>
<listitem>EMISSIONS TABLE</listitem>
<listitem>END OF RUN</listitem>
<listitem>EXPAND *</listitem>
<listitem>EXPRESS HC AS *</listitem>
<listitem>IDLE PM EMISSIONS</listitem>
<listitem>MOBILE6 BATCH FILE</listitem>
<listitem>MOBILE6 INPUT FILE</listitem>
<listitem>NO DESC OUTPUT</listitem>
<listitem>NO REFUELING</listitem>
<listitem>PARTICULATES</listitem>
<listitem>POLLUTANTS</listitem>
<listitem>REPORT FILE</listitem>
<listitem>RUN DATA</listitem>
<listitem>SPREADSHEET</listitem>
<listitem>WITH FIELDNAMES</listitem>
</itemizedlist>

<para>The file must include either the MIN/MAX TEMPERATURES or HOURLY TEMPERATURE command and must have a SCENARIO RECORD command. SMOKE will ignore SPEED VMT, AVERAGE SPEED, or PARTICLE SIZE.</para>

<example>
<title>MOBILE6 scenario file</title>

<programlisting>
SCENARIO RECORD    : 01001 96 07                                                                    
CALENDAR YEAR      : 1996                                                                           
EVALUATION MONTH   : 7                                                                              
DIESEL SULFUR      : 500                                                                            
MIN/MAX TEMPERATURE: 70.0 90.0                                                                      
ALTITUDE           : 1                                                                              
PARTICULATE EF     : PMGZML.CSV PMGDR1.CSV PMGDR2.CSV PMDZML.CSV PMDDR1.CSV PMDDR2.CSV              
FUEL RVP           : 7.8                                                                            
GAS AROMATIC%      : 25.0
GAS OLEFIN%        : 15.0
GAS BENZENE%       : 1.5
E200               : 50.0
E300               : 85.0
OXYGENATE          : MTBE  15.1  0.50
                   : ETBE  17.6  0.05
                   : ETOH  10.0  0.45
                   : TAME   6.0  0.00
</programlisting>
</example>

</section>

</section>

<section id="sect_input_m6map">

<title><envar>M6MAP</envar>: Mobile source vehicle mapping file</title>

<para>The <envar>M6MAP</envar> file maps the 28 MOBILE6 vehicle types to the vehicle types in the mobile-source inventory. The format of the <envar>M6MAP</envar> file is shown in <xref linkend="tbl_input_m6map" />.</para>

<table id="tbl_input_m6map">
<title>Format for <envar>M6MAP</envar></title>

<tgroup cols="4">
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="15*" colname="Name" />
<colspec colwidth="15*" colname="Type" />
<colspec colwidth="55*" colname="Description" />

<thead>
<row>
<entry>Position</entry>
<entry>Name</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>A</entry>
<entry>M6TYPE</entry>
<entry>Char (6)</entry>
<entry>MOBILE6 vehicle type</entry>
</row>
<row>
<entry>B</entry>
<entry>INVTYPE</entry>
<entry>Char (6)</entry>
<entry>Inventory vehicle type</entry>
</row>
</tbody>
</tgroup>
</table>

<example>
<title><envar>M6MAP</envar> file</title>

<programlisting># MOBILE6 to SMOKE vehicle type mapping file
# base 8 vehicle types from SMOKE User's Manual
LDGV    LDGV
LDGT1   LDGT1
LDGT2   LDGT1
LDGT3   LDGT2
LDGT4   LDGT2
HDGV2b  HDGV
HDGV3   HDGV
HDGV4   HDGV
HDGV5   HDGV
HDGV6   HDGV
HDGV7   HDGV
HDGV8a  HDGV
HDGV8b  HDGV
HDGB    HDGV
LDDV    LDDV
LDDT12  LDDT
LDDT34  LDDT
HDDV2b  HDDV
HDDV3   HDDV
HDDV4   HDDV
HDDV5   HDDV
HDDV6   HDDV
HDDV7   HDDV
HDDV8a  HDDV
HDDV8b  HDDV
HDDBT   HDDV
HDDBS   HDDV
MC      MC</programlisting>
</example>

</section>

<section id="sect_input_mcodes">

<title><envar>MCODES</envar>: Mobile source codes file</title>

<para>The <envar>MCODES</envar> file contains the codes for mobile source vehicle types and road classes. It is used to convert from the codes in the inventory to the codes used internally by SMOKE. The SCC section of the file maps the vehicle type and road class combinations to a mobile source SCC. The format of the <envar>MCODES</envar> file is shown in <xref linkend="tbl_input_mcodes" />.</para>

<table id="tbl_input_mcodes">
<title>Format for <envar>MCODES</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1</entry>
<entry>A</entry>
<entry>/VEHICLE TYPES/ header</entry>
</row>
<row>
<entry>2+</entry>
<entry>A</entry>
<entry>Name of vehicle type from <envar>MBINV</envar> file (Char)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Number of vehicle type used in SMOKE files (Integer)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>

<simplelist>
<member>Y - use vehicle type in modeling</member>
<member>N - do not use vehicle type</member>
</simplelist>

</entry>
</row>
<row>
<entry>3</entry>
<entry>A</entry>
<entry>/ROAD CLASSES/ header</entry>
</row>
<row>
<entry>4+</entry>
<entry>A</entry>
<entry>Road class code from last 3 digits of SCC in <envar>MBINV</envar> file (Integer)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Road class code used in SMOKE files (Integer)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>

<simplelist>
<member>Y - use road class code in modeling</member>
<member>N - do not use road class code</member>
</simplelist>

</entry>
</row>
<row>
<entry>5</entry>
<entry>A</entry>
<entry>/SCC/ header</entry>
</row>
<row>
<entry>6+</entry>
<entry>A</entry>
<entry>Road class (Integer)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Vehicle type name (Char)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>SCC (10-character)</entry>
</row>
</tbody>
</tgroup>
</table>

<example>
<title><envar>MCODES</envar> file</title>
 
<programlisting>
/VEHICLE TYPES/
LDGV   0100   Y
LDGT1  0102   Y
LDGT2  0104   Y
HDGV   0107   Y
LDDV   3000   Y
LDDT   3006   Y
HDDV   3007   Y
MC     0108   Y
LDGT   0106   N
/ROAD CLASSES/
110 01  Y
111 01  Y
130 02  Y
150 06  Y
170 07  Y
190 08  Y
210 09  Y
230 11  Y
250 12  Y
270 14  Y
290 16  Y
310 17  Y
330 19  Y
/SCC/
110 LDGV   2201001110
130 LDGV   2201001130
150 LDGV   2201001150
170 LDGV   2201001170
190 LDGV   2201001190
210 LDGV   2201001210
230 LDGV   2201001230
250 LDGV   2201001250
270 LDGV   2201001270
290 LDGV   2201001290
310 LDGV   2201001310
330 LDGV   2201001330
110 LDGT1  2201021110
130 LDGT1  2201020130
150 LDGT1  2201020150
170 LDGT1  2201020170
190 LDGT1  2201020190
210 LDGT1  2201020210
230 LDGT1  2201020230
250 LDGT1  2201020250
270 LDGT1  2201020270
290 LDGT1  2201020290
310 LDGT1  2201020310
330 LDGT1  2201020330
...
</programlisting>
</example>

</section>

<section id="sect_input_mcref">

<title><envar>MCREF</envar>: Mobile county cross-reference file</title>

<para>The <envar>MCREF</envar> file is a list-directed file used to assign reference counties to inventory counties. Its format is shown in <xref linkend="tbl_input_mcref" />.</para>

<table id="tbl_input_mcref">
<title>Format for <envar>MCREF</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry>Two-digit state FIPS code for inventory county (Integer)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Three-digit county FIPS code for inventory county (Integer)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Two-digit state FIPS code for reference county (Integer)</entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry>Three-digit county FIPS code for reference county (Integer)</entry>
</row>
</tbody>
</tgroup>
</table>

<example>
<title><envar>MCREF</envar> file</title>

<programlisting>
01 001  01 001
01 003  01 001
01 005  01 001
01 007  01 001
01 009  01 001
01 011  01 001
01 013  01 001
01 015  01 001
01 017  01 001
01 019  01 001
</programlisting>
</example>

</section>

<section id="sect_input_meflist">

<title><envar>MEFLIST</envar>: Mobile emission factors list file</title>

<para>The <envar>MEFLIST</envar> file is used to provide the file names of available emission factors files to the <command>Temporal</command> program. This file cannot be created very easily until the <command>Emisfac</command> program has been run. Therefore, this file is generated automatically by the default SMOKE run scripts. The format of the <envar>MEFLIST</envar> file i shown in <xref linkend="tbl_input_meflist" />.</para>

<table id="tbl_input_meflist">
<title>Format for <envar>MEFLIST</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry>Full name and path of emission factors file</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_input_meproc">

<title><envar>MEPROC</envar>: List of mobile emission processes and associated activities and pollutants</title>

<para>The <envar>MEPROC</envar> file lists the emission processes and pollutants that will be generated by MOBILE6 for modeling on-road mobile sources. The available emission processes are listed in <xref linkend="sect_concepts_emission_processes" />. The format of the <envar>MEPROC</envar> file is shown in <xref linkend="tbl_input_meproc" />.</para>

<table id="tbl_input_meproc">
<title>Format for <envar>MEPROC</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry>Activity name (Character)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Mobile emissions process (Character)</entry>
</row>
<row>
<entry colname="Position">C+</entry>
<entry>Associated pollutant name(s) for activity and process combination (Character)</entry>
</row>
</tbody>
</tgroup>
</table>

<example>
<title><envar>MEPROC</envar> file</title>

<programlisting>
VMT EXR CO NOX TOG
VMT EXS CO NOX TOG
VMT HOT TOG
VMT DNL TOG
VMT RST TOG
VMT EVR TOG
VMT CRC TOG
VMT RFL TOG
</programlisting>
</example>

</section>

<section id="sect_input_mvref">

<title><envar>MVREF</envar>: Mobile source county settings file</title>

<para>The <envar>MVREF</envar> file is a list-directed file that assigns settings for various options to each reference county defined in the <envar>MCREF</envar> file. Its format is shown in <xref linkend="tbl_input_mvref" />.</para>

<table id="tbl_input_mvref">
<title>Format for <envar>MVREF</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry>Two-digit state FIPS code for reference county (Integer)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Three-digit county FIPS code of reference county (Integer)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry><para>Setting for spatial averaging of meteorology data</para>

<itemizedlist spacing="compact">
<listitem>1 - data are county specific</listitem>
<listitem>2 - data are averaged over all counties sharing a reference county</listitem>
</itemizedlist>

</entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry><para>Setting for temporal averaging of meteorology data</para>

<itemizedlist spacing="compact">
<listitem>1 - no averaging; create hourly profiles for each day</listitem>
<listitem>2 - average data over weeks</listitem>
<listitem>3 - average data over months</listitem>
<listitem>4 - average data over entire episode</listitem>
</itemizedlist>

</entry>
</row>
<row>
<entry></entry>
<entry>E</entry>
<entry><para>Setting for local roads</para>

<itemizedlist spacing="compact">
<listitem>1 - model both rural and urban local roads using MOBILE6 local road type (uses default average speed)</listitem>
<listitem>2 - model both rural and urban local roads using MOBILE6 arterial road type with speeds from mobile inventory</listitem>
<listitem>3 - model rural local roads using MOBILE6 arterial road type and urban local roads using MOBILE6 local road type</listitem>
<listitem>4 - model rural local roads using MOBILE6 local road type and urban local roads using MOBILE6 arterial road type</listitem>
</itemizedlist>

</entry>
</row>
</tbody>
</tgroup>
</table>

<example>
<title><envar>MVREF</envar> file</title>

<programlisting>
01 001 2 2 1
04 001 2 2 1
04 013 2 2 1
04 019 2 2 1
05 001 2 2 1
</programlisting>
</example>

</section>

<section id="sect_input_spdpro">

<title><envar>SPDPRO</envar>: Mobile hourly speed profiles file</title>

<para>The <envar>SPDPRO</envar> file is used to provide hourly speed profile data to MOBILE6. The format of this file is shown in <xref linkend="tbl_input_spdpro" />.</para>

<table id="tbl_input_spdpro">
<title>Format for <envar>SPDPRO</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry>Profile number (Integer)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Hourly speed for midnight local time (Real)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Hourly speed for 1 am local time (Real)</entry>
</row>
<row>
<entry colname="Position">...</entry>
<entry>...</entry>
</row>
<row>
<entry colname="Position">Y</entry>
<entry>Hourly speed for 11 pm local time (Real)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_input_spdref">

<title><envar>SPDREF</envar>: Mobile hourly speed cross-reference file</title>

<para>The <envar>SPDREF</envar> file is used to match hourly speed profiles to the mobile sources. Its format is shown in <xref linkend="tbl_input_spdref" />.</para>

<table id="tbl_input_spdref">
<title>Format for <envar>SPDREF</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry>Six digit country/state/county FIPS code (Integer)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Ten digit Source Classification Code (Character)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Profile number (Integer)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

<section id="sect_input_source_point">

<title>Point</title>

<section id="sect_input_pelvconfig">

<title><envar>PELVCONFIG</envar>: Elevated source selection file</title>

<para>The <envar>PELVCONFIG</envar> is optionally used by the <command>Elevpoint</command> program. It permits users to provide SMOKE criteria for grouping stacks and for selecting elevated and PinG point sources. <quote>Stack groups</quote> are groups of stacks from the same facility that are treated by SMOKE and the AQM as a single stack when computing plume rise and/or processing the stack as a PinG source. They have the effect of reducing the number of elevated and PinG stacks which makes for faster processing, particularly in the case of PinG sources in the AQM. Users can specify stack groups regardless of whether elevated or PinG sources are also being specified.</para>

<para>All emissions in a stack group are summed for the purposes of comparing against the elevated source criteria and PinG source criteria. In short, the grouped sources are treated as a single source for all SMOKE features regarding elevated source selection and special outputs. The grouped sources can still have different temporal profiles and chemical speciation profiles. For more information on how the emissions are computed for source selection, see <xref linkend="sect_programs_elevpoint" />.</para>

<para>The <envar>PELVCONFIG</envar> file has four sections: (1) source category selection, (2) source grouping, (3) PinG source selection, and (4) elevated source selection. Sections 2, 3, and 4 are optional, but <command>Elevpoint</command> will not run if all three sections are missing, because in that case the file would be instructing it to do nothing. The sections need not appear in any particular order, but each section is permitted only once. Comments may also be used in the file. The following subsections explain these major input features.</para>

<section>

<title>Using comments</title>

<para>Comments can be put in the file using a pound sign (#) in the first column of a line or a double pound sign (##) anywhere else in a line. For example, the double pound can appear after packet labels or instructions in the file.</para>

</section>

<section>

<title>Source category selection</title>

<para>This section is used to tell <command>Elevpoint</command> which source category to process. Since <command>Elevpoint</command> is designed only for point sources, this is very simple. This section needs to appear as follows:</para>

<para>SMK_SOURCE   P</para>

</section>

<section id="sect_input_pelvconfig_group">

<title>Source grouping</title>

<para>The /SPECIFY ELEV GROUPS/ packet is used for defining source groups based on source criteria. The packet contains the following entries:</para>

<itemizedlist>
<listitem>
<para>/SPECIFY ELEV GROUPS/</para>

<para>Must appear to start the packet. Only one packet of this type is permitted.</para>
</listitem>
<listitem>
<para>&lt;Source grouping criteria, explained next&gt;</para>
</listitem>
<listitem>
<para>/END/</para>

<para>Must appear to end the packet.</para>
</listitem>
</itemizedlist>

<para>The <emphasis>source grouping criteria</emphasis> can be as many lines as you want. Each line contains at least three parts: (1) variable (explained in <xref linkend="sect_input_pelvconfig_group_variables" />), (2) type of criterion (explained in <xref linkend="sect_input_pelvconfig_group_criteria" />), and (3) value for criterion, in the following structure:</para>

<para>&lt;variable&gt; &lt;type of criterion&gt; &lt;value for criterion&gt;</para>

<comment>check +/- character in HTML and PDF</comment>

<para>For example, the following source grouping criterion groups all inventory sources at the same facility that have stack heights within &plusmn;2 meters:</para>

<programlisting>HT  +/-  2.0</programlisting>

<para>The fact that sources are grouped by facility is implicit to the <command>Elevpoint</command> program, since we assumed when creating <command>Elevpoint</command> that grouping at a coarser level of detail was not desirable. The packet supports boolean OR and AND conditions. Each separate line of the packet is an OR condition. The AND conditions must appear on a single line. Any number of lines are permitted in this packet, as are any number of AND conditions or AND/OR combinations. However, each line has a maximum length of 300 characters.</para>

<para>The following example will help illustrate. To indicate that one group should consist of sources with stack heights within &plusmn;2 meters that also have diameters within &plusmn;1 meter, and that a second group should consist of sources with exit velocities below 10 m/s, the packet would be:</para>

<programlisting><![CDATA[
/SPECIFY ELEV GROUPS/
HT  +/-  2.0  AND  DIAMETER  +/- 1.0
VE  <  10.
/END/
]]></programlisting>

<section id="sect_input_pelvconfig_group_variables">

<title>/SPECIFY ELEV GROUPS/ variables</title>

<para>The elevated groups packet supports the following variables:</para>

<itemizedlist>
<listitem>
<para>HT: stack height (m)</para>
</listitem>
<listitem>
<para>DM: stack diameter (m)</para>
</listitem>
<listitem>
<para>TK: stack gas exit temperature (K)</para>
</listitem>
<listitem>
<para>VE: stack gas exit velocity (m/s)</para>
</listitem>
<listitem>
<para>FL: stack gas exit flow rate (m<superscript>3</superscript>/s)</para>
</listitem>
<listitem>
<para>&lt;pollutant name&gt;: whatever pollutant names are in the inventory (e.g., NOX). We do not know why a user might want this type of grouping, but SMOKE does not prevent it.</para>
</listitem>
</itemizedlist>

</section>

<section id="sect_input_pelvconfig_group_criteria">

<title>/SPECIFIC ELEV GROUPS/ grouping criteria</title>

<para>The elevated groups packet supports the following types of grouping criteria:</para>

<itemizedlist>
<listitem>
<para>+/- or -/+: variable values must be within plus or minus &lt;value for criterion&gt; for the variable given</para>
</listitem>
<listitem>
<para>&gt;: variable values must be greater than &lt;value for criterion&gt; for the variable given</para>
</listitem>
<listitem>
<para>&gt;= or =&gt;: variable values must be greater than or equal to &lt;value for criterion&gt; for the variable given</para>
</listitem>
<listitem>
<para>&lt;: variable values must be less than &lt;value for criterion&gt; for the variable given</para>
</listitem>
<listitem>
<para>&lt;= or =&lt;: variable values must be less than or equal to &lt;value for criterion&gt; for the variable given</para>
</listitem>
<listitem>
<para>= or ==: variable values must be equal to &lt;value for criterion&gt; for the variable given</para>
</listitem>
<listitem>
<para>%: variable values must be less than plus or minus &lt;value for criterion&gt; percent different for the variable given</para>
</listitem>
</itemizedlist>

</section>

</section>

<section id="sect_input_pelvconfig_ping">

<title>Plume-in-grid source selection</title>

<para>The /SPECIFY PING/ packet is used for selecting plume-in-grid sources based on source criteria. The packet contains the following entries:</para>

<itemizedlist>
<listitem>
<para>/SPECIFY PING/</para>

<para>Must appear to start the packet. Only one packet of this type is permitted.</para>
</listitem>
<listitem>
<para>&lt;Source selection criteria, explained next&gt;</para>
</listitem>
<listitem>
<para>/END/</para>

<para>Must appear to end the packet.</para>
</listitem>
</itemizedlist>

<para>The <emphasis>source selection criteria</emphasis> can be as many lines as you want. Each line contains at least three parts: (1) variable (explained in <xref linkend="sect_input_pelvconfig_ping_variables" />), (2) type of criterion (explained in <xref linkend="sect_input_pelvconfig_ping_criteria" />), and (3) value for criterion in the following structure:</para>

<para>&lt;variable&gt; &lt;type of criterion&gt; &lt;value for criterion&gt;</para>

<para>This structure is the same as that of the /SPECIFY ELEV GROUPS/ packet, and the description of the PinG source selection criteria is the same as that of the source grouping criteria (see <xref linkend="sect_input_pelvconfig_group" />).</para>

<section id="sect_input_pelvconfig_ping_variables">

<title>/SPECIFY PING/ variables</title>

<para>The PinG packet supports the same variables as the /SPECIFY ELEV GROUPS/ packet (see <xref linkend="sect_input_pelvconfig_group_variables" />) and the following additional variables:</para>

<itemizedlist>
<listitem>
<para>RISE: The plume rise as computed by the Briggs algorithm documented with the <command>Elevpoint</command> program (see <xref linkend="sect_programs_elevpoint" />). The &lt;value for criterion&gt; must be provided in meters. To select all sources with plume rise greater than or equal to 75 meters, you would input:</para>

<programlisting>RISE >= 75.</programlisting>
</listitem>
<listitem>
<para>SOURCE: Source number from the intermediate inventory file output by <command>Smkinven</command>. This variable permits selection of specific SMOKE sources as PinG sources.</para>
</listitem>
<listitem>
<para>PLANT: Plant ID code from the intermediate inventory file output by <command>Smkinven</command>. The <quote>PLANT</quote> variable can only be paired with the <quote>IS</quote> criterion type (below); no other criterion types (such as <quote>&lt;</quote> or <quote>=</quote>) are permitted. It is recommended that this variable be used in addition to the FIPS variable (below) to allow selection of all records at specific plants. It can also be combined with stack parameter variables.</para>
</listitem>
<listitem>
<para>FIPS: Country/state/county region code. This can be used with the <quote>PLANT</quote> variable or other variables to specific PinG sources by region. It is not recommended that this variable be used alone for specifying PinG sources, because that would result in insignificant sources being prepared for the AQM as PinG sources. It does not make sense to process such sources as PinG sources in AQMs.</para>
</listitem>
</itemizedlist>

</section>

<section id="sect_input_pelvconfig_ping_criteria">

<title>/SPECIFY PING/ selection criteria</title>

<para>The PinG packet supports the same types of criteria as the /SPECIFY ELEV GROUPS/ packet (see <xref linkend="sect_input_pelvconfig_group_criteria" />) and the following additional criteria types:</para>

<itemizedlist>
<listitem>
<para>TOP: This criterion type permits users to select sources with the largest values of the variable given. The &lt;value for criterion&gt; is the number of sources that will be selected based on the value given. This criterion type is permitted only when using a pollutant name as the &lt;variable&gt;.</para>
</listitem>
<listitem>
<para>IS: This criterion type must be used to assign a value to the <quote>PLANT</quote> variable.</para>
</listitem>
</itemizedlist>

<para>The following example illustrates a PinG packet that uses several of the variables and criterion types. In the following section is a further example that demonstrates using the rest of the variables and criterion types.</para>

<programlisting><![CDATA[
/SPECIFY PING/
RISE >= 150.
HT >= 100.
NOX TOP 100 AND SO2 TOP 100
NOX > 500.
/END/
]]></programlisting>

</section>

</section>

<section>

<title>Elevated source selection</title>

<para>The /SPECIFY ELEV/ packet is used for selecting elevated sources based on source criteria. The packet contains the following entries:</para>

<itemizedlist>
<listitem>
<para>/SPECIFY ELEV/</para>

<para>Must appear to start the packet. Only one packet of this type is permitted.</para>
</listitem>
<listitem>
<para>&lt;Source selection criteria, explained above&gt;</para>
</listitem>
<listitem>
<para>/END/</para>

<para>Must appear to end the packet.</para>
</listitem>
</itemizedlist>

<para>All of the source selection criteria for elevated sources are the same as the PinG selection criteria at this time (see <xref linkend="sect_input_pelvconfig_ping" />). To use the <quote>cutoff</quote> method for UAM-style processing, only the <quote>RISE</quote> variable should be used; the packet should not contain any other selection criteria. The <quote>cutoff</quote> method  is the traditional approach for elevated-source selection for UAM, UAM-V, REMSAD, and CAM<subscript>X</subscript>; you can decide if you want to use this traditional approach or a more complex set of criteria.</para>

<para>The following example illustrates using all of the different source selection variables and criterion types listed in the previous sections.</para>

<programlisting><![CDATA[
/SPECIFY ELEV/
RISE >= 40. AND RISE < 150.
NOX TOP 500
NH3 TOP 50
FIPS >= 37001 AND FIPS <= 37031
SOURCE > 100 AND SOURCE < 200
/END/
]]></programlisting>

</section>

</section>

<section id="sect_input_pstk">

<title><envar>PSTK</envar>: Point source stack replacement parameters file</title>

<para>The <envar>PSTK</envar> file is an ASCII file that contains the replacement stack parameters that <command>Smkinven</command> uses when stack parameters are missing from the inventory. The format of the file permits stack parameters to be replaced based on the point sources&rsquo; country/state/county code and SCC and is shown in <xref linkend="tbl_input_pstk" />.</para>

<table id="tbl_input_pstk">
<title>Format for <envar>PSTK</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry>Country/State/County code (Integer)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Ten-digit SCC (Character)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Stack height from ground (m) (Real)</entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry>Stack diameter (m) (Real)</entry>
</row>
<row>
<entry colname="Position">E</entry>
<entry>Stack exhaust temperature (K) (Real)</entry>
</row>
<row>
<entry colname="Position">F</entry>
<entry>Stack exhaust velocity (m/s) (Real)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_input_ptmplist">

<title><envar>PTMPLIST</envar>: List of hourly point source emissions files</title>

<para>The <envar>PTMPLIST</envar> file is an list file containing the full name and path of available hourly point source emissions files. This file is created automatically from the default SMOKE run scripts. Its format is shown in <xref linkend="tbl_input_ptmplist" />.</para>

<table id="tbl_input_ptmplist">
<title>Format for <envar>PTMPLIST</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry>Full name and path of hourly point source emissions file</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

</section>

<section id="sect_input_support">

<title>Other Support Files</title>

<section id="sect_input_artopnt">

<title><envar>ARTOPNT</envar>: Area-to-point conversions file</title>

<para>The <envar>ARTOPNT</envar> file provides the point-source locations to assign to stationary area and nonroad mobile sources. The file is separated into sections. Each section starts with a header that contains the SCCs that will receive the point-source locations and allocation factors contained in that section. Within the section, the content and format are similar to the EMS-HAP airport allocation factor files (e.g., <filename>ap_af1.sas7bdat</filename>).</para>

<para>Each section of the file starts with the following packet:</para>

<para>/LOCATIONS/ &lt;SCC 1&gt; &lt;SCC 2&gt; ... &lt;SCC 9&gt;</para>

<para>for SCCs 1 through 9 that apply to the section. The SCCs must be full 10-digit SCCs separated by spaces. A maximum of 9 SCCs may appear in one /LOCATIONS/ packet. If more than 9 SCCs are needed for a specific section, then multiple /LOCATIONS/ packets can be included in subsequent rows prior to the section to which they apply. In other words, two or more lines in sequence may include the/LOCATIONS/ packet, and all of the SCCs from both packets will be applied to the subsequent section of the file.</para>

<para>Within each section delineated by the /LOCATIONS/ packets, the format is shown in <xref linkend="tbl_input_artopnt" />.</para>

<table id="tbl_input_artopnt">
<title>Format for <envar>ARTOPNT</envar></title>

<tgroup cols="4">
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="55*" />

<thead>
<row>
<entry>Position</entry>
<entry>Name</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1-6</entry>
<entry>COID</entry>
<entry>Int</entry>
<entry>Country, state, and county code (CSSYYY, where C = country, SS=state, and YYY=county) (required)</entry>
</row>
<row>
<entry>8-9</entry>
<entry>STABBR</entry>
<entry>Char 2</entry>
<entry>Postal abbreviation for state (not used by SMOKE)</entry>
</row>
<row>
<entry>11-32</entry>
<entry>COUNTY</entry>
<entry>Char 22</entry>
<entry>County name (not used by SMOKE)</entry>
</row>
<row>
<entry>34-37</entry>
<entry>LOCID</entry>
<entry>Char 4</entry>
<entry>Airport ID (unused for now, required for ISCST3)</entry>
</row>
<row>
<entry>39-61</entry>
<entry>NAME</entry>
<entry>Char 23</entry>
<entry>Airport name (if name contains spaces, commas, or semi-colons, then the entire name must be enclosed in double-quotes)</entry>
</row>
<row>
<entry>63-84</entry>
<entry>CITY</entry>
<entry>Char 22</entry>
<entry>City name (not used by SMOKE)</entry>
</row>
<row>
<entry>86-93</entry>
<entry>ARPT_USE</entry>
<entry>Char 8</entry>
<entry>Airport purpose (not used by SMOKE)</entry>
</row>
<row>
<entry>97-109</entry>
<entry>LON</entry>
<entry>Real</entry>
<entry>Longitude for the emissions (required)</entry>
</row>
<row>
<entry>114-124</entry>
<entry>LAT</entry>
<entry>Real</entry>
<entry>Latitude for the emissions (required)</entry>
</row>
<row>
<entry>126-139</entry>
<entry>ALLOC</entry>
<entry>Real</entry>
<entry>Allocation factor for this lat/lon, county, and SCC (required)</entry>
</row>
</tbody>
</tgroup>
</table>

<para>The section ends with the start of another packet (indicated by a new /LOCATIONS/ header line or with the end of the file.</para>

</section>

<section id="sect_input_costcy">

<title><envar>COSTCY</envar>: Country, state, and county names and data</title>

<para>The <envar>COSTCY</envar> file is used to assign numeric codes to the various countries, states, and counties to be modeled; the file also provides information concerning default time zones and Daylight Savings observance. A header line can be used in this file to indicate that population data are contained in the file as the last column on each line of the /COUNTY/ packet. The header line and additional population column are optional. If it is present in the file, it must be on the first line of the file and use the following syntax:</para>

<para>#POPULATION &lt;year&gt;</para>

<para>where &lt;year&gt; is a 4-digit year.</para>

<para>The country, state, and county codes in each section of this file must be sorted in increasing order. If they are not, the programs reading this file will give an error. The format of the <envar>COSTCY</envar> file is shown in <xref linkend="tbl_input_costcy" />.</para>

<table id="tbl_input_costcy">
<title>Format for <envar>COSTCY</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1</entry>
<entry>A</entry>
<entry>Start of country section using packet /COUNTRY/</entry>
</row>
<row>
<entry>2+</entry>
<entry>1</entry>
<entry>Country code (Integer)</entry>
</row>
<row>
<entry colname="Position">3-22</entry>
<entry>Country name (Character)</entry>
</row>
<row>
<entry>3</entry>
<entry>A</entry>
<entry>Start of state section using packet /STATE/</entry>
</row>
<row>
<entry>4+</entry>
<entry>1</entry>
<entry>Country code; should match an entry in the /COUNTRY/ section (Integer)</entry>
</row>
<row>
<entry colname="Position">2-3</entry>
<entry>State code (Integer)</entry>
</row>
<row>
<entry colname="Position">4-5</entry>
<entry>State abbreviation (Character) (not used by SMOKE)</entry>
</row>
<row>
<entry colname="Position">7-26</entry>
<entry>State name (Character)</entry>
</row>
<row>
<entry colname="Position">27-28</entry>
<entry>EPA Region (Integer) (not used by SMOKE)</entry>
</row>
<row>
<entry colname="Position">32-34</entry>
<entry>Standard (non-Daylight-Saving) state time zone; see <xref linkend="tbl_input_costcy_zones" /> for valid time zones (Character) (optional)</entry>
</row>
<row>
<entry>5</entry>
<entry>A</entry>
<entry>Start of county section using packet /COUNTY/</entry>
</row>
<row>
<entry>6+</entry>
<entry>2-3</entry>
<entry>State abbreviation, should match an entry in the /STATE/ section (Character) (not used by SMOKE)</entry>
</row>
<row>
<entry colname="Position">5-24</entry>
<entry>County name (Character)</entry>
</row>
<row>
<entry colname="Position">26</entry>
<entry>Country code, should match the one in the /COUNTRY/ section (Integer)</entry>
</row>
<row>
<entry colname="Position">27-28</entry>
<entry>State code, should match the one in the /STATE/ section (Integer)</entry>
</row>
<row>
<entry colname="Position">29-31</entry>
<entry>County code (Integer)</entry>
</row>
<row>
<entry colname="Position">32-34</entry>
<entry>AEROS State Code (Integer) (not used by SMOKE)</entry>
</row>
<row>
<entry colname="Position">35-38</entry>
<entry>AEROS County Code (Integer) (not used by SMOKE)</entry>
</row>
<row>
<entry colname="Position">40-42</entry>
<entry>Standard (non-Daylight-Saving) county time zone; see <xref linkend="tbl_input_costcy_zones" /> for valid time zones (Character)</entry>
</row>
<row>
<entry colname="Position">43</entry>
<entry>Leaving this field blank indicates that Daylight Saving time is used in the county. Any character in this field will turn off the use of Daylight Saving time in the county.</entry>
</row>
<row>
<entry colname="Position">44-52</entry>
<entry>County center longitude (degrees) (Real) (not used by SMOKE)</entry>
</row>
<row>
<entry colname="Position">53-61</entry>
<entry>County center latitude (degrees) (Real) (not used by SMOKE)</entry>
</row>
<row>
<entry colname="Position">63-74</entry>
<entry>County area (square miles) (Real) (not used by SMOKE)</entry>
</row>
<row>
<entry colname="Position">76-84</entry>
<entry>Westernmost longitude (degrees) (Real) (not used by SMOKE)</entry>
</row>
<row>
<entry colname="Position">86-94</entry>
<entry>Easternmost longitude (degrees) (Real) (not used by SMOKE)</entry>
</row>
<row>
<entry colname="Position">95-103</entry>
<entry>Southernmost latitude (degrees) (Real) (not used by SMOKE)</entry>
</row>
<row>
<entry colname="Position">104-112</entry>
<entry>Northernmost latitude (degrees) (Real) (not used by SMOKE)</entry>
</row>
<row>
<entry colname="Position">114-128</entry>
<entry>Population for the county (optional; used only by <command>Smkreport</command> with the NORMALIZE POPULATION instruction)</entry>
</row>
</tbody>
</tgroup>
</table>

<table id="tbl_input_costcy_zones">
<title>Valid <envar>COSTCY</envar> time zones</title> 

<tgroup cols="3">
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="70*" />

<thead>
<row>
<entry>GMT</entry>
<entry>Time zone</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>+0:00</entry>
<entry>GMT</entry>
<entry>Greenwich mean time (also known as Zulu time)</entry>
</row>
<row>
<entry>-4:00</entry>
<entry>AST</entry>
<entry>Atlantic standard time</entry>
</row>
<row>
<entry>-5:00</entry>
<entry>EST</entry>
<entry>Eastern standard time</entry>
</row>
<row>
<entry>-6:00</entry>
<entry>CST</entry>
<entry>Central standard time</entry>
</row>
<row>
<entry>-7:00</entry>
<entry>MST</entry>
<entry>Mountain standard time</entry>
</row>
<row>
<entry>-8:00</entry>
<entry>PST</entry>
<entry>Pacific standard time</entry>
</row>
<row>
<entry>-9:00</entry>
<entry>YST</entry>
<entry>Yukon standard time</entry>
</row>
<row>
<entry>-10:00</entry>
<entry>HST </entry>
<entry>Hawaiian  standard time</entry>
</row>
<row>
<entry>-10:00</entry>
<entry>CAT</entry>
<entry>Central Alaska time</entry>
</row>
<row>
<entry>-11:00</entry>
<entry>NT</entry>
<entry>Nome time</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_input_invtable">

<title><envar>INVTABLE</envar>: Inventory table</title>

<para>The <envar>INVTABLE</envar> file replaces the <envar>SIPOLS</envar> and <envar>ACTVNAMS</envar> files previously used by SMOKE. <command>Smkinven</command> uses the inventory table to select the inventory pollutants that will be output by <command>Smkinven</command>. The valid pollutants are again checked at the end of SMOKE processing by <command>Smkmerge</command>, to ensure that the program knows about all of the pollutants and also to set the order of the output variables (output species are sorted by the order of their pollutants in the inventory table and for multiple species per pollutant, by alphabetical order) You can use the <envar>INVTABLE</envar> to drop inventory pollutants in <command>Smkinven</command> without having to modify the inventory files, simply by modifying <envar>INVTABLE</envar>. The units used in the SMOKE intermediate files are listed in this file. The SMOKE programs <command>Spcmat</command>, <command>Temporal</command>, and <command>Emisfac</command> use this file to determine which pollutants should be included in the NONHAPVOC or NONHAPTOG calculation.</para>

<para>It is possible for a user to choose two pollutants that result in double counting the emissions from the inventory. For example, you may want to model both benzo(a)pyrene and 7-PAH which, would result in the emissions associated with CAS number 205992 (for benzo(a)pyrene) to be duplicated. The user is responsible for the choices made and the resulting changes in inventory mass.</para>

<para>The format of the <envar>INVTABLE</envar> is shown in <xref linkend="tbl_input_invtable" />.</para>

<table id="tbl_input_invtable">
<title>Format for <envar>INVTABLE</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" />
<colspec colwidth="65*" />
<colspec colwidth="20*" />

<thead>
<row>
<entry>Position</entry>
<entry>Description</entry>
<entry>Type</entry>
</row>
</thead>

<tbody>
<row>
<entry>1-11</entry>
<entry>Inventory data name</entry>
<entry>11-character string</entry>
</row>
<row>
<entry>13-22</entry>
<entry>Chemical Abstract Service (CAS) number (optional, except for toxic compounds)</entry>
<entry>10-character string</entry>
</row>
<row>
<entry>24-28</entry>
<entry>Storage and Retrieval of Aerometric Data (SAROAD) code (optional)</entry>
<entry>Integer</entry>
</row>
<row>
<entry>30</entry>
<entry>Reactivity group (not used by SMOKE)</entry>
<entry>Integer</entry>
</row>
<row>
<entry>32</entry>
<entry>Keep (Y or N)</entry>
<entry>1-character string</entry>
</row>
<row>
<entry>34-38</entry>
<entry>Factor</entry>
<entry>Float</entry>
</row>
<row>
<entry>40</entry>
<entry>VOC or TOG component (V/T/N)</entry>
<entry>1-character string</entry>
</row>
<row>
<entry>42</entry>
<entry>Model species (Y/N)</entry>
<entry>1-character string</entry>
</row>
<row>
<entry>44</entry>
<entry>Explicit in mechanism (Y/N)</entry>
<entry>1-character string</entry>
</row>
<row>
<entry>46</entry>
<entry>Activity</entry>
<entry>1-character string</entry>
</row>
<row>
<entry>48-50</entry>
<entry>NTI</entry>
<entry>Integer</entry>
</row>
<row>
<entry>52-67</entry>
<entry>Units to be used in SMOKE intermediate files (<emphasis>changing not recommended</emphasis>)</entry>
<entry>16-character string</entry>
</row>
<row>
<entry>69-108</entry>
<entry>Inventory data description - a description of the name provided in columns 1-11.</entry>
<entry>40-character string</entry>
</row>
<row>
<entry>110-149</entry>
<entry>CAS pollutant description - a description of the CAS or pollutant code contained in the inventory</entry>
<entry>40-character string</entry>
</row>
</tbody>
</tgroup>
</table>

<para>The columns in the <envar>INVTABLE</envar> are used as follows:</para>

<itemizedlist>
<listitem>
<para>Inventory data name: Unique name for pollutant or activity that will be stored and processed by SMOKE. Because of I/O API restrictions, these names can only include alphanumeric characters and underscores, and the first character must be a letter. In addition, because SMOKE uses double-underscore as a separator when appending to variable names, no double-underscores are permitted in these names.</para>
</listitem>
<listitem>
<para>CAS number: This code represents the pollutant that is provided in the inventory file input into SMOKE.  It is named the <quote>pollutant code</quote> in the NIF 2.0 format, but we call it <quote>CAS number</quote> to distinguish it from a SMOKE pollutant, and because this number actually is a CAS number when the pollutant contained in the inventory has a valid CAS number.</para>
</listitem>
<listitem>
<para>SAROAD code: The SAROAD code is used by SMOKE only for reporting purposes, since the inventory data name is used by SMOKE for assignments of profiles processing.</para>
</listitem>
<listitem>
<para>Reactivity group: The reactivity group for the ASPEN model. It is not used in SMOKE.</para>
</listitem>
<listitem>
<para>Keep: Indicates whether SMOKE should keep the CAS number associated with this inventory data name. SMOKE will keep any inventory data with at least one CAS number with a Y.</para>
</listitem>
<listitem>
<para>Factor: The adjustment factor to use in splitting the emissions associated with a CAS number into different inventory data names, or reducing the mass of a metal compound associated with a CAS number to account for the metal mass only.</para>
</listitem>
<listitem>
<para>VOC or TOG component: A <quote>V</quote> should be entered if the CAS number is part of VOC emissions or TOG emissions. A <quote>T</quote> should be entered if the CAS number is part of TOG emissions only. An <quote>N</quote> should be entered if the CAS number is part of neither VOC or TOG. Any other value other than <quote>V</quote> or <quote>T</quote> will be treated as an <quote>N</quote>.</para>
</listitem>
<listitem>
<para>Model species: A <quote>Y</quote> should be entered if the pollutant is also a VOC model species for the AQM being targeted for the run. Any other values will be treated as an <quote>N</quote>.</para>
</listitem>
<listitem>
<para>Explicit in mechanism: A <quote>Y</quote> should be entered if (1) the pollutant is a VOC species (the model-species column must be <quote>Y</quote> as well), and (2) that model-species is explicitly treated in the AQM&rsquo;s chemical mechanism. The pollutant can be an explicit species in the chemical mechanism only when the <envar>GSPRO</envar> file definitions of the lumped VOC species have been adjusted to account for the pollutants/species that are explicit in the mechanism. The current explicit-in-mechanism species being used in the toxics CB4 mechanism for CMAQ are formaldehyde, acetaldheyde, acrolein and 1,3 butadiene.</para>
</listitem>
<listitem>
<para>Activity: A <quote>Y</quote> should be entered if the inventory data name is a type of activity instead of emissions. Any other values will be treated as an <quote>N</quote>.</para>
</listitem>
<listitem>
<para>NTI: Code identifying a HAP on the Clean Air Act HAP list (list of 188 HAPs). Not currently used by SMOKE; will be used in the future for growing HAP emissions to future years.</para>
</listitem>
<listitem>
<para>Units: The units to store the data in the SMOKE intermediate files. This should be <quote>tons/year</quote> for emissions values, <quote>miles/year</quote> for VMT, and <quote>miles/hr</quote> for speed. Although this is provided as an input field to allow possible future changes, these values should <emphasis>not</emphasis> be changed by the user and are unrelated to the units of the emissions in the input files.</para>
</listitem>
<listitem>
<para>Inventory data descriptions: This is the description of the inventory data name listed in columns 1-11.</para>
</listitem>
<listitem>
<para>CAS pollutant description: Describes the pollutant that is coming from the inventory that is being input into SMOKE.</para>
</listitem>
</itemizedlist>

</section>

<section id="sect_input_mactdesc">

<title><envar>MACTDESC</envar>: MACT code descriptions</title>

<para>This file provides textual descriptions of the MACT codes. The format of the <envar>MACTDESC</envar> file is shown in <xref linkend="tbl_input_mactdesc" />.</para>

<table id="tbl_input_mactdesc">
<title>Format for <envar>MACTDESC</envar></title>

<tgroup cols="4">
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="55*" />

<thead>
<row>
<entry>Position</entry>
<entry>Name</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>A</entry>
<entry>CODE</entry>
<entry>Char (6)</entry>
<entry>MACT code</entry>
</row>
<row>
<entry>B</entry>
<entry>DESC</entry>
<entry>Char (200)</entry>
<entry>Description for MACT code</entry>
</row>
</tbody>
</tgroup>
</table>

<example>
</example>

</section>

<section id="sect_input_naicsdesc">

<title><envar>NAICSDESC</envar>: NAICS code descriptions</title>

<para>This file provides text descriptions of the NAICS codes. The format of the <envar>NAICSDESC</envar> file is shown in <xref linkend="tbl_input_naicsdesc" />.</para>

<table id="tbl_input_naicsdesc">
<title>Format for <envar>NAICSDESC</envar></title>

<tgroup cols="4">
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="55*" />

<thead>
<row>
<entry>Position</entry>
<entry>Name</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>A</entry>
<entry>CODE</entry>
<entry>Char (6)</entry>
<entry>NAICS code</entry>
</row>
<row>
<entry>B</entry>
<entry>DESC</entry>
<entry>Char (200)</entry>
<entry>Description for NAICS code</entry>
</row>
</tbody>
</tgroup>
</table>

<example>
</example>

</section>

<section id="sect_input_nhapexclude">

<title><envar>NHAPEXCLUDE</envar>: NonHAP VOC calculation exclusions file</title>

<para>The <envar>NHAPEXCLUDE</envar> file provides a way to exclude some sources from the NONHAPVOC or NONHAPTOG calculation (see <xref linkend="sect_concepts_combine_toxics" />. When the <envar>NHAPEXCLUDE</envar> file is used, <command>Smkinven</command> will not use the toxics pollutants from the excluded sources to compute NONHAPVOC or NONHAPTOG, but rather will keep the VOC or TOG emissions and naming the same. The toxic emissions will be retained or dropped by <command>Smkinven</command>, depending on the status of the pollutants in the <envar>INVTABLE</envar> file (see <xref linkend="sect_input_invtable" />). If the pollutant is a model species and an explicit species, then the toxic emissions will not be dropped. If the pollutant is only a model species but not an explicit species, it will be renamed with _NOI appended to the name. If it is neither a model species nor an explicit species, the toxics mass will be dropped to prevent double counting of the inventory mass.</para>

<para>The <envar>NHAPEXCLUDE</envar> file contains the country/state, county, and SCC codes of thouses sources that SMOKE is to exclude from the NONHAP calculation. The file format is shown in <xref linkend="tbl_input_nhapexclude" />.</para>

<table id="tbl_input_nhapexclude">
<title>Format for <envar>NHAPEXCLUDE</envar></title>

<tgroup cols="4">
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="55*" />

<thead>
<row>
<entry>Position</entry>
<entry>Name</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>A</entry>
<entry>Country, state, and county code</entry>
<entry>Integer</entry>
<entry>Six digit FIPS code for country, state, and county as CSSYYY where C=country, SS=state, and YYY=county</entry>
</row>
<row>
<entry>B</entry>
<entry>SCC</entry>
<entry>10-character string</entry>
<entry>Ten character source classification category (SCC) code</entry>
</row>
</tbody>
</tgroup>
</table>

<para>Zeros can be used within the country/state/county code and the SCC code to make an entry more generic. For example, a SCC-only entry would have a zero for the country/state/county code. For a left-2 SCC entry, the final eight characters of the SCC would be zero. The following list illustrates entries for each of the 14 possible cross-reference levels. See <xref linkend="sect_concepts_scc_codes" /> for more information about the different levels within an SCC.</para>

<orderedlist>
<listitem>
<para>001001 2501080050 (select a specific county and SCC)</para>
</listitem>
<listitem>
<para>001001 2501080000 (select a specific county and all SCCs that match levels 1, 2, and 3)</para>
</listitem>
<listitem>
<para>001001 2501000000 (select a specific county and all SCCs that match levels 1 and 2)</para>
</listitem>
<listitem>
<para>001001 2500000000 (select a specific county and all SCCs that match level 1)</para>
</listitem>
<listitem>
<para>001000 2501080050 (select a whole state and SCC)</para>
</listitem>
<listitem>
<para>001000 2501080000 (select a whole state and all SCCs that match levels 1, 2, and 3)</para>
</listitem>
<listitem>
<para>001000 2501000000 (select a whole state and all SCCs that match levels 1 and 2)</para>
</listitem>
<listitem>
<para>001000 2500000000 (select a whole state and all SCCs that match level 1)</para>
</listitem>
<listitem>
<para>001001 0000000000 (select all SCCs in a specific county)</para>
</listitem>
<listitem>
<para>001000 0000000000 (select all SCCs in a specific state)</para>
</listitem>
<listitem>
<para>000000 2501080050 (select a specific SCC)</para>
</listitem>
<listitem>
<para>000000 2501080000 (select all SCCs that match levels 1, 2, and 3)</para>
</listitem>
<listitem>
<para>000000 2501000000 (select all SCCs that match levels 1 and 2)</para>
</listitem>
<listitem>
<para>000000 2500000000 (select all SCCs that match level 1)</para>
</listitem>
</orderedlist>

</section>

<section id="sect_input_orisdesc">

<title><envar>ORISDESC</envar>: ORIS description</title>

<para>The <envar>ORISDESC</envar> file provides descriptive information for the ORIS IDs, which <command>Smkinven</command> uses when reporting the status of reading and matching CEM data. The information in this file will appear in the <envar>REPINVEN</envar> output file from <command>Smkinven</command>. The format of the <envar>ORISDESC</envar> file is shown in <xref linkend="tbl_input_orisdesc" />. Note that only the first five columns of data need to appear in the file; the rest can be blank because SMOKE does not use any information past column E.</para>

<table id="tbl_input_orisdesc">
<title>Format for <envar>ORISDESC</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Line</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry>DOE Plant ID (ORIS ID) (6-character string); must match the same field in the IDA-formatted PTINV file.</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>Country/State/County code (FIPS code) (6-digit integer)</entry>
</row>
<row>
<entry colname="Position">C</entry>
<entry>Latitude (not used by SMOKE), use -9 for missing</entry>
</row>
<row>
<entry colname="Position">D</entry>
<entry>Longitude (not used by SMOKE), use -9 for missing</entry>
</row>
<row>
<entry colname="Position">E</entry>
<entry>Plant name (80-character string)</entry>
</row>
<row>
<entry colname="Position">F</entry>
<entry>Operating company (not used by SMOKE)</entry>
</row>
<row>
<entry colname="Position">G</entry>
<entry>EPA Region (not used by SMOKE)</entry>
</row>
<row>
<entry colname="Position">H</entry>
<entry>State name (not used by SMOKE)</entry>
</row>
<row>
<entry colname="Position">I</entry>
<entry>County name (not used by SMOKE)</entry>
</row>
<row>
<entry colname="Position">J</entry>
<entry>North American Electric Reliability Council Region (e.g., ASCC, ECAR, ERCOT, MAAC, MAIN, MAPP, NPCC, SERC, SPP, WSCC) (not used by SMOKE)</entry>
</row>
<row>
<entry colname="Position">K</entry>
<entry><para>Acid rain program phase (not used by SMOKE)</para>

<itemizedlist spacing="compact">
<listitem>P1 = Phase I Generator, regulation began in 1995-1999</listitem>
<listitem>P1.5 = Phase II Generator, source opted to begin early regulation prior to the year 2000</listitem>
<listitem>P2 = Phase II Generator, generator regulation began in year 2000</listitem>
<listitem>If blank then plant is likely in a nongenerating status (such as retired, deferred, exempt, or future)</listitem>
</itemizedlist>

</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_input_sccdesc">

<title><envar>SCCDESC</envar>: Source category code descriptions</title>

<para>This file provides textual descriptions of the SCCs, which are used by two programs:</para>

<itemizedlist>
<listitem>
<para><command>Smkinven</command> when reading hourly emissions data (for reporting in the <envar>REPINVEN</envar> output file)</para>
</listitem>
<listitem>
<para><command>Smkreport</command> when the user requests the SCC description be included in the report.</para>
</listitem>
</itemizedlist>

<para>This file should not include any descriptions that have the pipe symbol (|), single quotes, or double quotes. It is okay to include dashes, slashes, semicolons, colons, commas, and periods in descriptions. The format of the <envar>SCCDESC</envar> file is shown in <xref linkend="tbl_input_sccdesc" />.</para>

<table id="tbl_input_sccdesc">
<title>Format for <envar>SCCDESC</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Lines</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry>SCC (10-character string)</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry>SCC description (200-character string)</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

<section id="sect_input_sicdesc">

<title><envar>SICDESC</envar>: SIC code descriptions</title>

<para>This file provides text descriptions of the SIC codes. The format of the <envar>SICDESC</envar> file is shown in <xref linkend="tbl_input_sicdesc" />.</para>

<table id="tbl_input_sicdesc">
<title>Format for <envar>SICDESC</envar></title>

<tgroup cols="4">
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="15*" />
<colspec colwidth="55*" />

<thead>
<row>
<entry>Position</entry>
<entry>Name</entry>
<entry>Type</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>A</entry>
<entry>CODE</entry>
<entry>Char (6)</entry>
<entry>SIC code</entry>
</row>
<row>
<entry>B</entry>
<entry>DESC</entry>
<entry>Char (200)</entry>
<entry>Description for SIC code</entry>
</row>
</tbody>
</tgroup>
</table>

<example>
</example>

</section>

<section id="sect_input_vnammap">

<title><envar>VNAMMAP</envar>: Variable name mapping file</title>

<para>This file is used to rename variables output from <command>Smk2emis</command>, which converts the I/O API format to the 2-D-UAM <quote>EMISSIONS</quote> file format. The <envar>VNAMMAP</envar> file lists the SMOKE variable names and the variable names to be output from <command>Smk2emis</command>. It is needed for SMOKE support of UAM-AERO, which requires variable names that cannot be supported by the I/O API format. More information on <command>Smk2emis</command> is provided in <xref linkend="sect_utilities_smk2emis" />.</para>

<para>The format of the <envar>VNAMMAP</envar> file is shown in <xref linkend="tbl_input_vnammap" />.</para>

<table id="tbl_input_vnammap">
<title>Format for <envar>VNAMMAP</envar></title>

<tgroup cols="3">
<colspec colwidth="15*" colname="Line" />
<colspec colwidth="15*" colname="Position" />
<colspec colwidth="70*" colname="Description" />

<thead>
<row>
<entry>Lines</entry>
<entry>Position</entry>
<entry>Description</entry>
</row>
</thead>

<tbody>
<row>
<entry>1+</entry>
<entry>A</entry>
<entry>SMOKE I/O API variable name</entry>
</row>
<row>
<entry colname="Position">B</entry>
<entry><command>Smk2emis</command> output name to be written to the UAM <quote>EMISSIONS</quote> file binary format</entry>
</row>
</tbody>
</tgroup>
</table>

</section>

</section>

</chapter>
